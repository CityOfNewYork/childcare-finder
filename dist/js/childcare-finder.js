!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=178)}([function(t,e,n){"use strict";n.r(e),n.d(e,"boundingExtent",function(){return a}),n.d(e,"buffer",function(){return s}),n.d(e,"clone",function(){return u}),n.d(e,"closestSquaredDistanceXY",function(){return c}),n.d(e,"containsCoordinate",function(){return l}),n.d(e,"containsExtent",function(){return h}),n.d(e,"containsXY",function(){return f}),n.d(e,"coordinateRelationship",function(){return p}),n.d(e,"createEmpty",function(){return d}),n.d(e,"createOrUpdate",function(){return y}),n.d(e,"createOrUpdateEmpty",function(){return g}),n.d(e,"createOrUpdateFromCoordinate",function(){return v}),n.d(e,"createOrUpdateFromCoordinates",function(){return _}),n.d(e,"createOrUpdateFromFlatCoordinates",function(){return m}),n.d(e,"createOrUpdateFromRings",function(){return b}),n.d(e,"equals",function(){return O}),n.d(e,"extend",function(){return E}),n.d(e,"extendCoordinate",function(){return T}),n.d(e,"extendCoordinates",function(){return S}),n.d(e,"extendFlatCoordinates",function(){return x}),n.d(e,"extendRings",function(){return C}),n.d(e,"extendXY",function(){return w}),n.d(e,"forEachCorner",function(){return j}),n.d(e,"getArea",function(){return R}),n.d(e,"getBottomLeft",function(){return P}),n.d(e,"getBottomRight",function(){return I}),n.d(e,"getCenter",function(){return k}),n.d(e,"getCorner",function(){return L}),n.d(e,"getEnlargedArea",function(){return M}),n.d(e,"getForViewAndSize",function(){return A}),n.d(e,"getHeight",function(){return F}),n.d(e,"getIntersectionArea",function(){return D}),n.d(e,"getIntersection",function(){return N}),n.d(e,"getMargin",function(){return G}),n.d(e,"getSize",function(){return Y}),n.d(e,"getTopLeft",function(){return B}),n.d(e,"getTopRight",function(){return U}),n.d(e,"getWidth",function(){return X}),n.d(e,"intersects",function(){return z}),n.d(e,"isEmpty",function(){return H}),n.d(e,"returnOrUpdate",function(){return W}),n.d(e,"scaleFromCenter",function(){return K}),n.d(e,"intersectsSegment",function(){return V}),n.d(e,"applyTransform",function(){return Z});var i=n(10),r=n(69),o=n(26);function a(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)T(e,t[n]);return e}function s(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function u(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function c(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function l(t,e){return f(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function p(t,e){var n=t[0],i=t[1],r=t[2],a=t[3],s=e[0],u=e[1],c=o.a.UNKNOWN;return s<n?c|=o.a.LEFT:s>r&&(c|=o.a.RIGHT),u<i?c|=o.a.BELOW:u>a&&(c|=o.a.ABOVE),c===o.a.UNKNOWN&&(c=o.a.INTERSECTING),c}function d(){return[1/0,1/0,-1/0,-1/0]}function y(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function g(t){return y(1/0,1/0,-1/0,-1/0,t)}function v(t,e){var n=t[0],i=t[1];return y(n,i,n,i,e)}function _(t,e){return S(g(e),t)}function m(t,e,n,i,r){return x(g(r),t,e,n,i)}function b(t,e){return C(g(e),t)}function O(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function E(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function T(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function S(t,e){for(var n=0,i=e.length;n<i;++n)T(t,e[n]);return t}function x(t,e,n,i,r){for(;n<i;n+=r)w(t,e[n],e[n+1]);return t}function C(t,e){for(var n=0,i=e.length;n<i;++n)S(t,e[n]);return t}function w(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function j(t,e,n){var i;return(i=e.call(n,P(t)))?i:(i=e.call(n,I(t)))?i:(i=e.call(n,U(t)))?i:(i=e.call(n,B(t)))||!1}function R(t){var e=0;return H(t)||(e=X(t)*F(t)),e}function P(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function k(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function L(t,e){var n;return e===r.a.BOTTOM_LEFT?n=P(t):e===r.a.BOTTOM_RIGHT?n=I(t):e===r.a.TOP_LEFT?n=B(t):e===r.a.TOP_RIGHT?n=U(t):Object(i.a)(!1,13),n}function M(t,e){var n=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-i)}function A(t,e,n,i,r){var o=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),u=Math.sin(n),c=o*s,l=o*u,h=a*s,f=a*u,p=t[0],d=t[1],g=p-c+f,v=p-c-f,_=p+c-f,m=p+c+f,b=d-l-h,O=d-l+h,E=d+l+h,T=d+l-h;return y(Math.min(g,v,_,m),Math.min(b,O,E,T),Math.max(g,v,_,m),Math.max(b,O,E,T),r)}function F(t){return t[3]-t[1]}function D(t,e){return R(N(t,e))}function N(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return z(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):g(i),i}function G(t){return X(t)+F(t)}function Y(t){return[t[2]-t[0],t[3]-t[1]]}function B(t){return[t[0],t[3]]}function U(t){return[t[2],t[3]]}function X(t){return t[2]-t[0]}function z(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function H(t){return t[2]<t[0]||t[3]<t[1]}function W(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function K(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function V(t,e,n){var i=!1,r=p(t,e),a=p(t,n);if(r===o.a.INTERSECTING||a===o.a.INTERSECTING)i=!0;else{var s,u,c=t[0],l=t[1],h=t[2],f=t[3],d=e[0],y=e[1],g=n[0],v=n[1],_=(v-y)/(g-d);a&o.a.ABOVE&&!(r&o.a.ABOVE)&&(i=(s=g-(v-f)/_)>=c&&s<=h),i||!(a&o.a.RIGHT)||r&o.a.RIGHT||(i=(u=v-(g-h)*_)>=l&&u<=f),i||!(a&o.a.BELOW)||r&o.a.BELOW||(i=(s=g-(v-l)/_)>=c&&s<=h),i||!(a&o.a.LEFT)||r&o.a.LEFT||(i=(u=v-(g-c)*_)>=l&&u<=f)}return i}function Z(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return y(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"e",function(){return h}),n.d(e,"d",function(){return f});var i=n(11);function r(t,e,n,i){for(var r,o=0,a=t.length;o<a;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function o(t,e){var n=a(t);return n?n[e]:void 0}function a(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function s(t,e){var n=o(t,e);if(n){for(var r=0,s=n.length;r<s;++r)t.removeEventListener(e,n[r].boundListener),Object(i.b)(n[r]);n.length=0;var u=a(t);u&&(delete u[e],0===Object.keys(u).length&&function(t){delete t.ol_lm}(t))}}function u(t,e,n,i,o){var s=a(t,!0),u=s[e];u||(u=s[e]=[]);var c=r(u,n,i,!1);return c?o||(c.callOnce=!1):(c={bindTo:i,callOnce:!!o,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&h(t),n.call(i,e)};return t.boundListener=e,e}(c)),u.push(c)),c}function c(t,e,n,i){return u(t,e,n,i,!0)}function l(t,e,n,i){var a=o(t,e);if(a){var s=r(a,n,i,!0);s&&h(s)}}function h(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&s(t.target,t.type)}Object(i.b)(t)}}function f(t){var e=a(t);if(e)for(var n in e)s(t,n)}},function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a});var r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}var a="5.3.3"},function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return h}),n.d(e,"f",function(){return f}),n.d(e,"g",function(){return p}),n.d(e,"i",function(){return d}),n.d(e,"k",function(){return y}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return v}),n.d(e,"j",function(){return _}),n.d(e,"h",function(){return m}),n.d(e,"o",function(){return b}),n.d(e,"a",function(){return S}),n.d(e,"p",function(){return j}),n.d(e,"q",function(){return R}),n.d(e,"s",function(){return P}),n.d(e,"r",function(){return I}),n.d(e,"n",function(){return k});var i=n(77),r=n(16),o=n(11),a=n(97),s=n(9),u="10px sans-serif",c=[0,0,0,1],l="round",h=[],f=0,p="round",d=10,y=[0,0,0,1],g="center",v="middle",_=[0,0,0,0],m=1,b=new a.a,O={},E=null,T={},S=function(){var t,e,n=60,r=O,a="32px ",s=["monospace","serif"],u=s.length,c="wmytzilWMYTZIL@#/&?$%10";function l(t){for(var n=x(),i=100;i<=700;i+=300){for(var r=i+" ",o=!0,l=0;l<u;++l){var h=s[l];if(n.font=r+a+h,e=n.measureText(c).width,t!=h){n.font=r+a+t+","+h;var f=n.measureText(c).width;o=o&&f!=e}}if(o)return!0}return!1}function h(){var e=!0;for(var i in r)r[i]<n&&(l(i)?(r[i]=n,Object(o.b)(T),E=null,b.clear()):(++r[i],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Object(i.c)(e);if(o)for(var a=0,s=o.length;a<s;++a){var u=o[a];u in r||(r[u]=n,l(u)||(r[u]=0,void 0===t&&(t=setInterval(h,32))))}}}();function x(){return E||(E=Object(r.a)(1,1)),E}var C,w,j=(w=T,function(t){var e=w[t];return null==e&&(C||((C=document.createElement("span")).textContent="M",C.style.margin=C.style.padding="0 !important",C.style.position="absolute !important",C.style.left="-99999px !important"),C.style.font=t,document.body.appendChild(C),e=w[t]=C.offsetHeight,document.body.removeChild(C)),e});function R(t,e){var n=x();return t!=n.font&&(n.font=t),n.measureText(e).width}function P(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var I=Object(s.c)();function k(t,e,n,i,r,o,a,s,u,c,l){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,a,s,u,c,a*l,s*l),h&&(t.globalAlpha=h),e&&t.setTransform.apply(t,I)}},function(t,e,n){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,n){"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return h}),n(10);var r="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function o(t,e,n,i,r,o){var s=r-n,u=o-i;if(0!==s||0!==u){var c=((t-n)*s+(e-i)*u)/(s*s+u*u);c>1?(n=r,i=o):c>0&&(n+=s*c,i+=u*c)}return a(t,e,n,i)}function a(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function s(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var c=-t[u][n]/t[n][n],l=n;l<e+1;l++)n==l?t[u][l]=0:t[u][l]+=c*t[n][l]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}function u(t){return 180*t/Math.PI}function c(t){return t*Math.PI/180}function l(t,e){var n=t%e;return n*e<0?n+e:n}function h(t,e,n){return t+n*(e-t)}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";n.r(e);var i=n(82),r=n(0),o=n(6),a=n(62),s=n(27),u=6378137,c=Math.PI*u,l=[-c,-c,c,c],h=[-180,-85,180,85],f=function(t){function e(e){t.call(this,{code:e,units:s.b.METERS,extent:l,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/Object(o.b)(e[1]/u)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.a),p=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];function d(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=c,s=0;s<i;s+=r){o[s]=a*t[s]/180;var l=u*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function y(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=0;a<i;a+=r)o[a]=180*t[a]/c,o[a+1]=360*Math.atan(Math.exp(t[a+1]/u))/Math.PI-90;return o}var g=[-180,-90,180,90],v=6378137*Math.PI/180,_=function(t){function e(e,n){t.call(this,{code:e,units:s.b.DEGREES,extent:g,axisOrientation:n,global:!0,metersPerUnit:v,worldExtent:g})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.a),m=[new _("CRS:84"),new _("EPSG:4326","neu"),new _("urn:ogc:def:crs:EPSG::4326","neu"),new _("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new _("urn:ogc:def:crs:OGC:1.3:CRS84"),new _("urn:ogc:def:crs:OGC:2:84"),new _("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _("urn:x-ogc:def:crs:EPSG:4326","neu")],b={},O=n(52);function E(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function T(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function S(t){!function(t,e){b[t]=e}(t.getCode(),t),Object(O.a)(t,t,E)}function x(t){t.forEach(S)}function C(t){return"string"==typeof t?b[t]||null:t||null}function w(t,e,n,r){var o,a=(t=C(t)).getPointResolutionFunc();if(a)o=a(e,n);else if(t.getUnits()==s.b.DEGREES&&!r||r==s.b.DEGREES)o=e;else{var u=D(t,C("EPSG:4326")),c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];c=u(c,c,2),o=(Object(i.a)(c.slice(0,2),c.slice(2,4))+Object(i.a)(c.slice(4,6),c.slice(6,8)))/2;var l=r?s.a[r]:t.getMetersPerUnit();void 0!==l&&(o/=l)}return o}function j(t){x(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Object(O.a)(e,t,E)})})}function R(t,e,n,i){t.forEach(function(t){e.forEach(function(e){Object(O.a)(t,e,n),Object(O.a)(e,t,i)})})}function P(){b={},Object(O.b)()}function I(t,e){return t?"string"==typeof t?C(t):t:C(e)}function k(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,a=void 0!==n?n:new Array(r),s=0;s<r;s+=o){var u=t([e[s],e[s+1]]);a[s]=u[0],a[s+1]=u[1];for(var c=o-1;c>=2;--c)a[s+c]=e[s+c]}return a}}function L(t,e,n,i){var r=C(t),o=C(e);Object(O.a)(r,o,k(n)),Object(O.a)(o,r,k(i))}function M(t,e){return G(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function A(t,e){var n=G(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=Object(o.d)(i+180,360)-180),n}function F(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:D(t,e)===E&&n}function D(t,e){var n=t.getCode(),i=e.getCode(),r=Object(O.c)(n,i);return r||(r=T),r}function N(t,e){return D(C(t),C(e))}function G(t,e,n){return N(e,n)(t,void 0,t.length)}function Y(t,e,n){var i=N(e,n);return Object(r.applyTransform)(t,i)}function B(t,e,n){return D(e,n)(t)}function U(){j(p),j(m),R(m,p,d,y)}n.d(e,"cloneTransform",function(){return E}),n.d(e,"identityTransform",function(){return T}),n.d(e,"addProjection",function(){return S}),n.d(e,"addProjections",function(){return x}),n.d(e,"get",function(){return C}),n.d(e,"getPointResolution",function(){return w}),n.d(e,"addEquivalentProjections",function(){return j}),n.d(e,"addEquivalentTransforms",function(){return R}),n.d(e,"clearAllProjections",function(){return P}),n.d(e,"createProjection",function(){return I}),n.d(e,"createTransformFromCoordinateTransform",function(){return k}),n.d(e,"addCoordinateTransforms",function(){return L}),n.d(e,"fromLonLat",function(){return M}),n.d(e,"toLonLat",function(){return A}),n.d(e,"equivalent",function(){return F}),n.d(e,"getTransformFromProjections",function(){return D}),n.d(e,"getTransform",function(){return N}),n.d(e,"transform",function(){return G}),n.d(e,"transformExtent",function(){return Y}),n.d(e,"transformWithProjections",function(){return B}),n.d(e,"addCommon",function(){return U}),n.d(e,"METERS_PER_UNIT",function(){return s.a}),n.d(e,"Projection",function(){return a.a}),U()},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"f",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"d",function(){return d});var i=n(10),r=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t){return u(t,1,0,0,1,0,0)}function s(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],u=e[0],c=e[1],l=e[2],h=e[3],f=e[4],p=e[5];return t[0]=n*u+r*c,t[1]=i*u+o*c,t[2]=n*l+r*h,t[3]=i*l+o*h,t[4]=n*f+r*p+a,t[5]=i*f+o*p+s,t}function u(t,e,n,i,r,o,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function l(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function h(t,e,n){return s(t,u(r,e,0,0,n,0,0))}function f(t,e,n){return s(t,u(r,1,0,0,1,e,n))}function p(t,e,n,i,r,o,a,s){var u=Math.sin(o),c=Math.cos(o);return t[0]=i*c,t[1]=r*u,t[2]=-i*u,t[3]=r*c,t[4]=a*i*c-s*i*u+e,t[5]=a*r*u+s*r*c+n,t}function d(t){var e,n=(e=t)[0]*e[3]-e[1]*e[2];Object(i.a)(0!==n,32);var r=t[0],o=t[1],a=t[2],s=t[3],u=t[4],c=t[5];return t[0]=s/n,t[1]=-o/n,t[2]=-a/n,t[3]=r/n,t[4]=(a*c-s*u)/n,t[5]=-(r*c-o*u)/n,t}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(87);function r(t,e){if(!t)throw new i.a(e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a});var i="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var a=n[r];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])}return i};function r(t){for(var e in t)delete t[e]}function o(t){var e=[];for(var n in t)e.push(t[n]);return e}function a(t){var e;for(e in t)return!1;return!e}},function(t,e,n){"use strict";function i(t,e,n){for(var i,o,a=n||r,s=0,u=t.length,c=!1;s<u;)(o=+a(t[i=s+(u-s>>1)],e))<0?s=i+1:(u=i,c=!o);return c?s:~s}function r(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function a(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function s(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function u(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function c(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i}function l(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function h(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value}function f(t,e,n){var i=e||r;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}n.d(e,"a",function(){return i}),n.d(e,"g",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"i",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"e",function(){return f})},function(t,e,n){"use strict";e.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(t,e,n){"use strict";n.d(e,"b",function(){return h});var i=n(2),r=n(55),o=n(91),a=n(24),s=n(11),u=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.a),c=function(t){function e(e){t.call(this),Object(i.c)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(s.a)({},this.values_)},e.prototype.notify=function(t,e){var n;n=h(t),this.dispatchEvent(new u(n,t,e)),n=r.a.PROPERTYCHANGE,this.dispatchEvent(new u(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(o.a),l={};function h(t){return l.hasOwnProperty(t)?l[t]:l[t]="change:"+t}e.a=c},function(t,e){t.exports=jQuery},function(t,e,n){"use strict";function i(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function r(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function o(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function a(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function s(t){for(;t.lastChild;)t.removeChild(t.lastChild)}n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return s})},function(t,e,n){"use strict";var i=n(5);e.a={SINGLECLICK:"singleclick",CLICK:i.a.CLICK,DBLCLICK:i.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"h",function(){return o}),n.d(e,"j",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"f",function(){return p});var i="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",r=-1!==i.indexOf("firefox"),o=-1!==i.indexOf("safari")&&-1==i.indexOf("chrom"),a=-1!==i.indexOf("webkit")&&-1==i.indexOf("edge"),s=-1!==i.indexOf("macintosh"),u=window.devicePixelRatio||1,c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),l="geolocation"in navigator,h="ontouchstart"in window,f="PointerEvent"in window,p=!!navigator.msPointerEnabled},function(t,e,n){"use strict";function i(){return!0}function r(){return!1}function o(){}n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(15)),o=a(n(126));function a(t){return t&&t.__esModule?t:{default:t}}o.default.defs([["EPSG:2263","+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=ft +to_meter=0.3048006096012192 +no_defs"],["EPSG:6539","+proj=lcc +lat_1=40.66666666666666 +lat_2=41.03333333333333 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000 +y_0=0 +ellps=GRS80 +units=us-ft +no_defs"]]);var s={proj4:o.default,inherits:function(t,e){s.copyFromParentProperties(t.prototype,e.prototype)},subclass:function(t,e){var n=Object.getPrototypeOf(e);s.copyFromParentProperties(t,n),s.copyFromParentKeys(t,e)},mixin:function(t,e){e.forEach(function(e){r.default.extend(t,e)})},copyFromParentProperties:function(t,e){Object.getOwnPropertyNames(e).forEach(function(n){n in t||(t[n]=e[n])})},copyFromParentKeys:function(t,e){Object.keys(e).forEach(function(n){n in t||(t[n]=e[n])})},capitalize:function(t){var e="";return t.split(" ").forEach(function(t){var n=t.toLowerCase();e+=n.substr(0,1).toUpperCase(),e+=n.substr(1).toLowerCase(),e+=" "}),e.trim()},nextId:function(t){var e=s.uniqueIds[t];return s.uniqueIds[t]="number"==typeof e?e+1:0,"".concat(t,"-").concat(s.uniqueIds[t])},html:function(t){if("function"==typeof t.html)return(0,r.default)(t.html());var e=(0,r.default)('<div class="nyc-html"></div>');return t.getProperties?t=t.getProperties():t.properties&&(t=t.properties),Object.keys(t).forEach(function(n){e.append('<div><span class="fld">'.concat(n,'</span><span class="val">').concat(t[n],"</span></div>"))}),e},loading:function(t){t.hasClass("loading")&&t.append((0,r.default)("#loading").get(0)||s.LOADING_HTML)},ready:function(t){(0,r.default)(t||(0,r.default)("body")).removeClass("loading").attr("aria-hidden",!1),(0,r.default)("#loading").fadeOut()},cacheBust:function(t){var e=6e4*t;return Math.round((new Date).getTime()/e)*e},noSpaceBarScroll:function(){(0,r.default)(document).keypress(s.noSpaceBarHandler)},noSpaceBarHandler:function(t){var e=t.target.tagName;if(-1===r.default.inArray(e,["INPUT","TEXTAREA","SELECT"])){var n=t.key;if(r.default.inArray(n,[" ","Enter"])>-1){var i=(0,r.default)(t.target),o=i.attr("href");t.preventDefault(),o&&"#"!==o?i.attr("target")?window.open(o):s.location(o):i.trigger("click")}}},location:function(t){window.location=t},activeElement:function(){var t=document.activeElement;return{activeElement:t,isTextInput:"INPUT"===t.tagName&&"text"===t.type}},removeDups:function(t){var e={},n=[];return t.forEach(function(t){e[t]=i(t)}),Object.keys(e).forEach(function(t){n.push("number"===e[t]?1*t:t)}),n},uniqueIds:{},LOADING_HTML:'<div id="loading"><div><svg xmlns="http://www.w3.org/2000/svg" width="152" height="52"><g transform="translate(1.5,0)"><polygon points="15.5,1.2 3.1,1.2 0,4.3 0,47.7 3.1,50.8 15.5,50.8 18.6,47.7 18.6,35.3 34.1,50.8 46.6,50.8 49.7,47.7 49.7,4.3 46.6,1.2 34.1,1.2 31,4.3 31,16.7 "/><polygon points="83.8,47.7 83.8,38.4 99.3,22.9 99.3,10.5 99.3,4.3 96.2,1.2 83.8,1.2 80.7,4.3 80.7,10.5 74.5,16.7 68.3,10.5 68.3,4.3 65.2,1.2 52.8,1.2 49.7,4.3 49.7,22.9 65.2,38.4 65.2,47.7 68.3,50.8 80.7,50.8 "/><polygon points="145.9,29.1 130.4,29.1 130.4,32.2 118,32.2 118,19.8 130.4,19.8 130.4,22.9 145.9,22.9 149,19.8 149,10.5 139.7,1.2 108.6,1.2 99.3,10.5 99.3,41.5 108.6,50.8 139.7,50.8 149,41.5 149,32.2 "/></g></svg><h1>maps.nyc.gov</h1></div></div>'};(0,r.default)(document).ready(function(){s.loading((0,r.default)("body"))});var u=s;e.default=u},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var i=function(t){this.propagationStopped,this.type=t,this.target=null};function r(t){t.stopPropagation()}i.prototype.preventDefault=function(){this.propagationStopped=!0},i.prototype.stopPropagation=function(){this.propagationStopped=!0},e.a=i},function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937,e.b=i},function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}function s(t){return t<.5?o(2*t):1-o(2*(t-.5))}n.r(e),n.d(e,"easeIn",function(){return i}),n.d(e,"easeOut",function(){return r}),n.d(e,"inAndOut",function(){return o}),n.d(e,"linear",function(){return a}),n.d(e,"upAndDown",function(){return s})},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"c",function(){return h}),n(17);var i=n(10),r=n(20),o=n(19),a=r.b,s=function(t){var e=t.originalEvent;return 0==e.button&&!(o.j&&o.e&&e.ctrlKey)},u=(r.a,function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}),c=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},l=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},h=function(t){var e=t.pointerEvent;return Object(i.a)(void 0!==e,56),"mouse"==e.pointerType}},function(t,e,n){"use strict";var i=n(14),r=n(29),o="active",a=n(6);n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return h});var s=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o,t)},e.prototype.setMap=function(t){this.map_=t},e}(i.a);function u(t,e,n){var i=t.getCenter();if(i){var o=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:r.linear,center:o}):t.setCenter(o)}}function c(t,e,n,i,r){h(t,e=t.constrainResolution(e,0,r),n,i)}function l(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var s=t.getResolutions();o=Object(a.a)(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(n&&void 0!==o&&o!==r){var u=t.getCenter(),c=t.calculateCenterZoom(o,n);c=t.constrainCenter(c),n=[(o*u[0]-r*c[0])/(o-r),(o*u[1]-r*c[1])/(o-r)]}h(t,o,n,i)}function h(t,e,n,i){if(e){var o=t.getResolution(),a=t.getCenter();if(void 0!==o&&a&&e!==o&&i)t.animate({resolution:e,anchor:n,duration:i,easing:r.easeOut});else{if(n){var s=t.calculateCenterZoom(e,n);t.setCenter(s)}t.setResolution(e)}}}e.a=s},function(t,e,n){"use strict";n.d(e,"b",function(){return h});var i=n(2),r=n(0),o=n(90),a=n(21),s=n(36),u=n(11),c=function(t){function e(){t.call(this),this.layout=a.a.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(r.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(u.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=l(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.b)()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=l(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=a.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=a.a.XY:3==t?e=a.a.XYZ:4==t&&(e=a.a.XYZM),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(s.a)(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=Object(r.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var u=this.getStride();Object(s.b)(a,0,a.length,u,t,i,o,a),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(s.d)(n,0,n.length,i,t,e,n),this.changed()}},e}(o.a);function l(t){var e;return t==a.a.XY?e=2:t==a.a.XYZ||t==a.a.XYM?e=3:t==a.a.XYZM&&(e=4),e}function h(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return Object(s.c)(i,0,i.length,r,e,n)}return null}e.a=c},function(t,e,n){"use strict";function i(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=e;s<n;s+=i)o[a++]=t.slice(s,s+i);return o.length=a,o}function r(t,e,n,r,o){for(var a=void 0!==o?o:[],s=0,u=0,c=n.length;u<c;++u){var l=n[u];a[s++]=i(t,e,l,r,a[s]),e=l}return a.length=s,a}function o(t,e,n,i,o){for(var a=void 0!==o?o:[],s=0,u=0,c=n.length;u<c;++u){var l=n[u];a[s++]=r(t,e,l,i,a[s]),e=l[l.length-1]}return a.length=s,a}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function r(t,e,n){return t+"/"+e+"/"+n}function o(t){return r(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function u(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(i,r)}n.d(e,"a",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"f",function(){return u})},function(t,e,n){"use strict";n.d(e,"e",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l});var i=n(6);function r(t,e,n,r,o,a,s){var u,c=t[e],l=t[e+1],h=t[n]-c,f=t[n+1]-l;if(0===h&&0===f)u=e;else{var p=((o-c)*h+(a-l)*f)/(h*h+f*f);if(p>1)u=n;else{if(p>0){for(var d=0;d<r;++d)s[d]=Object(i.c)(t[e+d],t[n+d],p);return void(s.length=r)}u=e}}for(var y=0;y<r;++y)s[y]=t[u+y];s.length=r}function o(t,e,n,r,o){var a=t[e],s=t[e+1];for(e+=r;e<n;e+=r){var u=t[e],c=t[e+1],l=Object(i.f)(a,s,u,c);l>o&&(o=l),a=u,s=c}return o}function a(t,e,n,i,r){for(var a=0,s=n.length;a<s;++a){var u=n[a];r=o(t,e,u,i,r),e=u}return r}function s(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var u=n[o];r=a(t,e,u,i,r),e=u[u.length-1]}return r}function u(t,e,n,o,a,s,u,c,l,h,f){if(e==n)return h;var p,d;if(0===a){if((d=Object(i.f)(u,c,t[e],t[e+1]))<h){for(p=0;p<o;++p)l[p]=t[e+p];return l.length=o,d}return h}for(var y=f||[NaN,NaN],g=e+o;g<n;)if(r(t,g-o,g,o,u,c,y),(d=Object(i.f)(u,c,y[0],y[1]))<h){for(h=d,p=0;p<o;++p)l[p]=y[p];l.length=o,g+=o}else g+=o*Math.max((Math.sqrt(d)-Math.sqrt(h))/a|0,1);if(s&&(r(t,n-o,e,o,u,c,y),(d=Object(i.f)(u,c,y[0],y[1]))<h)){for(h=d,p=0;p<o;++p)l[p]=y[p];l.length=o}return h}function c(t,e,n,i,r,o,a,s,c,l,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var y=n[p];l=u(t,e,y,i,r,o,a,s,c,l,f),e=y}return l}function l(t,e,n,i,r,o,a,s,u,l,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var y=n[p];l=c(t,e,y,i,r,o,a,s,u,l,f),e=y[y.length-1]}return l}},function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var a=o||[],s=0,u=e;u<n;u+=i){var c=t[u],l=t[u+1];a[s++]=r[0]*c+r[2]*l+r[4],a[s++]=r[1]*c+r[3]*l+r[5]}return o&&a.length!=s&&(a.length=s),a}function r(t,e,n,i,r,o,a){for(var s=a||[],u=Math.cos(r),c=Math.sin(r),l=o[0],h=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-l,y=t[p+1]-h;s[f++]=l+d*u-y*c,s[f++]=h+d*c+y*u;for(var g=p+2;g<p+i;++g)s[f++]=t[g]}return a&&s.length!=f&&(s.length=f),s}function o(t,e,n,i,r,o,a,s){for(var u=s||[],c=a[0],l=a[1],h=0,f=e;f<n;f+=i){var p=t[f]-c,d=t[f+1]-l;u[h++]=c+r*p,u[h++]=l+o*d;for(var y=f+2;y<f+i;++y)u[h++]=t[y]}return s&&u.length!=h&&(u.length=h),u}function a(t,e,n,i,r,o,a){for(var s=a||[],u=0,c=e;c<n;c+=i){s[u++]=t[c]+r,s[u++]=t[c+1]+o;for(var l=c+2;l<c+i;++l)s[u++]=t[l]}return a&&s.length!=u&&(s.length=u),s}n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a})},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var a=n[r],s=0;s<i;++s)t[e++]=a[s];return e}function o(t,e,n,i,o){for(var a=o||[],s=0,u=0,c=n.length;u<c;++u){var l=r(t,e,n[u],i);a[s++]=l,e=l}return a.length=s,a}function a(t,e,n,i,r){for(var a=r||[],s=0,u=0,c=n.length;u<c;++u){var l=o(t,e,n[u],i,a[s]);a[s++]=l,e=l[l.length-1]}return a.length=s,a}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a})},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return h}),n.d(e,"c",function(){return p});var i=n(10),r=n(6),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$/i;function s(t){return"string"==typeof t?t:p(t)}var u,c,l=(u={},c=0,function(t){var e;if(u.hasOwnProperty(t))e=u[t];else{if(c>=1024){var n=0;for(var r in u)0==(3&n++)&&(delete u[r],--c)}e=function(t){var e,n,r,s,u;if(a.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),o.exec(t)){var c,l=t.length-1;c=l<=4?1:2;var h=4===l||8===l;e=parseInt(t.substr(1+0*c,c),16),n=parseInt(t.substr(1+1*c,c),16),r=parseInt(t.substr(1+2*c,c),16),s=h?parseInt(t.substr(1+3*c,c),16):255,1==c&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,h&&(s=(s<<4)+s)),u=[e,n,r,s/255]}else 0==t.indexOf("rgba(")?f(u=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((u=t.slice(4,-1).split(",").map(Number)).push(1),f(u)):Object(i.a)(!1,14);return u}(t),u[t]=e,++c}return e});function h(t){return Array.isArray(t)?t:l(t)}function f(t){return t[0]=Object(r.a)(t[0]+.5|0,0,255),t[1]=Object(r.a)(t[1]+.5|0,0,255),t[2]=Object(r.a)(t[2]+.5|0,0,255),t[3]=Object(r.a)(t[3],0,1),t}function p(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,n){"use strict";var i=n(12),r=n(0),o=n(21),a=n(3),s=n(32),u=n(76),c=n(35),l=n(37),h=n(33),f=n(47),p=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.a.XY)},e.prototype.getType=function(){return a.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a),d=n(46),y=n(82),g=n(50),v=n(96),_=n(64),m=n(67);n(6),n.d(e,"a",function(){return O}),n.d(e,"c",function(){return E});var b=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Object(g.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(u.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(m.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(h.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(r.getCenter)(this.getExtent());this.flatInteriorPoint_=Object(v.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new d.default(this.getFlatInteriorPoint(),o.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new p(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new p(e.slice(r,s),t);i.push(u),r=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(m.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(m.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,o.a.XY,i)},e.prototype.getType=function(){return a.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(_.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(l.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(s.a);function O(t,e,n,r){for(var a=n||32,s=[],u=0;u<a;++u)Object(i.c)(s,Object(y.b)(t,e,2*Math.PI*u/a,r));return s.push(s[0],s[1]),new b(s,o.a.XY,[s.length])}function E(t){var e=t[0],n=t[1],i=t[2],r=t[3],a=[e,n,e,r,i,r,i,n,e,n];return new b(a,o.a.XY,[a.length])}e.b=b},function(t,e,n){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(38);function r(t){return Array.isArray(t)?Object(i.c)(t):t}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(15)),c=l(n(80));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this))).container=(0,u.default)(t),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"getContainer",value:function(){return this.container}},{key:"find",value:function(t){return this.getContainer().find(t)}},{key:"prepend",value:function(t){return this.getContainer().prepend((0,u.default)(t))}},{key:"append",value:function(t){return this.getContainer().append((0,u.default)(t))}}])&&r(n.prototype,i),e}();e.default=h},function(t,e,n){"use strict";n.r(e);var i=n(6);function r(t,e,n){var i=void 0!==n?t.toFixed(n):""+t,r=i.indexOf(".");return(r=-1===r?i.length:r)>e?i:new Array(1+e-r).join("0")+i}function o(t,e){return t[0]+=e[0],t[1]+=e[1],t}function a(t,e){var n=e.getRadius(),i=e.getCenter(),r=i[0],o=i[1],a=t[0]-r,s=t[1]-o;0===a&&0===s&&(a=1);var u=Math.sqrt(a*a+s*s);return[r+n*a/u,o+n*s/u]}function s(t,e){var n,i,r=t[0],o=t[1],a=e[0],s=e[1],u=a[0],c=a[1],l=s[0],h=s[1],f=l-u,p=h-c,d=0===f&&0===p?0:(f*(r-u)+p*(o-c))/(f*f+p*p||0);return d<=0?(n=u,i=c):d>=1?(n=l,i=h):(n=u+d*f,i=c+d*p),[n,i]}function u(t){return function(e){return _(e,t)}}function c(t,e,n){var o=Object(i.d)(e+180,360)-180,a=Math.abs(3600*o),s=n||0,u=Math.pow(10,s),c=Math.floor(a/3600),l=Math.floor((a-3600*c)/60),h=a-3600*c-60*l;return(h=Math.ceil(h*u)/u)>=60&&(h=0,l+=1),l>=60&&(l=0,c+=1),c+"° "+r(l,2)+"′ "+r(h,2,s)+"″"+(0==o?"":" "+t.charAt(o<0?1:0))}function l(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function h(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function f(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function p(t,e){return t[0]*=e,t[1]*=e,t}function d(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function y(t,e){return Math.sqrt(d(t,e))}function g(t,e){return d(t,s(t,e))}function v(t,e){return t?c("NS",t[1],e)+" "+c("EW",t[0],e):""}function _(t,e){return l(t,"{x}, {y}",e)}n.d(e,"add",function(){return o}),n.d(e,"closestOnCircle",function(){return a}),n.d(e,"closestOnSegment",function(){return s}),n.d(e,"createStringXY",function(){return u}),n.d(e,"degreesToStringHDMS",function(){return c}),n.d(e,"format",function(){return l}),n.d(e,"equals",function(){return h}),n.d(e,"rotate",function(){return f}),n.d(e,"scale",function(){return p}),n.d(e,"squaredDistance",function(){return d}),n.d(e,"distance",function(){return y}),n.d(e,"squaredDistanceToSegment",function(){return g}),n.d(e,"toStringHDMS",function(){return v}),n.d(e,"toStringXY",function(){return _})},function(t,e,n){"use strict";function i(t){return t[0]>0&&t[1]>0}function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n(13),r=[i.a.POLYGON,i.a.CIRCLE,i.a.LINE_STRING,i.a.IMAGE,i.a.TEXT,i.a.DEFAULT],o={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1}},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(3),o=n(32),a=n(37),s=n(6),u=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=Object(s.f)(t,e,r[0],r[1]);if(o<i){for(var a=this.stride,u=0;u<a;++u)n[u]=r[u];return n.length=a,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return r.a.POINT},e.prototype.intersectsExtent=function(t){return Object(i.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(a.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a);e.default=u},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c});var i=n(6);function r(t,e,n,r,o,a,s){var u=(n-e)/r;if(u<3){for(;e<n;e+=r)a[s++]=t[e],a[s++]=t[e+1];return s}var c=new Array(u);c[0]=1,c[u-1]=1;for(var l=[e,n-r],h=0;l.length>0;){for(var f=l.pop(),p=l.pop(),d=0,y=t[p],g=t[p+1],v=t[f],_=t[f+1],m=p+r;m<f;m+=r){var b=t[m],O=t[m+1],E=Object(i.g)(b,O,y,g,v,_);E>d&&(h=m,d=E)}d>o&&(c[(h-e)/r]=1,p+r<h&&l.push(p,h),h+r<f&&l.push(h,f))}for(var T=0;T<u;++T)c[T]&&(a[s++]=t[e+T*r],a[s++]=t[e+T*r+1]);return s}function o(t,e,n,i,o,a,s,u){for(var c=0,l=n.length;c<l;++c){var h=n[c];s=r(t,e,h,i,o,a,s),u.push(s),e=h}return s}function a(t,e){return e*Math.round(t/e)}function s(t,e,n,i,r,o,s){if(e==n)return s;var u,c,l=a(t[e],r),h=a(t[e+1],r);e+=i,o[s++]=l,o[s++]=h;do{if(u=a(t[e],r),c=a(t[e+1],r),(e+=i)==n)return o[s++]=u,o[s++]=c,s}while(u==l&&c==h);for(;e<n;){var f=a(t[e],r),p=a(t[e+1],r);if(e+=i,f!=u||p!=c){var d=u-l,y=c-h,g=f-l,v=p-h;d*v==y*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(y<0&&v<y||y==v||y>0&&v>y)?(u=f,c=p):(o[s++]=u,o[s++]=c,l=u,h=c,u=f,c=p)}}return o[s++]=u,o[s++]=c,s}function u(t,e,n,i,r,o,a,u){for(var c=0,l=n.length;c<l;++c){var h=n[c];a=s(t,e,h,i,r,o,a),u.push(a),e=h}return a}function c(t,e,n,i,r,o,a,s){for(var c=0,l=n.length;c<l;++c){var h=n[c],f=[];a=u(t,e,h,i,r,o,a,f),s.push(f),e=h[h.length-1]}return a}},function(t,e,n){"use strict";var i=n(73),r=n(1),o=n(20),a=n(24),s=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new a.a(t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var s=0,u=r.length;s<u;++s)if(!1===r[s].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var c=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];c--;)this.removeEventListener(n,o.c);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){Object(r.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=o.c,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(i.a);e.a=s},function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s});var i=n(0);function r(t,e,n,r,a){return!Object(i.forEachCorner)(a,function(i){return!o(t,e,n,r,i[0],i[1])})}function o(t,e,n,i,r,o){for(var a=0,s=t[n-i],u=t[n-i+1];e<n;e+=i){var c=t[e],l=t[e+1];u<=o?l>o&&(c-s)*(o-u)-(r-s)*(l-u)>0&&a++:l<=o&&(c-s)*(o-u)-(r-s)*(l-u)<0&&a--,s=c,u=l}return 0!==a}function a(t,e,n,i,r,a){if(0===n.length)return!1;if(!o(t,e,n[0],i,r,a))return!1;for(var s=1,u=n.length;s<u;++s)if(o(t,n[s-1],n[s],i,r,a))return!1;return!0}function s(t,e,n,i,r,o){if(0===n.length)return!1;for(var s=0,u=n.length;s<u;++s){var c=n[s];if(a(t,e,c,i,r,o))return!0;e=c[c.length-1]}return!1}},function(t,e,n){"use strict";var i=n(87),r=n(28),o=n(14),a="length",s=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n(24).a),u=function(t){function e(e,n){t.call(this);var i=n||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new s(r.a.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new s(r.a.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new s(r.a.REMOVE,i)),this.dispatchEvent(new s(r.a.ADD,e))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new i.a(58)},e}(o.a);e.a=u},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n(11);var i={};function r(){i={}}function o(t,e,n){var r=t.getCode(),o=e.getCode();r in i||(i[r]={}),i[r][o]=n}function a(t,e){var n;return t in i&&e in i[t]&&(n=i[t][e]),n}},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return f});var i=n(2),r=n(22),o=n(3),a=n(13),s=.5,u={Point:function(t,e,n,i){var o=n.getImage();if(o){if(o.getImageState()!=r.a.LOADED)return;var s=t.getReplay(n.getZIndex(),a.a.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,i)}var u=n.getText();if(u){var c=t.getReplay(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!!o)),c.drawText(e,i)}},LineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var s=n.getText();if(s){var u=t.getReplay(n.getZIndex(),a.a.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,i)}},Polygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,i)}var u=n.getText();if(u){var c=t.getReplay(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!1)),c.drawText(e,i)}},MultiPoint:function(t,e,n,i){var o=n.getImage();if(o){if(o.getImageState()!=r.a.LOADED)return;var s=t.getReplay(n.getZIndex(),a.a.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,i)}var u=n.getText();if(u){var c=t.getReplay(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!!o)),c.drawText(e,i)}},MultiLineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var s=n.getText();if(s){var u=t.getReplay(n.getZIndex(),a.a.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var s=t.getReplay(n.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,i)}var u=n.getText();if(u){var c=t.getReplay(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!1)),c.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var r,o,a=e.getGeometriesArray();for(r=0,o=a.length;r<o;++r)(0,u[a[r].getType()])(t,a[r],n,i)},Circle:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),a.a.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,i)}var u=n.getText();if(u){var c=t.getReplay(n.getZIndex(),a.a.TEXT);c.setTextStyle(u,t.addDeclutter(!1)),c.drawText(e,i)}}};function c(t,e){return parseInt(Object(i.c)(t),10)-parseInt(Object(i.c)(e),10)}function l(t,e){var n=h(t,e);return n*n}function h(t,e){return s*t/e}function f(t,e,n,i,s,c){var l=!1,h=n.getImage();if(h){var f=h.getImageState();f==r.a.LOADED||f==r.a.ERROR?h.unlistenImageChange(s,c):(f==r.a.IDLE&&h.load(),f=h.getImageState(),h.listenImageChange(s,c),l=!0)}return function(t,e,n,i){var r=n.getGeometryFunction()(e);if(r){var s=r.getSimplifiedGeometry(i);n.getRenderer()?function t(e,n,i,r){if(n.getType()!=o.a.GEOMETRY_COLLECTION)e.getReplay(i.getZIndex(),a.a.DEFAULT).drawCustom(n,r,i.getRenderer());else for(var s=n.getGeometries(),u=0,c=s.length;u<c;++u)t(e,s[u],i,r)}(t,s,n,e):(0,u[s.getType()])(t,s,n,e)}}(t,e,n,i),l}},function(t,e,n){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n(38),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(r.b)(t):this.checksum_=Object(i.c)(this.color_):this.checksum_="f-"}return this.checksum_},e.default=o},function(t,e,n){"use strict";n.r(e),n.d(e,"transformWithOptions",function(){return s});var i=n(11),r=n(2),o=n(8),a=function(){this.dataProjection=null,this.defaultFeatureProjection=null};function s(t,e,n){var i,r=n?Object(o.get)(n.featureProjection):null,a=n?Object(o.get)(n.dataProjection):null;if(i=r&&a&&!Object(o.equivalent)(r,a)?Array.isArray(t)?Object(o.transformExtent)(t,a,r):(e?t.clone():t).transform(e?r:a,e?a:r):t,e&&n&&void 0!==n.decimals&&!Array.isArray(i)){var s=Math.pow(10,n.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}a.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},a.prototype.adaptOptions=function(t){return Object(i.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},a.prototype.getLastExtent=function(){return null},a.prototype.getType=function(){return Object(r.b)()},a.prototype.readFeature=function(t,e){return Object(r.b)()},a.prototype.readFeatures=function(t,e){return Object(r.b)()},a.prototype.readGeometry=function(t,e){return Object(r.b)()},a.prototype.readProjection=function(t){return Object(r.b)()},a.prototype.writeFeature=function(t,e){return Object(r.b)()},a.prototype.writeFeatures=function(t,e){return Object(r.b)()},a.prototype.writeGeometry=function(t,e){return Object(r.b)()},e.default=a},function(t,e,n){"use strict";n.d(e,"b",function(){return p});var i=n(1),r=n(5),o=n(2),a=n(14),s=n(99),u=n(25),c=n(11),l=n(40),h=n(49),f=function(t){function e(e){var n=Object(c.a)({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(i.a)(this,Object(a.b)(u.a.SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(u.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.a)(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.a)(t,l.a.PRECOMPOSE,function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[Object(o.c)(this)]=n},this),this.mapRenderKey_=Object(i.a)(this,r.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(u.a.SOURCE,t)},e}(s.a);function p(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e.a=f},function(t,e,n){"use strict";n.r(e);var i=n(68),r=n(44),o=n(0),a=n(69),s=n(8),u=n(27),c=n(10),l=n(70),h=n(12),f=n(6),p=n(34),d=[0,0,0],y=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(c.a)(Object(h.e)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(c.a)(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=Object(o.getTopLeft)(a)),Object(c.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(c.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:i.b,Object(c.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new l.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):a&&this.calculateTileRanges_(a)};y.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,r,a])},y.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,a,s,u=null,c=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):u=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),o=Object(l.a)(a,a,s,s,i)):o=this.getTileRangeForExtentAndZ(u,c,i),e.call(n,c,o))return!0;--c}return!1},y.prototype.getExtent=function(){return this.extent_},y.prototype.getMaxZoom=function(){return this.maxZoom},y.prototype.getMinZoom=function(){return this.minZoom},y.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},y.prototype.getResolution=function(t){return this.resolutions_[t]},y.prototype.getResolutions=function(){return this.resolutions_},y.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return Object(l.a)(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},y.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),a=this.getResolution(t),s=Object(r.c)(this.getTileSize(t),this.tmpSize_),u=i[0]+e.minX*s[0]*a,c=i[0]+(e.maxX+1)*s[0]*a,l=i[1]+e.minY*s[1]*a,h=i[1]+(e.maxY+1)*s[1]*a;return Object(o.createOrUpdate)(u,l,c,h,n)},y.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=d;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),Object(l.a)(r,i[1],o,i[2],n)},y.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Object(r.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},y.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),a=Object(r.c)(this.getTileSize(t[0]),this.tmpSize_),s=n[0]+t[1]*a[0]*i,u=n[1]+t[2]*a[1]*i,c=s+a[0]*i,l=u+a[1]*i;return Object(o.createOrUpdate)(s,u,c,l,e)},y.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},y.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,o){var a=this.getZForResolution(n),s=n/this.getResolution(a),u=this.getOrigin(a),c=Object(r.c)(this.getTileSize(a),this.tmpSize_),l=i?.5:0,h=i?0:.5,f=Math.floor((t-u[0])/n+l),d=Math.floor((e-u[1])/n+h),y=s*f/c[0],g=s*d/c[1];return i?(y=Math.ceil(y)-1,g=Math.ceil(g)-1):(y=Math.floor(y),g=Math.floor(g)),Object(p.a)(a,y,g,o)},y.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,o){var a=this.getOrigin(n),s=this.getResolution(n),u=Object(r.c)(this.getTileSize(n),this.tmpSize_),c=i?.5:0,l=i?0:.5,h=Math.floor((t-a[0])/s+c),f=Math.floor((e-a[1])/s+l),d=h/u[0],y=f/u[1];return i?(d=Math.ceil(d)-1,y=Math.ceil(y)-1):(d=Math.floor(d),y=Math.floor(y)),Object(p.a)(n,d,y,o)},y.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},y.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},y.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},y.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},y.prototype.getZForResolution=function(t,e){var n=Object(h.f)(this.resolutions_,t,e||0);return Object(f.a)(n,this.minZoom,this.maxZoom)},y.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var g=y;function v(t){var e=t.getDefaultTileGrid();return e||(e=E(t),t.setDefaultTileGrid(e)),e}function _(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),a=T(n);if(Object(o.containsCoordinate)(a,r))return e;var s=Object(o.getWidth)(a),u=Math.ceil((a[0]-r[0])/s);return r[0]+=s*u,t.getTileCoordForCoordAndZ(r,i)}function m(t,e,n,i){var r=void 0!==i?i:a.a.TOP_LEFT,s=O(t,e,n);return new g({extent:t,origin:Object(o.getCorner)(t,r),resolutions:s,tileSize:n})}function b(t){var e=t||{},n=e.extent||Object(s.get)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:O(n,e.maxZoom,e.tileSize)};return new g(i)}function O(t,e,n){for(var a=void 0!==e?e:i.a,s=Object(o.getHeight)(t),u=Object(o.getWidth)(t),c=Object(r.c)(void 0!==n?n:i.b),l=Math.max(u/c[0],s/c[1]),h=a+1,f=new Array(h),p=0;p<h;++p)f[p]=l/Math.pow(2,p);return f}function E(t,e,n,i){return m(T(t),e,n,i)}function T(t){var e=(t=Object(s.get)(t)).getExtent();if(!e){var n=180*s.METERS_PER_UNIT[u.b.DEGREES]/t.getMetersPerUnit();e=Object(o.createOrUpdate)(-n,-n,n,n)}return e}n.d(e,"getForProjection",function(){return v}),n.d(e,"wrapX",function(){return _}),n.d(e,"createForExtent",function(){return m}),n.d(e,"createXYZ",function(){return b}),n.d(e,"createForProjection",function(){return E}),n.d(e,"extentFromProjection",function(){return T})},function(t,e,n){"use strict";n.r(e),e.default={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(i.c)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.default=r},function(t,e,n){"use strict";var i=n(27),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.a[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e.a=r},function(t,e,n){"use strict";n.r(e);var i=n(12),r=n(0),o=n(21),a=n(3),s=n(32),u=n(35),c=n(37),l=n(33),h=n(78),f=n(64),p=n(89),d=n(88),y=n(47),g=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM)return null;var n=void 0!==e&&e;return Object(h.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(y.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.a.XY)},e.prototype.getType=function(){return a.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);e.default=g},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c});var i=n(0),r=n(50),o=n(88);function a(t,e,n,r,a){var s=Object(i.extendFlatCoordinates)(Object(i.createEmpty)(),t,e,n,r);return!!Object(i.intersects)(a,s)&&(!!Object(i.containsExtent)(a,s)||s[0]>=a[0]&&s[2]<=a[2]||s[1]>=a[1]&&s[3]<=a[3]||Object(o.a)(t,e,n,r,function(t,e){return Object(i.intersectsSegment)(a,t,e)}))}function s(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){if(a(t,e,n[o],i,r))return!0;e=n[o]}return!1}function u(t,e,n,i,o){if(!function(t,e,n,i,o){return!!(a(t,e,n,i,o)||Object(r.b)(t,e,n,i,o[0],o[1])||Object(r.b)(t,e,n,i,o[0],o[3])||Object(r.b)(t,e,n,i,o[2],o[1])||Object(r.b)(t,e,n,i,o[2],o[3]))}(t,e,n[0],i,o))return!1;if(1===n.length)return!0;for(var s=1,u=n.length;s<u;++s)if(Object(r.a)(t,n[s-1],n[s],i,o)&&!a(t,n[s-1],n[s],i,o))return!1;return!0}function c(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(u(t,e,s,i,r))return!0;e=s[s.length-1]}return!1}},function(t,e,n){"use strict";n.r(e),n.d(e,"toFunction",function(){return l}),n.d(e,"createDefaultStyle",function(){return f}),n.d(e,"createEditingStyle",function(){return p});var i=n(10),r=n(3),o=n(104),a=n(56),s=n(61);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=d,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function l(t){var e,n;"function"==typeof t?e=t:(Array.isArray(t)?n=t:(Object(i.a)("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n});return e}c.prototype.clone=function(){var t=this.getGeometry();return t&&"object"===u(t)&&(t=t.clone()),new c({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},c.prototype.getRenderer=function(){return this.renderer_},c.prototype.setRenderer=function(t){this.renderer_=t},c.prototype.getGeometry=function(){return this.geometry_},c.prototype.getGeometryFunction=function(){return this.geometryFunction_},c.prototype.getFill=function(){return this.fill_},c.prototype.setFill=function(t){this.fill_=t},c.prototype.getImage=function(){return this.image_},c.prototype.setImage=function(t){this.image_=t},c.prototype.getStroke=function(){return this.stroke_},c.prototype.setStroke=function(t){this.stroke_=t},c.prototype.getText=function(){return this.text_},c.prototype.setText=function(t){this.text_=t},c.prototype.getZIndex=function(){return this.zIndex_},c.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t},c.prototype.setZIndex=function(t){this.zIndex_=t};var h=null;function f(t,e){if(!h){var n=new a.default({color:"rgba(255,255,255,0.4)"}),i=new s.default({color:"#3399CC",width:1.25});h=[new c({image:new o.default({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return h}function p(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[r.a.POLYGON]=[new c({fill:new a.default({color:[255,255,255,.5]})})],t[r.a.MULTI_POLYGON]=t[r.a.POLYGON],t[r.a.LINE_STRING]=[new c({stroke:new s.default({color:e,width:5})}),new c({stroke:new s.default({color:n,width:3})})],t[r.a.MULTI_LINE_STRING]=t[r.a.LINE_STRING],t[r.a.CIRCLE]=t[r.a.POLYGON].concat(t[r.a.LINE_STRING]),t[r.a.POINT]=[new c({image:new o.default({radius:6,fill:new a.default({color:n}),stroke:new s.default({color:e,width:1.5})}),zIndex:1/0})],t[r.a.MULTI_POINT]=t[r.a.POINT],t[r.a.GEOMETRY_COLLECTION]=t[r.a.POLYGON].concat(t[r.a.LINE_STRING],t[r.a.POINT]),t}function d(t){return t.getGeometry()}e.default=c},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(17),r=n(31),o=n(11),a=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==i.a.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==i.a.POINTERDOWN){var r=this.handleDownEvent(t);r&&t.preventDefault(),this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==i.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===i.a.POINTERDOWN||e===i.a.POINTERDRAG||e===i.a.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==i.a.POINTERUP?delete this.trackedPointers_[n]:t.type==i.a.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Object(o.c)(this.trackedPointers_)}},e}(r.a);function s(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}e.b=a},function(t,e,n){"use strict";function i(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function r(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],u=t[e+1];r+=(s-o)*(u+a),o=s,a=u}return r>0}function o(t,e,n,i,o){for(var a=void 0!==o&&o,s=0,u=n.length;s<u;++s){var c=n[s],l=r(t,e,c,i);if(0===s){if(a&&l||!a&&!l)return!1}else if(a&&!l||!a&&l)return!1;e=c}return!0}function a(t,e,n,i,r){for(var a=0,s=n.length;a<s;++a)if(!o(t,e,n[a],i,r))return!1;return!0}function s(t,e,n,o,a){for(var s=void 0!==a&&a,u=0,c=n.length;u<c;++u){var l=n[u],h=r(t,e,l,o);(0===u?s&&h||!s&&!h:s&&!h||!s&&h)&&i(t,e,l,o),e=l}return e}function u(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o)e=s(t,e,n[o],i,r);return e}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return u})},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i=42,r=256},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};function r(t,e,n,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=r,o):new i(t,e,n,r)}i.prototype.contains=function(t){return this.containsXY(t[1],t[2])},i.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},i.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},i.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},i.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=i},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n(51),o=n(28),a=n(55),s=n(12),u=n(10),c=n(1),l=n(24),h=n(5),f=n(0),p=n(20),d=n(60);function y(t,e){return[[-1/0,-1/0,1/0,1/0]]}var g=n(11),v=n(92),_=n(49),m="addfeature",b="removefeature",O=n(74),E=n.n(O),T=function(t){this.rbush_=E()(t,void 0),this.items_={}};T.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(i.c)(e)]=n},T.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var a=t[r],s=e[r],u={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[r]=u,this.items_[Object(i.c)(s)]=u}this.rbush_.load(n)},T.prototype.remove=function(t){var e=Object(i.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},T.prototype.update=function(t,e){var n=this.items_[Object(i.c)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];Object(f.equals)(r,t)||(this.remove(e),this.insert(t,e))},T.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},T.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},T.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},T.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},T.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},T.prototype.isEmpty=function(){return Object(g.d)(this.items_)},T.prototype.clear=function(){this.rbush_.clear(),this.items_={}},T.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(f.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},T.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var S=T;n.d(e,"VectorSourceEvent",function(){return x});var x=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l.a),C=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:_.a.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=p.c,this.format_=n.format,this.overlaps_=null==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(Object(u.a)(this.format_,7),this.loader_=function(t,e){return function(t,e,n,i){return function(n,r,o){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,r,o):t,!0),e.getType()==d.default.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var n,r=e.getType();r==d.default.JSON||r==d.default.TEXT?n=a.responseText:r==d.default.XML?(n=a.responseXML)||(n=(new DOMParser).parseFromString(a.responseText,"application/xml")):r==d.default.ARRAY_BUFFER&&(n=a.response),n?function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}.call(this,e.readFeatures(n,{featureProjection:o}),e.readProjection(n),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),a.onerror=function(){i.call(this)}.bind(this),a.send()}}(t,e,0,p.c)}(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:y;var i,o,a=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=a?new S:null,this.loadedExtentsRtree_=new S,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?o=n.features:n.features&&(o=(i=n.features).getArray()),a||void 0!==i||(i=new r.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(i.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new x(m,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(c.a)(e,h.a.CHANGE,this.handleFeatureChange_,this),Object(c.a)(e,a.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(Object(u.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],o=0,a=t.length;o<a;o++){var s=t[o],u=Object(i.c)(s);this.addToIndex_(u,s)&&n.push(s)}for(var c=0,l=n.length;c<l;c++){var h=n[c],f=Object(i.c)(h);this.setupChangeEvents_(f,h);var p=h.getGeometry();if(p){var d=p.getExtent();e.push(d),r.push(h)}else this.nullGeometryFeatures_[f]=h}this.featuresRtree_&&this.featuresRtree_.load(e,r);for(var y=0,g=n.length;y<g;y++)this.dispatchEvent(new x(m,n[y]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(c.a)(this,m,function(n){e||(e=!0,t.push(n.feature),e=!1)}),Object(c.a)(this,b,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),Object(c.a)(t,o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Object(c.a)(t,o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(c.e);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new x("clear");this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(g.d)(this.nullGeometryFeatures_)||Object(s.c)(t,Object(g.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||p.b;return this.featuresRtree_.forEachInExtent(s,function(t){if(u(t)){var e=t.getGeometry(),c=a;if((a=e.closestPointXY(n,i,o,a))<c){r=t;var l=Math.sqrt(a);s[0]=n-l,s[1]=i-l,s[2]=n+l,s[3]=i+l}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(i.c)(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var a=e.getId();if(void 0!==a){var s=a.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new x("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(i.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(g.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var a=function(t,a){var s=o[t];r.forEachInExtent(s,function(t){return Object(f.containsExtent)(t.extent,s)})||(i.loader_.call(i,s,e,n),r.insert(s,{extent:s.slice()}),i.loading=i.loader_!==p.c)},s=0,u=o.length;s<u;++s)a(s)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Object(f.equals)(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(i.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(i.c)(t);this.featureChangeKeys_[e].forEach(c.e),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new x(b,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(v.a);e.default=C},function(t,e,n){"use strict";n.r(e),n.d(e,"createStyleFunction",function(){return u});var i=n(10),r=n(1),o=n(5),a=n(14),s=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(r.a)(this,Object(a.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(r.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(r.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?u(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(r.c)(this,Object(a.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(r.a)(this,Object(a.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(a.a);function u(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:(Object(i.a)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}e.default=s},function(t,e,n){"use strict";var i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){},e.a=i},function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n(131);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,r){r||(r=y(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],u(r,t.leaf?i(o):o);return r}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,r,o){for(var a,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(a=e+Math.ceil((n-e)/r/2)*r,i(t,a,e,n,o),s.push(e,a,a,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!d(t,e))return n;for(var r,o,a,s,u=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],d(t,s=e.leaf?i(a):a)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var i,r,o,a,s=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],d(t,a=e.leaf?n(o):o)){if(e.leaf||p(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,a,s=this.data,u=this.toBBox(t),c=[],l=[];s||c.length;){if(s||(s=c.pop(),i=c[c.length-1],n=l.pop(),a=!0),s.leaf&&-1!==(r=o(t,s.children,e)))return s.children.splice(r,1),c.push(s),this._condense(c),this;a||s.leaf||!p(s,u)?i?(n++,s=i.children[n],a=!1):s=null:(c.push(s),l.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return a(r=y(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=y([])).leaf=!1,r.height=i;var u,c,l,h,f=Math.ceil(o/s),p=f*Math.ceil(Math.sqrt(s));for(g(t,e,n,p,this.compareMinX),u=e;u<=n;u+=p)for(g(t,u,l=Math.min(u+p-1,n),f,this.compareMinY),c=u;c<=l;c+=f)h=Math.min(c+f-1,l),r.children.push(this._build(t,c,h,i-1));return a(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,a,s,u,c,l,f,p,d;i.push(e),!e.leaf&&i.length-1!==n;){for(l=f=1/0,r=0,o=e.children.length;r<o;r++)u=h(a=e.children[r]),p=t,d=a,(c=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u)<f?(f=c,l=u<l?u:l,s=a):c===f&&u<l&&(l=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],a=this._chooseSubtree(r,this.data,e,o);for(a.children.push(t),u(a,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=y(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,a,u,c,l,f,p,d,y,g,v,_;for(c=l=1/0,i=e;i<=n-e;i++)p=r=s(t,0,i,this.toBBox),d=o=s(t,i,n,this.toBBox),y=void 0,g=void 0,v=void 0,_=void 0,y=Math.max(p.minX,d.minX),g=Math.max(p.minY,d.minY),v=Math.min(p.maxX,d.maxX),_=Math.min(p.maxY,d.maxY),a=Math.max(0,v-y)*Math.max(0,_-g),u=h(r)+h(o),a<c?(c=a,f=i,l=u<l?u:l):a===c&&u<l&&(l=u,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:c,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,a=this.toBBox,c=s(t,0,e,a),l=s(t,n-e,n,a),h=f(c)+f(l);for(r=e;r<n-e;r++)o=t.children[r],u(c,t.leaf?a(o):o),h+=f(c);for(r=n-e-1;r>=e;r--)o=t.children[r],u(l,t.leaf?a(o):o),h+=f(l);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)u(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){"use strict";var i=n(12),r=n(0),o=n(3),a=n(46),s=n(32),u=n(37),c=n(33),l=n(6),h=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<Object(r.closestSquaredDistanceXY)(this.getExtent(),t,e))return i;for(var o=this.flatCoordinates,a=this.stride,s=0,u=o.length;s<u;s+=a){var c=Object(l.f)(t,e,o[s],o[s+1]);if(c<i){i=c;for(var h=0;h<a;++h)n[h]=o[s+h];n.length=a}}return i},e.prototype.getCoordinates=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new a.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new a.default(t.slice(r,r+n),e);i.push(s)}return i},e.prototype.getType=function(){return o.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,o=e.length;i<o;i+=n){var a=e[i],s=e[i+1];if(Object(r.containsXY)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.a);e.a=h},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],u=t[e+1];r+=a*s-o*u,o=s,a=u}return r/2}function r(t,e,n,r){for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];o+=i(t,e,u,r),e=u}return o}function o(t,e,n,i){for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];o+=r(t,e,u,i),e=u[u.length-1]}return o}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i,r,o="ol-selectable",a="ol-unselectable",s=(r={},function(t){if(i||(i=document.createElement("div").style),!(t in r)){i.font=t;var e=i.fontFamily;if(i.font="",!e)return null;r[t]=e.split(/,\s?/)}return r[t]})},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i=n(12),r=n(6);function o(t,e,n,o,a,s){var u=NaN,c=NaN,l=(n-e)/o;if(1===l)u=t[e],c=t[e+1];else if(2==l)u=(1-a)*t[e]+a*t[e+o],c=(1-a)*t[e+1]+a*t[e+o+1];else if(0!==l){for(var h=t[e],f=t[e+1],p=0,d=[0],y=e+o;y<n;y+=o){var g=t[y],v=t[y+1];p+=Math.sqrt((g-h)*(g-h)+(v-f)*(v-f)),d.push(p),h=g,f=v}var _=a*p,m=Object(i.a)(d,_);if(m<0){var b=(_-d[-m-2])/(d[-m-1]-d[-m-2]),O=e+(-m-2)*o;u=Object(r.c)(t[O],t[O+o],b),c=Object(r.c)(t[O+1],t[O+o+1],b)}else u=t[e+m*o],c=t[e+m*o+1]}return s?(s[0]=u,s[1]=c,s):[u,c]}function a(t,e,n,i,o,a){if(n==e)return null;var s;if(o<t[e+i-1])return a?((s=t.slice(e,e+i))[i-1]=o,s):null;if(t[n-1]<o)return a?((s=t.slice(n-i,n))[i-1]=o,s):null;if(o==t[e+i-1])return t.slice(e,e+i);for(var u=e/i,c=n/i;u<c;){var l=u+c>>1;o<t[(l+1)*i-1]?c=l:u=l+1}var h=t[u*i-1];if(o==h)return t.slice((u-1)*i,(u-1)*i+i);var f=(o-h)/(t[(u+1)*i-1]-h);s=[];for(var p=0;p<i-1;++p)s.push(Object(r.c)(t[(u-1)*i+p],t[u*i+p],f));return s.push(o),s}function s(t,e,n,i,r,o,s){if(s)return a(t,e,n[n.length-1],i,r,o);var u;if(r<t[i-1])return o?((u=t.slice(0,i))[i-1]=r,u):null;if(t[t.length-1]<r)return o?((u=t.slice(t.length-i))[i-1]=r,u):null;for(var c=0,l=n.length;c<l;++c){var h=n[c];if(e!=h){if(r<t[e+i-1])return null;if(r<=t[h-1])return a(t,e,h,i,r,!1);e=h}}return null}},function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(15))&&r.__esModule?r:{default:r},a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.evtHdlrs={}}var e,n;return e=t,(n=[{key:"on",value:function(t,e,n){this.addHdlr(t,e,n)}},{key:"one",value:function(t,e,n){this.addHdlr(t,e,n,!0)}},{key:"trigger",value:function(t,e){var n=this.evtHdlrs[t],i=[];n&&(n.forEach(function(t){t.scope?t.handler.call(t.scope,e):t.handler(e),t.remove&&i.push(t)}),i.forEach(function(t){n.splice(o.default.inArray(t,n),1)}))}},{key:"off",value:function(t,e,n){var i=this.evtHdlrs[t];i.forEach(function(t,r){if(t.handler===e&&t.scope===n)return i.splice(r,1),!1})}},{key:"addHdlr",value:function(t,e,n,i){this.evtHdlrs[t]=this.evtHdlrs[t]||[],this.evtHdlrs[t].push({handler:e,scope:n,remove:i})}}])&&i(e.prototype,n),t}();a.Handler;var s=a;e.default=s},function(t,e,n){"use strict";n.r(e);var i=n(54),r=n(58),o={IMAGE:"image",VECTOR:"vector"},a=n(11),s=n(65),u="renderOrder",c=function(t){function e(e){var n=e||{},r=Object(a.a)({},n);delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,t.call(this,r),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||o.VECTOR,this.type=i.a.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(u)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(u,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:s.createDefaultStyle,this.styleFunction_=null===t?void 0:Object(s.toFunction)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(r.a);c.prototype.getSource,e.default=c},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n(6),r=(n(3),6371008.8);function o(t,e,n){var o=n||r,a=Object(i.i)(t[1]),s=Object(i.i)(e[1]),u=(s-a)/2,c=Object(i.i)(e[0]-t[0])/2,l=Math.sin(u)*Math.sin(u)+Math.sin(c)*Math.sin(c)*Math.cos(a)*Math.cos(s);return 2*o*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function a(t,e,n,o){var a=o||r,s=Object(i.i)(t[1]),u=Object(i.i)(t[0]),c=e/a,l=Math.asin(Math.sin(s)*Math.cos(c)+Math.cos(s)*Math.sin(c)*Math.cos(n)),h=u+Math.atan2(Math.sin(n)*Math.sin(c)*Math.cos(s),Math.cos(c)-Math.sin(s)*Math.sin(l));return[Object(i.h)(h),Object(i.h)(l)]}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(38),r=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function o(t,e,n){return e+":"+t+":"+(n?Object(i.b)(n):"null")}r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},r.prototype.get=function(t,e,n){var i=o(t,e,n);return i in this.cache_?this.cache_[i]:null},r.prototype.set=function(t,e,n,i){var r=o(t,e,n);this.cache_[r]=i,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var a=new r},function(t,e,n){"use strict";var i=n(12),r=n(16),o=n(0),a=n(36),s=n(11),u=n(2),c=function(){};c.prototype.getReplay=function(t,e){return Object(u.b)()},c.prototype.isEmpty=function(){return Object(u.b)()},c.prototype.addDeclutter=function(t){return Object(u.b)()};var l=c,h=n(13),f=n(41),p=n(26),d=n(3),y=n(33),g=n(89),v=n(6);function _(t,e,n,i,r,o,a,s){for(var u,c,l,h=[],f=t[e]>t[n-i],p=r.length,d=t[e],y=t[e+1],g=t[e+=i],_=t[e+1],m=0,b=Math.sqrt(Math.pow(g-d,2)+Math.pow(_-y,2)),O="",E=0,T=0;T<p;++T){c=f?p-T-1:T;var S=r.charAt(c),x=o(O=f?S+O:O+S)-E;E+=x;for(var C=a+x/2;e<n-i&&m+b<C;)d=g,y=_,g=t[e+=i],_=t[e+1],m+=b,b=Math.sqrt(Math.pow(g-d,2)+Math.pow(_-y,2));var w=C-m,j=Math.atan2(_-y,g-d);if(f&&(j+=j>0?-Math.PI:Math.PI),void 0!==l){var R=j-l;if(R+=R>Math.PI?-2*Math.PI:R<-Math.PI?2*Math.PI:0,Math.abs(R)>s)return null}var P=w/b,I=Object(v.c)(d,g,P),k=Object(v.c)(y,_,P);l==j?(f&&(u[0]=I,u[1]=k,u[2]=x/2),u[4]=O):(E=x,u=[I,k,x/2,j,O=S],f?h.unshift(u):h.push(u),l=j),a+=x}return h}var m=n(19),b=n(101),O=n(4),E={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},T=[E.FILL],S=[E.STROKE],x=[E.BEGIN_PATH],C=[E.CLOSE_PATH],w=E,j=n(45),R=n(9),P=Object(o.createEmpty)(),I=Object(R.c)(),k=function(t){function e(e,n,i,r,o,a){t.call(this),this.declutterTree=a,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(R.c)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,a,s,u,c,l,h,f,p,d,y,g,v,_){var m=v||_;e-=r*=p,n-=a*=p;var b,E,T,S,x=y+l>i.width?i.width-l:y,C=u+h>i.height?i.height-h:u,w=g[3]+x*p+g[1],j=g[0]+C*p+g[2],k=e-g[3],L=n-g[0];(m||0!==f)&&(b=[k,L],E=[k+w,L],T=[k+w,L+j],S=[k,L+j]);var M=null;if(0!==f){var A=e+r,F=n+a;M=Object(R.b)(I,A,F,1,1,f,-A,-F),Object(o.createOrUpdateEmpty)(P),Object(o.extendCoordinate)(P,Object(R.a)(I,b)),Object(o.extendCoordinate)(P,Object(R.a)(I,E)),Object(o.extendCoordinate)(P,Object(R.a)(I,T)),Object(o.extendCoordinate)(P,Object(R.a)(I,S))}else Object(o.createOrUpdate)(k,L,k+w,L+j,P);var D=t.canvas,N=_?_[2]*p/2:0,G=P[0]-N<=D.width&&P[2]+N>=0&&P[1]-N<=D.height&&P[3]+N>=0;if(d&&(e=Math.round(e),n=Math.round(n)),s){if(!G&&1==s[4])return;Object(o.extend)(s,P);var Y=G?[t,M?M.slice(0):null,c,i,l,h,x,C,e,n,p]:null;Y&&m&&Y.push(v,_,b,E,T,S),s.push(Y)}else G&&(m&&this.replayTextBackground_(t,b,E,T,S,v,_),Object(O.n)(t,M,c,i,l,h,x,C,e,n,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,a){var s=this.coordinates.length,u=this.getBufferedMaxExtent();a&&(e+=i);var c,l,h,f=[t[e],t[e+1]],d=[NaN,NaN],y=!0;for(c=e+i;c<n;c+=i)d[0]=t[c],d[1]=t[c+1],(h=Object(o.coordinateRelationship)(u,d))!==l?(y&&(this.coordinates[s++]=f[0],this.coordinates[s++]=f[1]),this.coordinates[s++]=d[0],this.coordinates[s++]=d[1],y=!1):h===p.a.INTERSECTING?(this.coordinates[s++]=d[0],this.coordinates[s++]=d[1],y=!1):y=!0,f[0]=d[0],f[1]=d[1],l=h;return(r&&y||c===e+i)&&(this.coordinates[s++]=f[0],this.coordinates[s++]=f[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatCoordinates(t,e,s,i,!1,!1);r.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,a,s,u=t.getType(),c=t.getStride(),l=this.coordinates.length;if(u==d.a.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var f=0,p=h.length;f<p;++f){var g=[];s=this.drawCustomCoordinates_(i,s,h[f],c,g),a.push(g)}this.instructions.push([w.CUSTOM,l,a,t,n,y.c])}else u==d.a.POLYGON||u==d.a.MULTI_LINE_STRING?(o=[],i=u==d.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),c,o),this.instructions.push([w.CUSTOM,l,o,t,n,y.b])):u==d.a.LINE_STRING||u==d.a.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,c,!1,!1),this.instructions.push([w.CUSTOM,l,r,t,n,y.a])):u==d.a.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([w.CUSTOM,l,r,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[w.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[w.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(R.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,O.r)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],m.a&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,a=t.length;r<a;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),O.n.apply(void 0,s))}}t.length=5,Object(o.createOrUpdateEmpty)(t)}}},e.prototype.replay_=function(t,e,n,r,c,l,h){var f;this.pixelCoordinates_&&Object(i.b)(e,this.renderedTransform_)?f=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),f=Object(a.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(R.g)(this.renderedTransform_,e));for(var p,d,y,v,m,b,E,T,S,x,C,P,I=!Object(s.d)(n),k=0,L=r.length,M=0,A=0,F=0,D=null,N=null,G=this.coordinateCache_,Y=this.viewRotation_,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Y},U=this.instructions!=r||this.overlaps?0:200;k<L;){var X=r[k];switch(X[0]){case w.BEGIN_GEOMETRY:x=X[1],I&&n[Object(u.c)(x)]||!x.getGeometry()?k=X[2]:void 0===h||Object(o.intersects)(h,x.getGeometry().getExtent())?++k:k=X[2]+1;break;case w.BEGIN_PATH:A>U&&(this.fill_(t),A=0),F>U&&(t.stroke(),F=0),A||F||(t.beginPath(),v=m=NaN),++k;break;case w.CIRCLE:var z=f[M=X[1]],H=f[M+1],W=f[M+2]-z,K=f[M+3]-H,V=Math.sqrt(W*W+K*K);t.moveTo(z+V,H),t.arc(z,H,V,0,2*Math.PI,!0),++k;break;case w.CLOSE_PATH:t.closePath(),++k;break;case w.CUSTOM:M=X[1],p=X[2];var Z=X[3],q=X[4],J=6==X.length?X[5]:void 0;B.geometry=Z,B.feature=x,k in G||(G[k]=[]);var $=G[k];J?J(f,M,p,2,$):($[0]=f[M],$[1]=f[M+1],$.length=2),q($,B),++k;break;case w.DRAW_IMAGE:M=X[1],p=X[2],S=X[3],d=X[4],y=X[5],T=l?null:X[6];var Q=X[7],tt=X[8],et=X[9],nt=X[10],it=X[11],rt=X[12],ot=X[13],at=X[14],st=void 0,ut=void 0,ct=void 0;for(X.length>16?(st=X[15],ut=X[16],ct=X[17]):(st=O.j,ut=ct=!1),it&&(rt+=Y);M<p;M+=2)this.replayImage_(t,f[M],f[M+1],S,d,y,T,Q,tt,et,nt,rt,ot,c,at,st,ut?D:null,ct?N:null);this.renderDeclutter_(T,x),++k;break;case w.DRAW_CHARS:var lt=X[1],ht=X[2],ft=X[3];T=l?null:X[4];var pt=X[5],dt=X[6],yt=X[7],gt=X[8],vt=X[9],_t=X[10],mt=X[11],bt=X[12],Ot=X[13],Et=X[14],Tt=Object(g.a)(f,lt,ht,2),St=gt(bt);if(pt||St<=Tt){var xt=this.textStates[Ot].textAlign,Ct=_(f,lt,ht,2,bt,gt,(Tt-St)*j.b[xt],yt);if(Ct){var wt=void 0,jt=void 0,Rt=void 0,Pt=void 0,It=void 0;if(_t)for(wt=0,jt=Ct.length;wt<jt;++wt)Rt=(It=Ct[wt])[4],Pt=this.getImage(Rt,Ot,"",_t),d=It[2]+mt,y=ft*Pt.height+2*(.5-ft)*mt-vt,this.replayImage_(t,It[0],It[1],Pt,d,y,T,Pt.height,1,0,0,It[3],Et,!1,Pt.width,O.j,null,null);if(dt)for(wt=0,jt=Ct.length;wt<jt;++wt)Rt=(It=Ct[wt])[4],Pt=this.getImage(Rt,Ot,dt,""),d=It[2],y=ft*Pt.height-vt,this.replayImage_(t,It[0],It[1],Pt,d,y,T,Pt.height,1,0,0,It[3],Et,!1,Pt.width,O.j,null,null)}}this.renderDeclutter_(T,x),++k;break;case w.END_GEOMETRY:if(void 0!==l){var kt=l(x=X[1]);if(kt)return kt}++k;break;case w.FILL:U?A++:this.fill_(t),++k;break;case w.MOVE_TO_LINE_TO:for(M=X[1],p=X[2],C=f[M],E=(P=f[M+1])+.5|0,(b=C+.5|0)===v&&E===m||(t.moveTo(C,P),v=b,m=E),M+=2;M<p;M+=2)b=(C=f[M])+.5|0,E=(P=f[M+1])+.5|0,M!=p-2&&b===v&&E===m||(t.lineTo(C,P),v=b,m=E);++k;break;case w.SET_FILL_STYLE:D=X,this.alignFill_=X[2],A&&(this.fill_(t),A=0,F&&(t.stroke(),F=0)),t.fillStyle=X[1],++k;break;case w.SET_STROKE_STYLE:N=X,F&&(t.stroke(),F=0),this.setStrokeStyle_(t,X),++k;break;case w.STROKE:U?F++:t.stroke(),++k;break;default:++k}}A&&this.fill_(t),F&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,o=e.length,a=-1;for(t=0;t<o;++t)(r=(n=e[t])[0])==w.END_GEOMETRY?a=t:r==w.BEGIN_GEOMETRY&&(n[2]=t,Object(i.i)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Object(f.a)(i||O.b)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Object(f.a)(r||O.k);var o=e.getLineCap();n.lineCap=void 0!==o?o:O.d;var a=e.getLineDash();n.lineDash=a?a.slice():O.e;var s=e.getLineDashOffset();n.lineDashOffset=s||O.f;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:O.g;var c=e.getWidth();n.lineWidth=void 0!==c?c:O.h;var l=e.getMiterLimit();n.miterLimit=void 0!==l?l:O.i,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[w.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[w.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,u=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||o!=t.currentLineDash&&!Object(i.b)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=u||t.currentMiterLimit!=c)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=u,t.currentMiterLimit=c)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[w.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(o.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(o.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(b.a),L=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([w.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([w.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([w.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([w.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(k),M=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),a=[w.MOVE_TO_LINE_TO,r,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([w.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],x);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(S),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([w.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],x);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),u=0,c=0,l=o.length;c<l;++c)u=this.drawFlatCoordinates_(a,u,o[c],s);this.hitDetectionInstructions.push(S),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(S),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(S),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(x)},e}(k),A=n(38),F=n(47),D=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,a=null!=r.strokeStyle,s=n.length;this.instructions.push(x),this.hitDetectionInstructions.push(x);for(var u=0;u<s;++u){var c=n[u],l=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,i,!0,!a),f=[w.MOVE_TO_LINE_TO,l,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(C),this.hitDetectionInstructions.push(C)),e=c}return o&&(this.instructions.push(T),this.hitDetectionInstructions.push(T)),a&&(this.instructions.push(S),this.hitDetectionInstructions.push(S)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([w.SET_FILL_STYLE,Object(A.b)(O.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([w.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var u=[w.CIRCLE,s];this.instructions.push(x,u),this.hitDetectionInstructions.push(x,u),this.hitDetectionInstructions.push(T),void 0!==n.fillStyle&&this.instructions.push(T),void 0!==n.strokeStyle&&(this.instructions.push(S),this.hitDetectionInstructions.push(S)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([w.SET_FILL_STYLE,Object(A.b)(O.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([w.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([w.SET_FILL_STYLE,Object(A.b)(O.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([w.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),u=0,c=0,l=o.length;c<l;++c)u=this.drawFlatCoordinatess_(a,u,o[c],s);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=Object(F.e)(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(k);function N(t,e,n,i,r){var o,a,s,u,c,l,h,f,p,d=n,y=n,g=0,v=0,_=n;for(o=n;o<i;o+=r){var m=e[o],b=e[o+1];void 0!==u&&(f=m-u,p=b-c,s=Math.sqrt(f*f+p*p),void 0!==l&&(v+=a,Math.acos((l*f+h*p)/(a*s))>t&&(v>g&&(g=v,d=_,y=o),v=0,_=o-r)),a=s,l=f,h=p),u=m,c=b}return(v+=s)>g?[_,o]:[d,y]}var G=n(103),Y=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},O.o.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var a,s,u=this.coordinates.length,c=t.getType(),l=null,h=2,f=2;if(r.placement===G.a.LINE){if(!Object(o.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var p;if(l=t.getFlatCoordinates(),f=t.getStride(),c==d.a.LINE_STRING)p=[l.length];else if(c==d.a.MULTI_LINE_STRING)p=t.getEnds();else if(c==d.a.POLYGON)p=t.getEnds().slice(0,1);else if(c==d.a.MULTI_POLYGON){var y=t.getEndss();for(p=[],a=0,s=y.length;a<s;++a)p.push(y[a][0])}this.beginGeometry(t,e);for(var g,v=r.textAlign,_=0,m=0,b=p.length;m<b;++m){if(null==v){var O=N(r.maxAngle,l,_,p[m],f);_=O[0],g=O[1]}else g=p[m];for(a=_;a<g;a+=f)this.coordinates.push(l[a],l[a+1]);h=this.coordinates.length,_=p[m],this.drawChars_(u,h,this.declutterGroup_),u=h}this.endGeometry(t,e)}else{var E=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),T=E.width/this.pixelRatio;switch(c){case d.a.POINT:case d.a.MULTI_POINT:h=(l=t.getFlatCoordinates()).length;break;case d.a.LINE_STRING:l=t.getFlatMidpoint();break;case d.a.CIRCLE:l=t.getCenter();break;case d.a.MULTI_LINE_STRING:h=(l=t.getFlatMidpoints()).length;break;case d.a.POLYGON:if(l=t.getFlatInteriorPoint(),!r.overflow&&l[2]/this.resolution<T)return;f=3;break;case d.a.MULTI_POLYGON:var S=t.getFlatInteriorPoints();for(l=[],a=0,s=S.length;a<s;a+=3)(r.overflow||S[a+2]/this.resolution>=T)&&l.push(S[a],S[a+1]);if(0==(h=l.length))return}h=this.appendFlatCoordinates(l,0,h,f,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(E,u,h),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var o,a=i+e+t+n+this.pixelRatio;if(!O.o.containsKey(a)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,u=n?this.fillStates[n]||this.textFillState_:null,c=this.textStates[e]||this.textState_,l=this.pixelRatio,h=c.scale*l,f=j.b[c.textAlign||O.l],p=i&&s.lineWidth?s.lineWidth:0,d=t.split("\n"),y=d.length,g=[],v=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var a=Object(O.q)(t,e[o]);r=Math.max(r,a),n.push(a)}return r}(c.font,d,g),_=Object(O.p)(c.font),b=_*y,E=v+p,T=Object(r.a)(Math.ceil(E*h),Math.ceil((b+p)*h));o=T.canvas,O.o.set(a,o),1!=h&&T.scale(h,h),T.font=c.font,i&&(T.strokeStyle=s.strokeStyle,T.lineWidth=p,T.lineCap=s.lineCap,T.lineJoin=s.lineJoin,T.miterLimit=s.miterLimit,m.a&&s.lineDash.length&&(T.setLineDash(s.lineDash),T.lineDashOffset=s.lineDashOffset)),n&&(T.fillStyle=u.fillStyle),T.textBaseline="middle",T.textAlign="center";var S,x=.5-f,C=f*o.width/h+x*p;if(i)for(S=0;S<y;++S)T.strokeText(d[S],C+x*g[S],.5*(p+_)+S*_);if(n)for(S=0;S<y;++S)T.fillText(d[S],C+x*g[S],.5*(p+_)+S*_)}return O.o.get(a)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,a=j.b[i.textAlign||O.l],s=j.b[i.textBaseline],u=r&&r.lineWidth?r.lineWidth:0,c=a*t.width/o+2*(.5-a)*u,l=s*t.height/o+2*(.5-s)*u;this.instructions.push([w.DRAW_IMAGE,e,n,t,(c-this.textOffsetX_)*o,(l-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==O.j?O.j:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([w.DRAW_IMAGE,e,n,t,(c-this.textOffsetX_)*o,(l-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,a=this.strokeKey_;i&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||O.l,scale:r.scale});var u=this.fillKey_;o&&(u in this.fillStates||(this.fillStates[u]={fillStyle:o.fillStyle}));var c=this.pixelRatio,l=j.b[r.textBaseline],h=this.textOffsetY_*c,f=this.text_,p=r.font,d=r.scale,y=i?i.lineWidth*d/2:0,g=this.widths_[p];g||(this.widths_[p]=g={}),this.instructions.push([w.DRAW_CHARS,t,e,l,n,r.overflow,u,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Object(O.q)(p,t)),e*d*c},h,a,y*c,f,s,1]),this.hitDetectionInstructions.push([w.DRAW_CHARS,t,e,l,n,r.overflow,u,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Object(O.q)(p,t)),e*d},h,a,y,f,s,1/c])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){this.declutterGroup_=e;var o=t.getFill();o?((i=this.textFillState_)||(i=this.textFillState_={}),i.fillStyle=Object(f.a)(o.getColor()||O.b)):i=this.textFillState_=null;var a=t.getStroke();if(a){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var s=a.getLineDash(),c=a.getLineDashOffset(),l=a.getWidth(),h=a.getMiterLimit();r.lineCap=a.getLineCap()||O.d,r.lineDash=s?s.slice():O.e,r.lineDashOffset=void 0===c?O.f:c,r.lineJoin=a.getLineJoin()||O.g,r.lineWidth=void 0===l?O.h:l,r.miterLimit=void 0===h?O.i:h,r.strokeStyle=Object(f.a)(a.getColor()||O.k)}else r=this.textStrokeState_=null;n=this.textState_;var p=t.getFont()||O.c;Object(O.a)(p);var d=t.getScale();n.overflow=t.getOverflow(),n.font=p,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||O.m,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||O.j,n.scale=void 0===d?1:d;var y=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===y?0:y,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===_?0:_,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(u.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Object(u.c)(i.fillStyle):""}else this.text_=""},e}(k);n.d(e,"b",function(){return H});var B={Circle:D,Default:k,Image:L,LineString:M,Polygon:D,Text:Y},U=function(t){function e(e,n,i,o,a,s,u){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=a,this.pixelRatio_=o,this.resolution_=i,this.renderBuffer_=u,this.replaysByZIndex_={},this.hitDetectionContext_=Object(r.a)(1,1),this.hitDetectionTransform_=Object(R.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Object(o.createEmpty)()).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,a,s,u){var c,l=2*(r=Math.round(r))+1,f=Object(R.b)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),p=this.hitDetectionContext_;p.canvas.width!==l||p.canvas.height!==l?(p.canvas.width=l,p.canvas.height=l):p.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(c=Object(o.createEmpty)(),Object(o.extendCoordinate)(c,t),Object(o.buffer)(c,e*(this.renderBuffer_+r),c));var d,y,g=function(t){if(void 0!==X[t])return X[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);for(var r=t,o=0,a=0;r>=o;)z(n,t+r,t+o),z(n,t+o,t+r),z(n,t-o,t+r),z(n,t-r,t+o),z(n,t-r,t-o),z(n,t-o,t-r),z(n,t+o,t-r),z(n,t+r,t-o),2*((a+=1+2*++o)-r)+1>0&&(a+=1-2*(r-=1));return X[t]=n,n}(r);function v(t){for(var e=p.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var i=0;i<l;i++)if(g[n][i]&&e[4*(i*l+n)+3]>0){var r=void 0;return(!d||y!=h.a.IMAGE&&y!=h.a.TEXT||-1!==d.indexOf(t))&&(r=s(t)),r||void p.clearRect(0,0,l,l)}}this.declutterTree_&&(d=this.declutterTree_.all().map(function(t){return t.value}));var _,m,b,O,E,T=Object.keys(this.replaysByZIndex_).map(Number);for(T.sort(i.g),_=T.length-1;_>=0;--_){var S=T[_].toString();for(b=this.replaysByZIndex_[S],m=j.a.length-1;m>=0;--m)if(void 0!==(O=b[y=j.a[m]]))if(!u||y!=h.a.IMAGE&&y!=h.a.TEXT){if(E=O.replayHitDetection(p,f,n,a,v,c))return E}else{var x=u[S];x?x.push(O,f.slice(0)):u[S]=[O,f.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return Object(a.c)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new(0,B[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r),r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(s.d)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,r,o,a,s){var u=Object.keys(this.replaysByZIndex_).map(Number);u.sort(i.g),t.save(),this.clip(t,e);var c,l,f,p,d,y,g=a||j.a;for(c=0,l=u.length;c<l;++c){var v=u[c].toString();for(d=this.replaysByZIndex_[v],f=0,p=g.length;f<p;++f){var _=g[f];if(void 0!==(y=d[_]))if(!s||_!=h.a.IMAGE&&_!=h.a.TEXT)y.replay(t,e,n,r,o);else{var m=s[v];m?m.push(y,e.slice(0)):s[v]=[y,e.slice(0)]}}}t.restore()},e}(l),X={0:[[!0]]};function z(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}function H(t,e,n,r){for(var o=Object.keys(t).map(Number).sort(i.g),a={},s=0,u=o.length;s<u;++s)for(var c=t[o[s].toString()],l=0,h=c.length;l<h;){var f=c[l++],p=c[l++];f.replay(e,p,n,a,r)}}e.a=U},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(15)),c=l(n(42));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=t||{}).target=t.target||"body",n=o(this,a(e).call(this,(0,u.default)(e.HTML))),(0,u.default)(t.target).append(n.getContainer().addClass(t.css)),n.open=!1,n.okBtn=n.find(".btn-ok"),n.yesNoBtns=n.find(".btn-yes, .btn-no"),n.inputBtns=n.find(".btn-submit, .btn-cancel"),n.field=n.find("input"),n.msg=n.find(".dia-msg"),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"ok",value:function(t){this.buttons(e.Type.OK,t),this.show(e.Type.OK,t),this.okBtn.focus();var n=this,i=this.okBtn;return new Promise(function(t){i.one("click",function(e){n.checkHref(e),n.hide(),t(!0)})})}},{key:"input",value:function(t){var n=this.field;this.buttons(e.Type.INPUT,t),n.attr("placeholder",t.placeholder||""),this.show(e.Type.INPUT,t),n.focus();var i=this,r=this.inputBtns;return new Promise(function(t){var e=function(e){i.hndlKey(t,i,e)};(0,u.default)(document).keyup(e),r.one("click",function(r){var o=(0,u.default)(r.target).hasClass("btn-cancel");(0,u.default)(document).off("keyup",e),i.hide(),t(o?void 0:n.val())})})}},{key:"yesNo",value:function(t){this.buttons(e.Type.YES_NO,t),this.show(e.Type.YES_NO,t),this.find(".btn-yes").focus();var n=this,i=this.yesNoBtns;return new Promise(function(t){i.one("click",function(e){n.checkHref(e),n.hide(),t(n.isYesBtn(e.target))})})}},{key:"yesNoCancel",value:function(t){this.buttons(e.Type.YES_NO_CANCEL,t),this.show(e.Type.YES_NO_CANCEL,t),this.find(".btn-yes").focus();var n=this,i=this.yesNoBtns,r=this.find(".btn-cancel");return new Promise(function(t){var e=function(e){n.hndlKey(t,n,e)};(0,u.default)(document).keyup(e),i.one("click",function(i){n.checkHref(i),(0,u.default)(document).off("keyup",e),n.hide(),t(n.isYesBtn(i.target))}),r.one("click",function(i){n.checkHref(i),(0,u.default)(document).off("keyup",e),n.hide(),t(void 0)})})}},{key:"isYesBtn",value:function(t){return(0,u.default)(t).hasClass("btn-yes")||u.default.contains(this.find(".btn-yes").get(0),t)}},{key:"checkHref",value:function(t){"#"===(0,u.default)(t.target).attr("href")&&t.preventDefault()}},{key:"buttons",value:function(t,n){var i=n.buttonText||[],r=n.buttonHref||[];switch(t){case e.Type.OK:this.find(".btn-ok").html(i[0]||"OK").attr("href",r[0]||"#");break;case e.Type.INPUT:this.find(".btn-submit").html(i[0]||"Submit").attr("href",r[0]||"#"),this.find(".btn-cancel").html(i[1]||"Cancel").attr("href",r[1]||"#");break;case e.Type.YES_NO:this.find(".btn-yes").html(i[0]||"Yes").attr("href",r[0]||"#"),this.find(".btn-no").html(i[1]||"No").attr("href",r[1]||"#");break;case e.Type.YES_NO_CANCEL:this.find(".btn-yes").html(i[0]||"Yes").attr("href",r[0]||"#"),this.find(".btn-no").html(i[1]||"No").attr("href",r[1]||"#"),this.find(".btn-cancel").html(i[2]||"Cancel").attr("href",r[2]||"#")}}},{key:"show",value:function(t,n){var i;this.open=!0,(0,u.default)("*").on("focus",u.default.proxy(this.trapFocus,this)),this.currentType=t,this.getContainer().removeClass("dia-3-btns"),this.find(".ui-link").removeClass("ui-link"),this.inputBtns.css("display",t===e.Type.INPUT?"inline-block":"none"),this.field.css("display",t===e.Type.INPUT?"block":"none"),this.okBtn.css("display",t===e.Type.OK?"inline-block":"none"),this.yesNoBtns.css("display",t===e.Type.YES_NO?"inline-block":"none"),t===e.Type.YES_NO_CANCEL&&(this.getContainer().addClass("dia-3-btns"),this.yesNoBtns.css("display","inline-block"),this.find(".btn-cancel").css("display","inline-block"));try{i=(0,u.default)(n.message)}catch(t){}i&&i.length?this.msg.html(i):this.msg.html(n.message),this.getContainer().fadeIn()}},{key:"trapFocus",value:function(t){var e=this.getContainer();this.open&&!u.default.contains(e.get(0),t.target)&&this.find(".btn:visible").first().focus()}},{key:"hide",value:function(){var t=this.field;this.open=!1,(0,u.default)("*").off("focus",u.default.proxy(this.trapFocus,this)),this.getContainer().fadeOut(function(){t.val("")})}},{key:"hndlKey",value:function(t,e,n){13===n.keyCode&&(0,u.default)(n.target).get(0)===e.field.get(0)?(e.hide(),t(e.field.val())):27===n.keyCode&&(e.hide(),t(void 0))}}])&&r(n.prototype,i),e}();h.Type={OK:"ok",YES_NO:"yes-no",YES_NO_CANCEL:"yes-no-cancel",INPUT:"input"},h.Options,h.ShowOptions,h.HTML='<div class="dia-container" role="dialog"><div class="dia"><div class="dia-msg"></div><input class="rad-all"><div class="dia-btns"><a class="btn rad-all btn-ok">OK</a><a class="btn rad-all btn-yes">Yes</a><a class="btn rad-all btn-no">No</a><a class="btn rad-all btn-submit">OK</a><a class="btn rad-all btn-cancel">Cancel</a></div></div></div>';var f=h;e.default=f},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n(22),o=n(10),a=n(38),s=n(1),u=n(5),c={FRACTION:"fraction",PIXELS:"pixels"},l=n(16),h=n(48),f=n(83),p=function(t){function e(e,n,i,r,o,a){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=a?document.createElement("canvas"):null,this.color_=a,this.imageListenerKeys_=null,this.imageState_=o,this.size_=i,this.src_=n,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===r.a.LOADED){this.tainted_=!1;var t=Object(l.a)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(u.a.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=r.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=r.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=Object(l.a)(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==r.a.IDLE){this.imageState_=r.a.LOADING,this.imageListenerKeys_=[Object(s.b)(this.image_,u.a.ERROR,this.handleImageError_,this),Object(s.b)(this.image_,u.a.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,r=this.color_[1]/255,o=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=i,n[a+1]*=r,n[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.e),this.imageListenerKeys_=null},e}(h.a),d={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},y=function(t){function e(e){var n=e||{},s=void 0!==n.opacity?n.opacity:1,u=void 0!==n.rotation?n.rotation:0,l=void 0!==n.scale?n.scale:1,h=void 0!==n.rotateWithView&&n.rotateWithView;t.call(this,{opacity:s,rotation:u,scale:l,rotateWithView:h}),this.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:d.TOP_LEFT,this.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:c.FRACTION,this.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:c.FRACTION,this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var y=void 0!==n.img?n.img:null,g=void 0!==n.imgSize?n.imgSize:null,v=n.src;Object(o.a)(!(void 0!==v&&y),4),Object(o.a)(!y||y&&g,5),void 0!==v&&0!==v.length||!y||(v=y.src||Object(i.c)(y)),Object(o.a)(void 0!==v&&v.length>0,6);var _=void 0!==n.src?r.a.IDLE:r.a.LOADED;this.color_=void 0!==n.color?Object(a.a)(n.color):null,this.iconImage_=function(t,e,n,i,r,o){var a=f.a.get(e,i,o);return a||(a=new p(t,e,n,i,r,o),f.a.set(e,i,o,a)),a}(y,v,g,this.crossOrigin_,_,this.color_),this.offset_=void 0!==n.offset?n.offset:[0,0],this.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:d.TOP_LEFT,this.origin_=null,this.size_=void 0!==n.size?n.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==c.FRACTION||this.anchorYUnits_==c.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==c.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==c.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=d.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=d.TOP_RIGHT&&this.anchorOrigin_!=d.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=d.BOTTOM_LEFT&&this.anchorOrigin_!=d.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=d.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=d.TOP_RIGHT&&this.offsetOrigin_!=d.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=d.BOTTOM_LEFT&&this.offsetOrigin_!=d.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return Object(s.a)(this.iconImage_,u.a.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){Object(s.c)(this.iconImage_,u.a.CHANGE,t,e)},e}(n(98).a);e.default=y},function(t,e,n){"use strict";var i=n(2),r=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.a=r},function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var a,s=[t[e],t[e+1]],u=[];e+i<n;e+=i){if(u[0]=t[e+i],u[1]=t[e+i+1],a=r.call(o,s,u))return a;s[0]=u[0],s[1]=u[1]}return!1}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=t[e],o=t[e+1],a=0,s=e+i;s<n;s+=i){var u=t[s],c=t[s+1];a+=Math.sqrt((u-r)*(u-r)+(c-o)*(c-o)),r=u,o=c}return a}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";var i=n(2),r=n(14),o=n(0),a=n(36),s=n(8),u=n(27),c=n(9),l=Object(c.c)(),h=function(t){function e(){t.call(this),this.extent_=Object(o.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(i.b)()},e.prototype.closestPointXY=function(t,e,n,r){return Object(i.b)()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(o.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.b)()},e.prototype.scale=function(t,e,n){Object(i.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.b)()},e.prototype.getType=function(){return Object(i.b)()},e.prototype.applyTransform=function(t){Object(i.b)()},e.prototype.intersectsExtent=function(t){return Object(i.b)()},e.prototype.translate=function(t,e){Object(i.b)()},e.prototype.transform=function(t,e){var n=Object(s.get)(t),i=n.getUnits()==u.b.TILE_PIXELS?function(t,i,r){var u=n.getExtent(),h=n.getWorldExtent(),f=Object(o.getHeight)(h)/Object(o.getHeight)(u);return Object(c.b)(l,h[0],h[3],f,-f,0,0,0),Object(a.c)(t,0,t.length,r,l,i),Object(s.getTransform)(n,e)(t,i,r)}:Object(s.getTransform)(n,e);return this.applyTransform(i),this},e}(r.a);e.a=h},function(t,e,n){"use strict";var i=n(1),r=n(48),o=n(5),a=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.a)(this,t[o],e);return r}return Object(i.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.b)(this,t[o],e);return r}return Object(i.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)Object(i.c)(this,t[n],e);else Object(i.c)(this,t,e)},e}(r.a);e.a=a},function(t,e,n){"use strict";var i=n(2),r=n(14),o=n(8),a=n(49),s=function(t){function e(e){t.call(this),this.projection_=Object(o.get)(e.projection),this.attributions_=u(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:a.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(i.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=u(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(r.a);function u(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n(23))&&i.__esModule?i:{default:i},o=n(59);(0,n(116).register)(r.default.proj4);var a={TILE_HOSTS:"",TILE_GRID:(0,o.createXYZ)({minZoom:8,maxZoom:21})};e.default=a},function(t,e,n){"use strict";var i=n(2),r=n(57),o=n(60),a=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return o.default.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(i.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(i.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(i.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(s(t))},e.prototype.readProjectionFromObject=function(t){return Object(i.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(i.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(i.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(i.b)()},e}(r.default);function s(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}e.a=a},function(t,e,n){"use strict";var i=n(12),r=n(0),o=n(21),a=n(3),s=n(63),u=n(32),c=n(35),l=n(37),h=n(33),f=n(78),p=n(64),d=n(47),y=function(t){function e(e,n,r){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{for(var o=this.getLayout(),a=e,s=[],u=[],c=0,l=a.length;c<l;++c){var h=a[c];0===c&&(o=h.getLayout()),Object(i.c)(s,h.getFlatCoordinates()),u.push(s.length)}this.setFlatCoordinates(o,s),this.ends_=u}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return Object(h.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,a=e.length;o<a;++o){var u=e[o],c=new s.default(t.slice(r,u),n);i.push(c),r=u}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,o=this.stride,a=0,s=r.length;a<s;++a){var u=r[a],c=Object(f.a)(e,n,u,o,.5);Object(i.c)(t,c),n=u}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,o.a.XY,i)},e.prototype.getType=function(){return a.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(l.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(u.a);e.a=y},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n(12),r=n(50);function o(t,e,n,o,a,s,u){for(var c,l,h,f,p,d,y,g=a[s+1],v=[],_=0,m=n.length;_<m;++_){var b=n[_];for(f=t[b-o],d=t[b-o+1],c=e;c<b;c+=o)p=t[c],y=t[c+1],(g<=d&&y<=g||d<=g&&g<=y)&&(h=(g-d)/(y-d)*(p-f)+f,v.push(h)),f=p,d=y}var O=NaN,E=-1/0;for(v.sort(i.g),f=v[0],c=1,l=v.length;c<l;++c){p=v[c];var T=Math.abs(p-f);T>E&&(h=(f+p)/2,Object(r.c)(t,e,n,o,h,g)&&(O=h,E=T)),f=p}return isNaN(O)&&(O=a[s]),u?(u.push(O,g,E),u):[O,g,E]}function a(t,e,n,i,r){for(var a=[],s=0,u=n.length;s<u;++s){var c=n[s];a=o(t,e,c,i,r,2*s,a),e=c[c.length-1]}return a}},function(t,e,n){"use strict";var i=n(10),r=n(48),o=n(5),a=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(i.a)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(r.a);e.a=a},function(t,e,n){"use strict";var i=n(2),r=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};r.prototype.clone=function(){return new r({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getSnapToPixel=function(){return!1},r.prototype.getAnchor=function(){return Object(i.b)()},r.prototype.getImage=function(t){return Object(i.b)()},r.prototype.getHitDetectionImage=function(t){return Object(i.b)()},r.prototype.getImageState=function(){return Object(i.b)()},r.prototype.getImageSize=function(){return Object(i.b)()},r.prototype.getHitDetectionImageSize=function(){return Object(i.b)()},r.prototype.getOrigin=function(){return Object(i.b)()},r.prototype.getSize=function(){return Object(i.b)()},r.prototype.setOpacity=function(t){this.opacity_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t},r.prototype.setSnapToPixel=function(t){},r.prototype.listenImageChange=function(t,e){return Object(i.b)()},r.prototype.load=function(){Object(i.b)()},r.prototype.unlistenImageChange=function(t,e){Object(i.b)()},e.a=r},function(t,e,n){"use strict";var i=n(2),r=n(14),o=n(25),a=n(6),s=n(11),u=function(t){function e(e){t.call(this);var n=Object(s.a)({},e);n[o.a.OPACITY]=void 0!==e.opacity?e.opacity:1,n[o.a.VISIBLE]=void 0===e.visible||e.visible,n[o.a.Z_INDEX]=e.zIndex,n[o.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[o.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(a.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(i.b)()},e.prototype.getLayerStatesArray=function(t){return Object(i.b)()},e.prototype.getExtent=function(){return this.get(o.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},e.prototype.getSourceState=function(){return Object(i.b)()},e.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e}(r.a);e.a=u},function(t,e,n){"use strict";var i=n(12),r=n(41),o=n(0),a=n(3),s=n(32),u=n(36),c=n(19),l=n(101),h=n(4),f=n(9),p=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(f.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=Object(u.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var l=0,h=r.length;l<h;l+=2){var p=r[l]-this.imageAnchorX_,d=r[l+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_){var y=p+this.imageAnchorX_,g=d+this.imageAnchorY_;Object(f.b)(a,y,g,this.imageScale_,this.imageScale_,c,-y,-g),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(u.c)(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=r[e]+this.textOffsetX_,c=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var l=Object(f.b)(this.tmpLocalTransform_,s,c,this.textScale_,this.textScale_,a,-s,-c);o.setTransform.apply(o,l)}this.textStrokeState_&&o.strokeText(this.text_,s,c),this.textFillState_&&o.fillText(this.text_,s,c)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,a=Object(u.c)(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var c=2;c<s;c+=2)o.lineTo(a[c],a[c+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(Object(o.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(s.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),a=this.context_;a.beginPath(),a.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case a.a.POINT:this.drawPoint(t);break;case a.a.LINE_STRING:this.drawLineString(t);break;case a.a.POLYGON:this.drawPolygon(t);break;case a.a.MULTI_POINT:this.drawMultiPoint(t);break;case a.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case a.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case a.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case a.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Object(o.intersects)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(Object(o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(o.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,a=t.getEnds(),s=t.getStride();n.beginPath();for(var u=0,c=a.length;u<c;++u)r=this.moveToLineTo_(i,r,a[u],s,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),a=t.getStride();e.beginPath();for(var s=0,u=r.length;s<u;++s){var c=r[s];i=this.drawRings_(n,i,c,a)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),c.a&&(Object(i.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,c.a&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:h.l;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Object(r.a)(n||h.b)}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),u=e.getLineJoin(),c=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:h.d,lineDash:a||h.e,lineDashOffset:s||h.f,lineJoin:void 0!==u?u:h.g,lineWidth:this.pixelRatio_*(void 0!==c?c:h.h),miterLimit:void 0!==l?l:h.i,strokeStyle:Object(r.a)(i||h.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Object(r.a)(n||h.b)}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),a=i.getLineCap(),s=i.getLineDash(),u=i.getLineDashOffset(),c=i.getLineJoin(),l=i.getWidth(),f=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.d,lineDash:s||h.e,lineDashOffset:u||h.f,lineJoin:void 0!==c?c:h.g,lineWidth:void 0!==l?l:h.h,miterLimit:void 0!==f?f:h.i,strokeStyle:Object(r.a)(o||h.k)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),y=t.getOffsetY(),g=t.getRotateWithView(),v=t.getRotation(),_=t.getScale(),m=t.getText(),b=t.getTextAlign(),O=t.getTextBaseline();this.textState_={font:void 0!==p?p:h.c,textAlign:void 0!==b?b:h.l,textBaseline:void 0!==O?O:h.m},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==y?this.pixelRatio_*y:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==v?v:0,this.textScale_=this.pixelRatio_*(void 0!==_?_:1)}else this.text_=""},e}(l.a);e.a=p},function(t,e,n){"use strict";var i=function(){};i.prototype.drawCustom=function(t,e,n){},i.prototype.drawGeometry=function(t){},i.prototype.setStyle=function(t){},i.prototype.drawCircle=function(t,e){},i.prototype.drawFeature=function(t,e){},i.prototype.drawGeometryCollection=function(t,e){},i.prototype.drawLineString=function(t,e){},i.prototype.drawMultiLineString=function(t,e){},i.prototype.drawMultiPoint=function(t,e){},i.prototype.drawMultiPolygon=function(t,e){},i.prototype.drawPoint=function(t,e){},i.prototype.drawPolygon=function(t,e){},i.prototype.drawText=function(t,e){},i.prototype.setFillStrokeStyle=function(t,e){},i.prototype.setImageStyle=function(t,e){},i.prototype.setTextStyle=function(t,e){},e.a=i},function(t,e,n){"use strict";var i=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n(24).a);e.a=i},function(t,e,n){"use strict";e.a={POINT:"point",LINE:"line"}},function(t,e,n){"use strict";n.r(e);var i=n(38),r=n(41),o=n(16),a=n(19),s=n(22),u=n(4),c=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return s.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",s="",c=0,l=null,h=0,f=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=u.k),n=Object(r.a)(n),void 0===(f=this.stroke_.getWidth())&&(f=u.h),l=this.stroke_.getLineDash(),h=this.stroke_.getLineDashOffset(),a.a||(l=null,h=0),void 0===(s=this.stroke_.getLineJoin())&&(s=u.g),void 0===(i=this.stroke_.getLineCap())&&(i=u.d),void 0===(c=this.stroke_.getMiterLimit())&&(c=u.i));var p=2*(this.radius_+f)+1,d={strokeStyle:n,strokeWidth:f,size:p,lineCap:i,lineDash:l,lineDashOffset:h,lineJoin:s,miterLimit:c};if(void 0===t){var y=Object(o.a)(p,p);this.canvas_=y.canvas,e=p=this.canvas_.width,this.draw_(d,y,0,0),this.createHitDetectionCanvas_(d)}else{p=Math.round(p);var g,v=!this.fill_;v&&(g=this.drawHitDetectionCanvas_.bind(this,d));var _=this.getChecksum(),m=t.add(_,p,p,this.draw_.bind(this,d),g);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],e=m.image.width,v?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var o,a,s;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(c*=2),o=0;o<=c;o++)a=2*o*Math.PI/c-Math.PI/2+this.angle_,s=o%2==0?this.radius_:l,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=u.b),e.fillStyle=Object(r.a)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(o.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var a,s,c,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(o*=2),a=0;a<=o;a++)c=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2==0?this.radius_:l,e.lineTo(t.size/2+s*Math.cos(c),t.size/2+s*Math.sin(c))}e.fillStyle=Object(i.b)(u.b),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(n(98).a));e.default=c},function(t,e,n){"use strict";var i=n(12),r=n(0),o=n(21),a=n(3),s=n(75),u=n(39),c=n(32),l=n(76),h=n(35),f=n(50),p=n(37),d=n(33),y=n(96),g=n(64),v=n(67),_=n(47),m=function(t){function e(e,n,r){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=this.getLayout(),a=e,s=[],u=[],c=0,l=a.length;c<l;++c){var h=a[c];0===c&&(o=h.getLayout());for(var f=s.length,p=h.getEnds(),d=0,y=p.length;d<y;++d)p[d]+=f;Object(i.c)(s,h.getFlatCoordinates()),u.push(p)}n=o,e=s,r=u}void 0!==n&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Object(i.c)(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,o=(e=t.getEnds().slice()).length;r<o;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Object(f.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(l.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(v.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(d.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,i){for(var o=[],a=Object(r.createEmpty)(),s=0,u=n.length;s<u;++s){var c=n[s];a=Object(r.createOrUpdateFromFlatCoordinates)(t,e,c[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=c[c.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(y.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new s.a(this.getFlatInteriorPoints().slice(),o.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(v.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(v.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(_.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,o.a.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,a=i.length;o<a;++o)i[o]-=e;return new u.b(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),c=s[s.length-1];if(0!==r)for(var l=0,h=s.length;l<h;++l)s[l]-=r;var f=new u.b(e.slice(r,c),t,s);i.push(f),r=c}return i},e.prototype.getType=function(){return a.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(g.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(p.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(c.a);e.a=m},function(t,e,n){"use strict";var i=n(2),r=n(0),o=n(20),a=n(102),s=n(40),u=n(4),c=n(100),l=n(22),h=n(91),f=n(7),p=n(1),d=n(5),y=n(49),g=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===l.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=l.a.LOADED&&e!=l.a.ERROR&&Object(p.a)(t,d.a.CHANGE,this.handleImageChange_,this),e==l.a.IDLE&&(t.load(),e=t.getState()),e==l.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==y.a.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Object(i.c)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,r){var o=Object(i.c)(e),a=n.toString();o in t?a in t[o]?t[o][a].extend(r):t[o][a]=r:(t[o]={},t[o][a]=r)},e.prototype.manageTilePyramid=function(t,e,n,r,o,a,s,u,c,l){var h=Object(i.c)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var p,d,y,g,v,_,m=t.wantedTiles[h],b=t.tileQueue;for(_=n.getMinZoom();_<=s;++_)for(d=n.getTileRangeForExtentAndZ(a,_,d),y=n.getResolution(_),g=d.minX;g<=d.maxX;++g)for(v=d.minY;v<=d.maxY;++v)s-_<=u?((p=e.getTile(_,g,v,r,o)).getState()==f.a.IDLE&&(m[p.getKey()]=!0,b.isKeyQueued(p.getKey())||b.enqueue([p,h,n.getTileCoordCenter(p.tileCoord),y])),void 0!==c&&c.call(l,p)):e.useTile(_,g,v,o)},e}(h.a),v=n(9),_=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(v.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,o=e.size[0]*i,a=e.size[1]*i,s=e.viewState.rotation,c=Object(r.getTopLeft)(n),l=Object(r.getTopRight)(n),h=Object(r.getBottomRight)(n),f=Object(r.getBottomLeft)(n);Object(v.a)(e.coordinateToPixelTransform,c),Object(v.a)(e.coordinateToPixelTransform,l),Object(v.a)(e.coordinateToPixelTransform,h),Object(v.a)(e.coordinateToPixelTransform,f),t.save(),Object(u.s)(t,-s,o/2,a/2),t.beginPath(),t.moveTo(c[0]*i,c[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(h[0]*i,h[1]*i),t.lineTo(f[0]*i,f[1]*i),t.clip(),Object(u.s)(t,s,o/2,a/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,l=n.viewState.rotation;Object(u.s)(e,-l,o/2,s/2);var h=void 0!==i?i:this.getTransform(n,0),f=new c.a(e,n.pixelRatio,n.extent,h,n.viewState.rotation),p=new a.a(t,f,n,e,null);r.dispatchEvent(p),Object(u.s)(e,l,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,o.b)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(s.a.POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(s.a.PRECOMPOSE,t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(s.a.RENDER,t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,a=i/n.resolution,s=-a,u=-n.rotation,c=-n.center[0]+e,l=-n.center[1];return Object(v.b)(this.transform_,r,o,a,s,u,c,l)},e.prototype.composeFrame=function(t,e,n){Object(i.b)()},e.prototype.prepareFrame=function(t,e){return Object(i.b)()},e}(g);e.a=_},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=c(n(80));function c(t){return t&&t.__esModule?t:{default:t}}var l=c(n(23)).default.proj4,h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this))).geocoder=t.geocoder,n.projection=t.projection||"EPSG:3857",n.hookupEvents(),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u.default),n=e,(i=[{key:"metersPerUnit",value:function(){return l.defs[this.projection].to_meter}},{key:"accuracyDistance",value:function(t){return"EPSG:3857"===this.projection?t:t/this.metersPerUnit()}},{key:"search",value:function(t){this.geocoder.search(t)}},{key:"locate",value:function(){throw"Not implemented"}},{key:"track",value:function(){throw"Not implemented"}},{key:"proxyEvent",value:function(t){this.trigger(t.type,t)}},{key:"hookupEvents",value:function(){this.geocoder.on("geocoded",this.proxyEvent,this),this.geocoder.on("ambiguous",this.proxyEvent,this),this.geocoder.on("error",this.proxyEvent,this)}}])&&r(n.prototype,i),e}();h.Options,h.Accuracy={HIGH:0,MEDIUM:50,LOW:500,ZIP_CODE:1e3},h.Result,h.Ambiguous;var f=h;e.default=f},function(t,e,n){"use strict";n.r(e);var i=n(10),r=n(72),o=n(57),a=n(94),s=n(1),u=n(5),c=n(0),l=n(90),h=n(3),f=n(11);function p(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}var d=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(s.c)(this.geometries_[t],u.a.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(s.a)(this.geometries_[t],u.a.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<Object(c.closestSquaredDistanceXY)(this.getExtent(),t,e))return i;for(var r=this.geometries_,o=0,a=r.length;o<a;++o)i=r[o].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(c.createOrUpdateEmpty)(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)Object(c.extend)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return p(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(f.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var i=[],r=this.geometries_,o=!1,a=0,s=r.length;a<s;++a){var u=r[a],c=u.getSimplifiedGeometry(t);i.push(c),c!==u&&(o=!0)}if(o){var l=new e(null);return l.setGeometriesArray(i),this.simplifiedGeometryCache[n]=l,l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return h.a.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=Object(c.getCenter)(this.getExtent()));for(var r=this.geometries_,o=0,a=r.length;o<a;++o)r[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(p(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(l.a),y=n(63),g=n(95),v=n(75),_=n(105),m=n(46),b=n(39),O=n(8),E=function(t){function e(e){var n=e||{};t.call(this),this.dataProjection=Object(O.get)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=Object(O.get)(n.featureProjection)),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var n,i=T((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new r.default;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(i),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var i=t.features,r=0,o=i.length;r<o;++r)n.push(this.readFeatureFromObject(i[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return T(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=Object(O.get)(n.properties.name):Object(i.a)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(n.id=i);var r=t.getGeometry();r&&(n.geometry=S(r,e));var o=t.getProperties();return delete o[t.getGeometryName()],Object(f.d)(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return S(t,this.adaptOptions(e))},e}(a.a);function T(t,e){if(!t)return null;var n;switch(t.type){case h.a.POINT:n=function(t){return new m.default(t.coordinates)}(t);break;case h.a.LINE_STRING:n=function(t){return new y.default(t.coordinates)}(t);break;case h.a.POLYGON:n=function(t){return new b.b(t.coordinates)}(t);break;case h.a.MULTI_POINT:n=function(t){return new v.a(t.coordinates)}(t);break;case h.a.MULTI_LINE_STRING:n=function(t){return new g.a(t.coordinates)}(t);break;case h.a.MULTI_POLYGON:n=function(t){return new _.a(t.coordinates)}(t);break;case h.a.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map(function(t){return T(t,void 0)});return new d(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Object(o.transformWithOptions)(n,!1,e)}function S(t,e){var n,i=(t=Object(o.transformWithOptions)(t,!0,e)).getType();switch(i){case h.a.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case h.a.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case h.a.POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case h.a.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case h.a.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case h.a.MULTI_POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case h.a.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=Object(f.a)({},e);return delete n.featureProjection,S(t,n)})}}(t,e);break;case h.a.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}e.default=E},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=g(n(133)),c=g(n(134)),l=g(n(72)),h=g(n(57)),f=g(n(46)),p=g(n(60)),d=g(n(135)),y=n(8);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this))).autoDetect=!0===t.autoDetect,n.dataProjection=(0,y.get)(t.dataProjection||"EPSG:4326"),n.featureProjection=(0,y.get)(t.featureProjection||"EPSG:3857"),n.id=t.id,n.x=t.x,n.y=t.y,n.lastId=0,n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,h.default),n=e,(i=[{key:"readFeature",value:function(t,e){var n;t[this.id]?n=t[this.id]:(n=this.lastId,this.lastId+=1);var i=new l.default(t);return i.setId(n),this.setGeometry(i,t,e),i}},{key:"setGeometry",value:function(t,e,n){var i=e[this.x]=parseFloat(e[this.x]),r=e[this.y]=parseFloat(e[this.y]);if(isNaN(i)||isNaN(r))throw"Invalid coordinate [".concat(i,", ").concat(r,"] for id ").concat(t.getId());var o=new f.default([i,r]);o.transform(n&&n.dataProjection?n.dataProjection:this.dataProjection,n&&n.featureProjection?n.featureProjection:this.featureProjection),t.setGeometry(o)}},{key:"readFeatures",value:function(t,e){var n=this,i=[];return(t=this.parseSource(t)).forEach(function(t){try{i.push(n.readFeature(t,e))}catch(e){console.error(e,t)}}),i}},{key:"parseSource",value:function(t){return t instanceof ArrayBuffer&&(t=new c.default.TextDecoder("utf-8").decode(t)),"string"==typeof t&&(t=u.default.parse(t,{header:!0}).data),this.detectCsvFormat(t),t}},{key:"detectCsvFormat",value:function(t){this.autoDetect&&(this.id=d.default.ID,t[0][d.default.X]?(this.x=d.default.X,this.y=d.default.Y,this.dataProjection=(0,y.get)("EPSG:2263")):(this.x=d.default.LNG,this.y=d.default.LAT,this.dataProjection=(0,y.get)("EPSG:4326")))}},{key:"readProjection",value:function(t){return this.dataProjection}},{key:"getType",value:function(){return p.default.ARRAY_BUFFER}}])&&r(n.prototype,i),e}();v.Options;var _=v;e.default=_},function(t,e,n){"use strict";n.r(e);var i=n(68),r=n(2),o=n(20),a=n(6);function s(t){return t}var u=n(14),c=n(12);function l(t,e){return void 0!==t?0:void 0}function h(t,e){return void 0!==t?t+e:void 0}var f=n(18),p="center",d="resolution",y="rotation",g=n(10),v=n(43),_=n(29),m=n(0),b=n(3),O=n(39),E=n(11),T=n(8),S=n(27);n.d(e,"createCenterConstraint",function(){return j}),n.d(e,"createResolutionConstraint",function(){return R}),n.d(e,"createRotationConstraint",function(){return P}),n.d(e,"isNoopAnimation",function(){return I});var x=0,C=function(t){function e(e){t.call(this);var n=Object(E.a)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(T.createProjection)(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[p]=void 0!==t.center?t.center:null;var n=R(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=j(t),r=n.constraint,o=P(t);this.constraints_={center:i,resolution:r,rotation:o},void 0!==t.resolution?e[d]=t.resolution:void 0!==t.zoom&&(e[d]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[d]=Object(a.a)(Number(this.getResolution()||e[d]),this.minResolution_,this.maxResolution_))),e[y]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(E.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(E.a)({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var r=arguments[i-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&w(e,!0))}for(var o=Date.now(),s=this.getCenter().slice(),u=this.getResolution(),c=this.getRotation(),l=[],h=0;h<i;++h){var p=n[h],d={start:o,complete:!1,anchor:p.anchor,duration:void 0!==p.duration?p.duration:1e3,easing:p.easing||_.inAndOut};if(p.center&&(d.sourceCenter=s,d.targetCenter=p.center,s=d.targetCenter),void 0!==p.zoom?(d.sourceResolution=u,d.targetResolution=this.constrainResolution(this.maxResolution_,p.zoom-this.minZoom_,0),u=d.targetResolution):p.resolution&&(d.sourceResolution=u,d.targetResolution=p.resolution,u=d.targetResolution),void 0!==p.rotation){d.sourceRotation=c;var y=Object(a.d)(p.rotation-c+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=c+y,c=d.targetRotation}d.callback=e,I(d)?d.complete=!0:o+=d.duration,l.push(d)}this.animations_.push(l),this.setHint(f.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[f.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[f.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(f.a.ANIMATING,-this.hints_[f.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&w(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,s=i.length;o<s;++o){var u=i[o];if(!u.complete){var c=t-u.start,l=u.duration>0?c/u.duration:1;l>=1?(u.complete=!0,l=1):r=!1;var h=u.easing(l);if(u.sourceCenter){var g=u.sourceCenter[0],v=u.sourceCenter[1],_=g+h*(u.targetCenter[0]-g),m=v+h*(u.targetCenter[1]-v);this.set(p,[_,m])}if(u.sourceResolution&&u.targetResolution){var b=1===h?u.targetResolution:u.sourceResolution+h*(u.targetResolution-u.sourceResolution);u.anchor&&this.set(p,this.calculateCenterZoom(b,u.anchor)),this.set(d,b)}if(void 0!==u.sourceRotation&&void 0!==u.targetRotation){var O=1===h?Object(a.d)(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+h*(u.targetRotation-u.sourceRotation);u.anchor&&this.set(p,this.calculateCenterRotate(O,u.anchor)),this.set(y,O)}if(e=!0,!u.complete)break}}if(r){this.animations_[n]=null,this.setHint(f.a.ANIMATING,-1);var E=i[0].callback;E&&w(E,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Object(v.rotate)(n,t-this.getRotation()),Object(v.add)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(r.c)(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},e.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},e.prototype.getCenter=function(){return this.get(p)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();Object(g.a)(n,1);var i=this.getResolution();Object(g.a)(void 0!==i,2);var r=this.getRotation();return Object(g.a)(void 0!==r,3),Object(m.getForViewAndSize)(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(d)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=Object(m.getWidth)(t)/n[0],r=Object(m.getHeight)(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(y)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=Object(c.f)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},r=i.size;r||(r=this.getSizeFromViewport_()),Object(g.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(g.a)(!Object(m.isEmpty)(t),25),n=Object(O.c)(t)):t.getType()===b.a.CIRCLE?(t=t.getExtent(),(n=Object(O.c)(t)).rotate(this.getRotation(),Object(m.getCenter)(t))):n=t;var a,s=void 0!==i.padding?i.padding:[0,0,0,0],u=void 0===i.constrainResolution||i.constrainResolution,c=void 0!==i.nearest&&i.nearest;a=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var l=n.getFlatCoordinates(),h=this.getRotation(),f=Math.cos(-h),p=Math.sin(-h),d=1/0,y=1/0,v=-1/0,_=-1/0,E=n.getStride(),T=0,S=l.length;T<S;T+=E){var x=l[T]*f-l[T+1]*p,C=l[T]*p+l[T+1]*f;d=Math.min(d,x),y=Math.min(y,C),v=Math.max(v,x),_=Math.max(_,C)}var j=this.getResolutionForExtent([d,y,v,_],[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);if(j=isNaN(j)?a:Math.max(j,a),u){var R=this.constrainResolution(j,0,0);!c&&R<j&&(R=this.constrainResolution(R,-1,0)),j=R}p=-p;var P=(d+v)/2,I=(y+_)/2,k=[(P+=(s[1]-s[3])/2*j)*f-(I+=(s[0]-s[2])/2*j)*p,I*f+P*p],L=i.callback?i.callback:o.c;void 0!==i.duration?this.animate({resolution:j,center:k,duration:i.duration,easing:i.easing},L):(this.setResolution(j),this.setCenter(k),w(L,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),a=t[0]*r-t[1]*o,s=t[1]*r+t[0]*o,u=this.getResolution(),c=(a+=(e[0]/2-n[0])*u)*r-(s+=(n[1]-e[1]/2)*u)*(o=-o),l=s*r+a*o;this.setCenter([c,l])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(p,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(d,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(y,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(u.a);function w(t,e){setTimeout(function(){t(e)},0)}function j(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[Object(a.a)(t[0],e[0],e[2]),Object(a.a)(t[1],e[1],e[3])]:void 0}):s;var e}function R(t){var e,n,r,o=void 0!==t.minZoom?t.minZoom:x,s=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var l=t.resolutions;n=l[o],r=void 0!==l[s]?l[s]:l[l.length-1],e=function(t){return function(e,n,i){if(void 0!==e){var r=Object(c.f)(t,e,i);r=Object(a.a)(r+n,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var s=t[o]/t[o+1];return t[o]/Math.pow(s,r-o)}return t[o]}}}(l)}else{var h=Object(T.createProjection)(t.projection,"EPSG:3857"),f=h.getExtent(),p=(f?Math.max(Object(m.getWidth)(f),Object(m.getHeight)(f)):360*T.METERS_PER_UNIT[S.b.DEGREES]/h.getMetersPerUnit())/i.b/Math.pow(2,x),d=p/Math.pow(2,28-x);void 0!==(n=t.maxResolution)?o=0:n=p/Math.pow(u,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,s):p/Math.pow(u,s):d),s=o+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,s-o),e=function(t,e,n){return function(i,r,o){if(void 0!==i){var a=-o/2+.5,s=Math.floor(Math.log(e/i)/Math.log(t)+a),u=Math.max(s+r,0);return void 0!==n&&(u=Math.min(u,n)),e/Math.pow(t,u)}}}(u,n,s-o)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:u}}function P(t){var e,n,i;if(void 0===t.enableRotation||t.enableRotation){var r=t.constrainRotation;return void 0===r||!0===r?(i=Object(a.i)(5),function(t,e){return void 0!==t?Math.abs(t+e)<=i?0:t+e:void 0}):!1===r?h:"number"==typeof r?(e=r,n=2*Math.PI/e,function(t,e){return void 0!==t?t=Math.floor((t+e)/n+.5)*n:void 0}):h}return l}function I(t){return!(t.sourceCenter&&t.targetCenter&&!Object(v.equals)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}e.default=C},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n(54),o=n(70),a=n(7),s=n(18),u=n(16),c=n(0),l=n(43),h=n(106),f=n(9),p=function(t){function e(e,n){t.call(this,e),this.context=n?null:Object(u.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(c.createEmpty)(),this.tmpTileRange_=new o.b(0,0,0,0),this.imageTransform_=Object(f.c)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==a.a.LOADED||n==a.a.EMPTY||n==a.a.ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource().getTile(t,e,n,i,r);return s.getState()==a.a.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(a.a.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,r=t.size,o=t.viewState,u=o.projection,l=o.resolution,h=o.center,p=this.getLayer(),d=p.getSource(),y=d.getRevision(),g=d.getTileGridForProjection(u),v=g.getZForResolution(l,this.zDirection),_=g.getResolution(v),m=Math.round(l/_)||1,b=t.extent;if(void 0!==e.extent&&(b=Object(c.getIntersection)(b,e.extent)),Object(c.isEmpty)(b))return!1;var O=g.getTileRangeForExtentAndZ(b,v),E=g.getTileRangeExtent(v,O),T=d.getTilePixelRatio(n),S={};S[v]={};var x,C,w,j=this.createLoadedTileFinder(d,u,S),R=t.viewHints,P=R[s.a.ANIMATING]||R[s.a.INTERACTING],I=this.tmpExtent,k=this.tmpTileRange_;for(this.newTiles_=!1,C=O.minX;C<=O.maxX;++C)for(w=O.minY;w<=O.maxY;++w)if(!(Date.now()-t.time>16&&P)){if(x=this.getTile(v,C,w,n,u),this.isDrawableTile_(x)){var L=Object(i.c)(this);if(x.getState()==a.a.LOADED){S[v][x.tileCoord.toString()]=x;var M=x.inTransition(L);this.newTiles_||!M&&-1!==this.renderedTiles.indexOf(x)||(this.newTiles_=!0)}if(1===x.getAlpha(L,t.time))continue}var A=g.getTileCoordChildTileRange(x.tileCoord,k,I),F=!1;A&&(F=j(v+1,A)),F||g.forEachTileCoordParentTileRange(x.tileCoord,j,null,k,I)}var D=_*n/T*m;if(!(this.renderedResolution&&Date.now()-t.time>16&&P)&&(this.newTiles_||!this.renderedExtent_||!Object(c.containsExtent)(this.renderedExtent_,b)||this.renderedRevision!=y||m!=this.oversampling_||!P&&D!=this.renderedResolution)){var N=this.context;if(N){var G=d.getTilePixelSize(v,n,u),Y=Math.round(O.getWidth()*G[0]/m),B=Math.round(O.getHeight()*G[1]/m),U=N.canvas;U.width!=Y||U.height!=B?(this.oversampling_=m,U.width=Y,U.height=B):((this.renderedExtent_&&!Object(c.equals)(E,this.renderedExtent_)||this.renderedRevision!=y)&&N.clearRect(0,0,Y,B),m=this.oversampling_)}this.renderedTiles.length=0;var X,z,H,W,K,V,Z,q,J,$,Q=Object.keys(S).map(Number);for(Q.sort(function(t,e){return t===v?1:e===v?-1:t>e?1:t<e?-1:0}),W=0,K=Q.length;W<K;++W)for(var tt in H=Q[W],z=d.getTilePixelSize(H,n,u),X=g.getResolution(H)/_,Z=T*d.getGutterForProjection(u),q=S[H])x=q[tt],C=((V=g.getTileCoordExtent(x.getTileCoord(),I))[0]-E[0])/_*T/m,w=(E[3]-V[3])/_*T/m,J=z[0]*X/m,$=z[1]*X/m,this.drawTileImage(x,t,e,C,w,J,$,Z,v===H),this.renderedTiles.push(x);this.renderedRevision=y,this.renderedResolution=_*n/T*m,this.renderedExtent_=E}var et=this.renderedResolution/l,nt=Object(f.b)(this.imageTransform_,n*r[0]/2,n*r[1]/2,et,et,0,(this.renderedExtent_[0]-h[0])/this.renderedResolution*n,(h[1]-this.renderedExtent_[3])/this.renderedResolution*n);return Object(f.b)(this.coordinateToCanvasPixelTransform,n*r[0]/2-nt[4],n*r[1]/2-nt[5],n/l,-n/l,0,-h[0],-h[1]),this.updateUsedTiles(t.usedTiles,d,v,O),this.manageTilePyramid(t,d,g,n,u,b,v,p.getPreload()),this.scheduleExpireCache(t,d),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,r,o,a,s,u,c){var l=this.getTileImage(t);if(l){var h=Object(i.c)(this),f=c?t.getAlpha(h,e.time):1,p=this.getLayer().getSource();1!==f||p.getOpaque(e.viewState.projection)||this.context.clearRect(r,o,a,s);var d=f!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(l,u,u,l.width-2*u,l.height-2*u,r,o,a,s),d&&this.context.restore(),1!==f?e.animate=!0:c&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(f.c)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!Object(c.containsExtent)(r,t.extent)&&Object(c.intersects)(r,t.extent);o&&this.clip(n,t,r);var a=this.getImageTransform(),s=n.globalAlpha;n.globalAlpha=e.opacity;var u=a[4],l=a[5],h=i.width*a[0],f=i.height*a[3];h>=.5&&f>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(u),Math.round(l),Math.round(h),Math.round(f)),n.globalAlpha=s,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getImageTransform=function(){return Object(i.b)()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var o=Object(f.a)(this.coordinateToCanvasPixelTransform,t.slice());Object(l.scale)(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(u.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var a=this.hitCanvasContext_.getImageData(0,0,1,1).data;return a[3]>0?i.call(r,this.getLayer(),a):void 0}},e}(h.a));p.handles=function(t){return t.getType()===r.a.TILE},p.create=function(t,e){return new p(e)},p.prototype.getLayer,e.default=p},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"replace",value:function(t,e){return Object.keys(e).forEach(function(n){t=t.replace(new RegExp("\\$\\{"+n+"\\}","g"),void 0!==e[n]?e[n]:"")}),t}}])&&i(e.prototype,n),t}();e.default=r},function(t,e,n){n(136),t.exports=self.fetch.bind(self)},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=h(n(15)),c=h(n(23)),l=h(n(42));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,t.target));var r=(0,u.default)(e.HTML),s=c.default.nextId("clsp-btn"),l=c.default.nextId("clsp-pnl");return r.find(".content").hide(),n.getContainer().append(r),n.btn=n.find("button").attr({id:s,"aria-controls":l}).append(t.title).click(u.default.proxy(n.toggle,a(n))),n.content=n.find(".content").append((0,u.default)(t.content)).attr({id:l,"aria-labelledby":s}),t.collapsed||n.toggle(),n}var n,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(h=[{key:"toggle",value:function(){var t="none"===this.content.css("display"),e=this;this.btn.toggleClass("rad-all").toggleClass("rad-top").attr("aria-pressed",t),this.content.attr({"aria-hidden":!t,"aria-collapsed":!t,"aria-expanded":t})[t?"slideDown":"slideUp"](function(){e.trigger("change",e)})}}])&&r(n.prototype,h),e}();f.Options,f.HTML='<div class="clps rad-all"><button class="btn rad-all" aria-pressed="false"></button><div class="content rad-bot" aria-expanded="false" aria-collapsed="true" aria-hidden="true"></div></div>';var p=f;e.default=p},function(t,e,n){"use strict";n.r(e),n.d(e,"register",function(){return a});var i=n(8),r=n(52),o=n(62);function a(t){var e,n,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var u=a[e];if(!Object(i.get)(u)){var c=t.defs(u);Object(i.addProjection)(new o.a({code:u,axisOrientation:c.axis,metersPerUnit:c.to_meter,units:c.units}))}}for(e=0;e<s;++e){var l=a[e],h=Object(i.get)(l);for(n=0;n<s;++n){var f=a[n],p=Object(i.get)(f);if(!Object(r.c)(l,f))if(t.defs[l]===t.defs[f])Object(i.addEquivalentProjections)([h,p]);else{var d=t(l,f);Object(i.addCoordinateTransforms)(h,p,d.forward,d.inverse)}}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Mode",function(){return l});var i=n(18),r=n(30),o=n(29),a=n(5),s=n(19),u=n(31),c=n(6),l={TRACKPAD:"trackpad",WHEEL:"wheel"},h=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:r.a,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(i.a.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==a.a.WHEEL&&e!==a.a.MOUSEWHEEL)return!0;t.preventDefault();var n,r=t.map,u=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==a.a.WHEEL?(n=u.deltaY,s.c&&u.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=s.b),u.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==a.a.MOUSEWHEEL&&(n=-u.wheelDeltaY,s.h&&(n/=3)),0===n)return!1;var c=Date.now();if(void 0===this.startTime_&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?l.TRACKPAD:l.WHEEL),this.mode_===l.TRACKPAD){var h=r.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):h.setHint(i.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var f=h.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),p=h.getMinResolution(),d=h.getMaxResolution(),y=0;if(f<p?(f=Math.max(f,p/this.trackpadZoomBuffer_),y=1):f>d&&(f=Math.min(f,d*this.trackpadZoomBuffer_),y=-1),this.lastAnchor_){var g=h.calculateCenterZoom(f,this.lastAnchor_);h.setCenter(h.constrainCenter(g))}return h.setResolution(f),0===y&&this.constrainResolution_&&h.animate({resolution:h.constrainResolution(f,n>0?-1:1),easing:o.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),y>0?h.animate({resolution:p,easing:o.easeOut,anchor:this.lastAnchor_,duration:500}):y<0&&h.animate({resolution:d,easing:o.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=c,!1}this.delta_+=n;var v=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),v),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=Object(c.a)(this.delta_,-1,1);Object(u.d)(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(u.a);e.default=h},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=h(n(15)),c=h(n(123)),l=h(n(23));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=(0,u.default)(t.map.getTargetElement()).find("f-tip").get(0);return(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,{id:l.default.nextId("FeatureTip"),element:r||(0,u.default)(e.HTML).get(0),stopEvent:!1}))).setMap(t.map),n.map=n.getMap(),n.tip=(0,u.default)(n.getElement()),n.addTips(t.tips),n.map.on("pointermove",u.default.proxy(n.label,a(n))),(0,u.default)(document).mouseover(u.default.proxy(n.out,a(n))),n}var n,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(h=[{key:"hide",value:function(){this.tip.fadeOut()}},{key:"addTips",value:function(t){t.forEach(function(t){t.layer.nycTip=t.label})}},{key:"out",value:function(t){u.default.contains(this.map.getTargetElement(),t.target)||this.hide()}},{key:"label",value:function(t){var e=this.map.forEachFeatureAtPixel(t.pixel,function(t,e){return e.getVisible()&&e.nycTip?e.nycTip(t):null});e?(this.tip.html(e.html),this.tip.get(0).className="f-tip ".concat(e.css||""),this.setPosition(t.coordinate),this.tip.show(),this.position()):this.hide()}},{key:"position",value:function(){var t=this.map.getSize(),e=this.map.getPixelFromCoordinate(this.getPosition()),n=this.tip.width(),i=this.tip.height(),r=e[1]+i>t[1]?"bottom":"top",o=e[0]+n>t[0]?"right":"left";this.setPositioning("".concat(r,"-").concat(o))}}])&&r(n.prototype,h),e}();f.TipDef,f.LabelFunction,f.Label,f.Options,f.HTML='<div class="f-tip" role="tooltip"></div>';var p=f;e.default=p},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"zoomLocation",value:function(t,e){throw"Not implemented"}},{key:"setLocation",value:function(t){throw"Not implemented"}},{key:"getProjection",value:function(){throw"Not implemented"}}])&&i(e.prototype,n),t}();r.ZOOM_LEVEL=17;var o=r;e.default=o},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=h(n(15)),c=h(n(23)),l=h(n(42));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this,t.target))).getContainer().append((0,u.default)(e.HTML)).addClass("tabs"),n.btns=n.find(".btns"),n.tabs=n.find(".container"),n.active=null,n.ready=!1,n.render(t.tabs),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(i=[{key:"open",value:function(t){t=this.find(t),this.find(".btns h2").removeClass("active"),this.find(".tab").attr("aria-hidden",!0).removeClass("active"),this.btns.find(".btn").removeClass("active"),t.addClass("active").attr("aria-hidden",!1).attr("tabindex",1e3).focus(),this.find(".btn").attr("aria-selected",!1),t.data("btn").addClass("active").attr("aria-selected",!0).parent().addClass("active"),this.active=t,this.trigger("change",this)}},{key:"render",value:function(t){var n=this,i=!1;t.forEach(function(t,r){var o=c.default.nextId("tab-btn"),a=(0,u.default)(t.tab).addClass("tab tab-".concat(r)).attr("aria-labelledby",o).attr("role","tabpanel").attr("aria-hidden",!0),s=a.attr("id")||c.default.nextId("tab-pnl");a.attr("id",s);var l=(0,u.default)(e.BTN_HTML).attr("id",o).attr("aria-controls",s).attr("aria-selected",!1).click(u.default.proxy(n.btnClick,n)).addClass("btn-tab btn-".concat(r)).data("tab",a).append(t.title);a.data("btn",l),n.btns.append((0,u.default)("<h2></h2>").append(l)),n.tabs.append(a),t.active&&(n.open(a),i=!0)}),i||this.open(t[0].tab),this.ready=!0}},{key:"btnClick",value:function(t){this.open((0,u.default)(t.currentTarget).data("tab"))}}])&&r(n.prototype,i),e}();f.Options,f.Tab,f.HTML='<div class="btns" role="tablist"></div><div class="container" tabindex="-1"></div>',f.BTN_HTML='<button class="btn" role="tab"></button>';var p=f;e.default=p},function(t,e,n){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(15)),c=l(n(42));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(e){function n(e){var r;return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),r=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(n).call(this,e.target)),t.nycTranslateInstance=a(r),r.defaultLanguage=e.defaultLanguage||"en",r.button=e.button,r.languages=e.languages,r.hints=[],r.namedCodes={},r.code="",r.messages=e.messages,r.defaultMessages=null,r.messages&&(r.messages[r.defaultLanguage]||(r.defaultLanguage=r.defaultLang()),r.messages[r.defaultLanguage]||(r.defaultLanguage="en"),r.defaultMessages=r.messages[r.defaultLanguage]),r.code=r.defaultLanguage,r.render(e.target),r}var l,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,c.default),l=n,(h=[{key:"translate",value:function(t){var e=this,n=(0,u.default)(t.target).val();this.code=n,Object.keys(this.defaultMessages).forEach(function(t){var i=(e.messages[n]||e.defaultMessages)[t]||e.defaultMessages[t];(0,u.default)("."+t).html(i),(0,u.default)('*[data-msg-key="'+t+'"]').each(function(t,e){(0,u.default)(e).attr((0,u.default)(e).data("msg-attr"),i)})}),this.css(),this.trigger("change",this)}},{key:"lang",value:function(){return this.code}},{key:"getCookieValue",value:function(){return""}},{key:"render",value:function(t){var e=this,i=[],r=(0,u.default)(n.HTML);(0,u.default)(t).append(r);var o=this.find("select");Object.keys(this.languages).forEach(function(t){var n=e.languages[t].code,r=(0,u.default)('<option class="notranslate" translate="no"></option>').attr("value",n).html(e.languages[t].native);o.append(r),i.push(t),e.hints.push(e.languages[t].hint),e.namedCodes[n]=t}),this.codes=i.toString(),this.find("select").change(u.default.proxy(this.translate,this)),this.selectDefault(),this.showHint(),this.button&&(0,u.default)("#lng").addClass("button"),o.focus(function(){o.prev().addClass("focused")}),o.blur(function(){o.prev().removeClass("focused")}),this.trigger("ready",this)}},{key:"css",value:function(){(0,u.default)("body")[this.code===this.defaultLanguage?"removeClass":"addClass"]("translated")}},{key:"defaultLang",value:function(){return navigator.language.split("-")[0]}},{key:"selectDefault",value:function(){var t=this.defaultLang(),e=this.getCookieValue(),n=[],i=[];Object.values(this.languages).forEach(function(r){var o=r.code;0===e.indexOf(o)?n.push(o):0===e.indexOf(t)&&i.push(o)});var r=n[0]||i[0]||"en";this.find("select").val(this.languages[r].code).trigger("change")}},{key:"showHint",value:function(){if(!this.button){var t=this.hints,e=this.find(".hint"),n=0;setInterval(function(){e.html(t[n]||"Translate"),(n+=1)===t.length&&(n=0)},1e3)}}}])&&r(l.prototype,h),n}();h.Options,h.Choice,h.Choices,h.DEFAULT_LANGUAGES={en:{code:"en",name:"English",native:"English",hint:"Translate"},ar:{code:"ar",name:"Arabic",native:"&#x629;&#x64A;&#x628;&#x631;&#x639;&#x644;&#x627;",hint:"&#x645;&#x62C;&#x631;&#x62A;"},bn:{code:"bn",name:"Bengali",native:"&#x9AC;&#x9BE;&#x999;&#x9BE;&#x9B2;&#x9BF;",hint:"&#x985;&#x9A8;&#x9C1;&#x9AC;&#x9BE;&#x9A6; &#x995;&#x9B0;&#x9BE;"},"zh-CN":{code:"zh-CN",name:"Chinese (Simplified)",native:"&#x4E2D;&#x56FD;",hint:"&#x7FFB;&#x8BD1;"},fr:{code:"fr",name:"French",native:"Fran&#231;ais",hint:"Traduire"},iw:{code:"iw",name:"Hebrew",native:"&#x05E2;&#x05D1;&#x05E8;&#x05D9;&#x05EA;",hint:"&#x05DC;&#x05EA;&#x05E8;&#x05D2;&#x05DD;"},ht:{code:"ht",name:"Haitian Creole",native:"Krey&#242;l Ayisyen",hint:"Tradui"},ko:{code:"ko",name:"Korean",native:"&#xD55C;&#xAD6D;&#xC758;",hint:"&#xBC88;&#xC5ED;"},ru:{code:"ru",name:"Russian",native:"P&#x443;&#x441;&#x441;&#x43A;&#x438;&#x439;",hint:"&#x43F;&#x435;&#x440;&#x435;&#x432;&#x435;&#x441;&#x442;&#x438;"},es:{code:"es",name:"Spanish",native:"Espa&#241;ol",hint:"Traducir"},ur:{code:"ur",name:"Urdu",native:"&#x648;&#x62F;&#x631;&#x627;",hint:"&#x6BA;&#x6CC;&#x631;&#x6A9;&#x6C1;&#x645;&#x62C;&#x631;&#x62A;"}},h.HTML='<div id="lng" role="region"><span class="screen-reader-only">Translate this page into another language</span><div class="btn-sq rad-all"><span class ="hint notranslate">Translate</span></div><select title="Translate"></select><div id="lng-goog"></div></div>';var f=h;e.default=f}).call(this,n(107))},function(t,e){function n(t,e,i){if(!(this instanceof n))return new n(e);null!=i&&Object.assign(this,i),this._field=t,this._data=e,Object.defineProperty(this,"_field",{enumerable:!1}),Object.defineProperty(this,"_data",{enumerable:!1})}function i(t){return t.replace(/([A-Z])/g,"-$1").toUpperCase()}n.fromJSON=function(t){var e=t[0],i=t[1];return/text/i.test(t[2])||(i.value=t[2]),new n(e,Array.isArray(t[3])?t[3].join(";"):t[3],i)},n.prototype={constructor:n,is:function(t){return t=(t+"").toLowerCase(),Array.isArray(this.type)?this.type.indexOf(t)>=0:this.type===t},isEmpty:function(){return null==this._data&&0===Object.keys(this).length},clone:function(){return new n(this._field,this._data,this)},toString:function(t){for(var e=(this.group?this.group+".":"")+i(this._field),n=Object.keys(this),r=[],o=0;o<n.length;o++)"group"!==n[o]&&r.push(i(n[o])+"="+this[n[o]]);return e+(r.length?";"+r.join(";"):r)+":"+(Array.isArray(this._data)?this._data.join(";"):this._data)},valueOf:function(){return this._data},toJSON:function(){var t=Object.assign({},this);"text"===t.value&&(t.value=void 0,delete t.value);var e=[this._field,t,this.value||"text"];switch(this._field){default:e.push(this._data);break;case"adr":case"n":e.push(this._data.split(";"))}return e}},t.exports=n},function(t,e,n){"use strict";n.r(e);var i=n(79),r=n(14),o={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},a=n(77),s=n(16),u=n(1),c=n(0),l={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},h=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+a.a,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(u.a)(this,Object(r.b)(l.ELEMENT),this.handleElementChanged,this),Object(u.a)(this,Object(r.b)(l.MAP),this.handleMapChanged,this),Object(u.a)(this,Object(r.b)(l.OFFSET),this.handleOffsetChanged,this),Object(u.a)(this,Object(r.b)(l.POSITION),this.handlePositionChanged,this),Object(u.a)(this,Object(r.b)(l.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:o.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(l.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(l.MAP)},e.prototype.getOffset=function(){return this.get(l.OFFSET)},e.prototype.getPosition=function(){return this.get(l.POSITION)},e.prototype.getPositioning=function(){return this.get(l.POSITIONING)},e.prototype.handleElementChanged=function(){Object(s.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(s.e)(this.element),Object(u.e)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(u.a)(t,i.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(l.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(l.ELEMENT,t)},e.prototype.setMap=function(t){this.set(l.MAP,t)},e.prototype.setOffset=function(t){this.set(l.OFFSET,t)},e.prototype.setPosition=function(t){this.set(l.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Object(s.c)(n),Object(s.b)(n)]),r=this.autoPanMargin;if(!Object(c.containsExtent)(e,i)){var o=i[0]-e[0],a=e[2]-i[2],u=i[1]-e[1],l=e[3]-i[3],h=[0,0];if(o<0?h[0]=o-r:a<0&&(h[0]=Math.abs(a)+r),u<0?h[1]=u-r:l<0&&(h[1]=Math.abs(l)+r),0!==h[0]||0!==h[1]){var f=t.getView().getCenter(),p=t.getPixelFromCoordinate(f),d=[p[0]+h[0],p[1]+h[1]];t.getView().animate({center:t.getCoordinateFromPixel(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(l.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var a=i[0],s=i[1];if(r==o.BOTTOM_RIGHT||r==o.CENTER_RIGHT||r==o.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var u=Math.round(e[0]-t[0]-a)+"px";this.rendered.right_!=u&&(this.rendered.right_=n.right=u)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),r!=o.BOTTOM_CENTER&&r!=o.CENTER_CENTER&&r!=o.TOP_CENTER||(a-=this.element.offsetWidth/2);var c=Math.round(t[0]+a)+"px";this.rendered.left_!=c&&(this.rendered.left_=n.left=c)}if(r==o.BOTTOM_LEFT||r==o.BOTTOM_CENTER||r==o.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var l=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=l&&(this.rendered.bottom_=n.bottom=l)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),r!=o.CENTER_LEFT&&r!=o.CENTER_CENTER&&r!=o.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var h=Math.round(t[1]+s)+"px";this.rendered.top_!=h&&(this.rendered.top_=n.top=h)}},e.prototype.getOptions=function(){return this.options},e}(r.a);e.default=h},function(t,e,n){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=m(n(15)),l=m(n(23)),h=m(n(127)),f=m(n(85)),p=m(n(166)),d=m(n(120)),y=m(n(167)),g=m(n(121)),v=m(n(169)),_=m(n(170));function m(t){return t&&t.__esModule?t:{default:t}}var b=function(e){function n(e){var r;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(0,c.default)("body").append(n.HTML).addClass("fnd"),e.listTarget="#facilities div",e.mapTarget="#map",e.dialogTarget="body",e.mouseWheelZoom=void 0===e.mouseWheelZoom||e.mouseWheelZoom,r=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?o(t):e}(this,s(n).call(this,e)),t.finderApp=o(r),r.pager.find("h2.info").addClass("screen-reader-only");var a=(0,c.default)("<div></div>").html(e.title);return l.default.noSpaceBarScroll(),(0,c.default)("#banner").html(a),(0,c.default)("#home").attr("title",a.text()),(0,c.default)(".fnd #home").on("click",function(){return document.location.reload()}),r.filters=r.createFilters(e.filterChoiceOptions),r.tabs=r.createTabs(e),(0,c.default)("#map").attr("tabindex",-1),r.adjustTabs(),r.showSplash(e.splashOptions),new p.default({target:"#map"}),r.goo=new v.default({target:"#map",languages:e.languages||g.default.DEFAULT_LANGUAGES,button:!0}),r.directions=null,r.directionsUrl=e.directionsUrl,r.defaultDirectionsMode=e.defaultDirectionsMode,r.mobileDia=new f.default({css:"shw-lst"}),r.screenReaderDialog=new f.default({css:"screen-reader-info"}),(0,c.default)("#screen-reader-info").click(c.default.proxy(r.screenReaderInfo,o(r))),(0,c.default)(".shw-lst .btn-yes span").html("View nearby ".concat((0,c.default)("#tab-btn-1").html()," in an accessible list")),r}var m,b;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,h.default),m=n,(b=[{key:"resetList",value:function(t){a(s(n.prototype),"resetList",this).call(this,t),t instanceof _.default&&(0,c.default)("#tabs .btns .btn-2").addClass("filtered")}},{key:"createParentFormat",value:function(t){return t.facilityFormat.parentFormat||t.facilityFormat}},{key:"createDecorations",value:function(t){var e=t.facilityFormat,n=[h.default.FEATURE_DECORATIONS,{app:this}];return e.parentFormat&&e.parentFormat.decorations&&(n=n.concat(e.parentFormat.decorations)),e.decorations&&(n=n.concat(e.decorations)),t.decorations&&(n=n.concat(t.decorations)),n}},{key:"zoomTo",value:function(t){a(s(n.prototype),"zoomTo",this).call(this,t),"none"!==(0,c.default)("#tabs .btns h2:first-of-type").css("display")&&this.tabs.open("#map")}},{key:"located",value:function(t){a(s(n.prototype),"located",this).call(this,t),this.focusFacilities()}},{key:"directionsTo",value:function(t,e){this.directions=this.directions||new y.default({url:this.directionsUrl,toggle:"#tabs",mode:this.defaultDirectionsMode});var n=t.getFullAddress(),i=t.getName(),r=this.getFromAddr();this.directions.directions({from:r,to:n,facility:i,origin:this.location,destination:{name:t.getName(),coordinate:t.getGeometry().getCoordinates()},returnFocus:e})}},{key:"createFilters",value:function(t){if(t){var e=this;(0,c.default)("#filters").empty();var n=(0,c.default)('<button class="apply">Apply</button>'),i=new _.default({target:"#filters",source:e.source,choiceOptions:t});return i.on("change",e.resetList,e),(0,c.default)("#filters").append(n),n.on("click tap keypress",function(){e.focusFacilities(!0)}),i}}},{key:"createTabs",value:function(t){var e=[{tab:"#map",title:"Map"},{tab:"#facilities",title:t.facilityTabTitle||"Facilities"}];t.splashOptions&&(0,c.default)("#tabs").attr("aria-hidden",!0),this.filters&&e.push({tab:"#filters",title:t.filterTabTitle||"Filters"});var n=new d.default({target:"#tabs",tabs:e});return n.on("change",this.tabChange,this),(0,c.default)(window).resize(c.default.proxy(this.adjustTabs,this)),n}},{key:"isMobile",value:function(){return"none"!==(0,c.default)("#tabs .btns>h2:first-of-type").css("display")}},{key:"isTab",value:function(t){return this.tabs.active.get(0).id===t}},{key:"mobileDiaOpts",value:function(){var t=this.location,e=t.name,n=this.source.sort(t.coordinate)[0],i=n.distanceHtml(!0).html(),r={buttonText:["View ".concat((0,c.default)("#tab-btn-1").html(),' list<span class="screen-reader-only"></span>'),"View the map"]};return n.getName()!==e?r.message="<strong>".concat(n.getName(),"</strong><br>\n        is located ").concat(i," from your location<br>\n        <strong>").concat(e,"</strong>"):r.message="<strong>".concat(e,"</strong>"),r}},{key:"focusFacilities",value:function(t){var e=this.tabs,n=this.mobileDia;if(!t&&this.isMobile()&&this.isTab("map")){if("none"===(0,c.default)(".shw-lst").css("display")){var i=this.mobileDiaOpts();setTimeout(function(){n.yesNo(i).then(function(t){t&&e.open("#facilities")})},250)}}else e.open("#facilities")}},{key:"showSplash",value:function(t){var e=this,n=this.locationMgr.search.input;t?(t.buttonText=t.buttonText||["Screen reader instructions","Continue"],new f.default({css:"splash"}).yesNo(t).then(function(t){t?e.screenReaderInfo():((0,c.default)("#tabs").attr("aria-hidden",!1),n.focus())})):n.focus()}},{key:"screenReaderInfo",value:function(){var t=this.locationMgr.search.input;this.screenReaderDialog.find(".btn-ok").one("focus",function(){(0,c.default)(".screen-reader-info h1").focus()}),this.screenReaderDialog.ok({message:n.SCREEN_READER_INFO,buttonText:["Return to the map"]}).then(function(){(0,c.default)("#tabs").attr("aria-hidden",!1),t.focus()}),(0,c.default)(".screen-reader-info .dia").get(0).scrollTop=0}},{key:"adjustTabs",value:function(){"block"===(0,c.default)("#directions").css("display")||l.default.activeElement().isTextInput||(this.isMobile()&&("block"===(0,c.default)("#facilities").css("display")?this.tabs.open("#facilities"):this.tabs.open("#map")),this.moveSearch(this.tabs)),this.isMobile()||l.default.activeElement().isTextInput||this.tabs.open("#facilities"),this.map.setSize([(0,c.default)("#map").width(),(0,c.default)("#map").height()])}},{key:"tabChange",value:function(t){this.isMobile()?this.moveSearch(this.tabs):(0,c.default)("#map").attr("aria-hidden",!1),this.map.setSize([(0,c.default)("#map").width(),(0,c.default)("#map").height()])}},{key:"moveSearch",value:function(t){var e=this.map,n=t.getContainer(),i=(0,c.default)(".srch-ctl");this.isTab("facilities")&&this.isMobile()?(n.prepend(i.addClass("lst-srch")),n.prepend(t.find(".btns").get(0))):(0,c.default)(e.getTargetElement()).find(".ol-overlaycontainer-stopevent").append((0,c.default)(".srch-ctl").removeClass("lst-srch"))}}])&&r(m.prototype,b),n}();b.Options,b.HTML='<h1 id="banner" role="banner"></h1>\n<a id="screen-reader-info" class="btn-sq" href="#">\n  <span class="screen-reader-only">screen reader instructions</span>\n</a>\n<a id="home" role="button" href="#">\n  <span class="screen-reader-only">Reload page</span>\n  <svg xmlns="http://www.w3.org/2000/svg" width="152" height="52">\n    <g transform="translate(1.5,0)">\n      <polygon points="15.5,1.2 3.1,1.2 0,4.3 0,47.7 3.1,50.8 15.5,50.8 18.6,47.7 18.6,35.3 34.1,50.8 46.6,50.8 49.7,47.7 49.7,4.3 46.6,1.2 34.1,1.2 31,4.3 31,16.7 "/>\n      <polygon points="83.8,47.7 83.8,38.4 99.3,22.9 99.3,10.5 99.3,4.3 96.2,1.2 83.8,1.2 80.7,4.3 80.7,10.5 74.5,16.7 68.3,10.5 68.3,4.3 65.2,1.2 52.8,1.2 49.7,4.3 49.7,22.9 65.2,38.4 65.2,47.7 68.3,50.8 80.7,50.8 "/>\n      <polygon points="145.9,29.1 130.4,29.1 130.4,32.2 118,32.2 118,19.8 130.4,19.8 130.4,22.9 145.9,22.9 149,19.8 149,10.5 139.7,1.2 108.6,1.2 99.3,10.5 99.3,41.5 108.6,50.8 139.7,50.8 149,41.5 149,32.2 "/>\n    </g>\n  </svg>\n</a>\n<div id="map"></div>\n<div id="tabs"></div>\n<div id="facilities"><div role="region"></div></div>\n<div id="filters"></div>',b.SCREEN_READER_INFO='<h1 tabindex="0" aria-live="polite">Screen reader Instructions for NYC Finder Apps</h1>\n<h2>Getting started</h2>\n<p>\n  This finder app uses the NYC DoITT nyc-lib javascript library which templates mapping \n  applications and provides accessibility functionality. Below are general screen reader \n  instructions on how to use all of the finder apps that use this template. \n  When the application first loads, there is a dialogue box with an introduction to each \n  specific finder app. Users can navigate to the continue or view map link and press \n  enter to proceed to the finder app. There is a "Reload" button that is always near \n  the top of the page that takes users back to this initial dialogue.    \n</p>\n<h2>Search for an address</h2>\n<p>\n  Users can enter an address to get a list of nearby locations. When the finder app loads, \n  screen reader and keyboard focus is dropped into a search field. Input an address then \n  press enter to submit. \n</p>\n<p>\n  If the address was entered correctly, the list of locations will \n  update, screen readers will announce the number of results and shift focus to the \n  beginning of the search results.\n</p>\n<p>\n  If there are address suggestions, focus will shift to the first suggestion. Press tab \n  to cycle through suggestions and enter to select an address. Screen readers will announce\n  the number of results and focus will shift to the beginning of the results area.\n</p>\n<h2>Navigating results</h2>\n<p>\n  Screen reader users can navigate by headings to browse through each result. For JAWS and \n  NVDA, press the "H" key. For Voiceover users, press Command, Option, Control and "H" or \n  just "H" with Quicknav and single letter navigation turned on. \n</p>\n<p>\n  Screen reader users can also use regions to navigate to different areas such as the banner,\n  search form, and list of results. Jaws users can press the "R" key. NVDA users can press \n  the "D" key. Voiceover users can pull up a list of regions if it is included in their web\n  rotor settings.    \n</p>\n<h2>Filtering results</h2>\n<p>\n  Users can filter results to get more specific results. Screen reader users can navigate by \n  headings to get to the "Filters" tab. It is towards the top of the page. JAWS and NVDA \n  users can press enter on the "Filters" tab in order to navigate to the filters page. \n  Voiceover users can press control, option and space bar.    \n</p>\n<p>\n  On the filters page are checkboxes with different filtering options. JAWS and NVDA users \n  can press "X" to navigate through the various filter options and space bar to select \n  each one. Voiceover users can use control, option and the arrow keys to navigate then \n  control, option and space bar to select a filter.    \n</p>\n<p>\n  Once a user has selected the filters they would like to apply, they can navigate to the \n  apply button. JAWS and NVDA users can press enter or spacebar to activate the "Apply" \n  button. Voiceover users can press control, option and space bar. The finder app will then \n  return to an updated list of results where screen reader users can navigate by heading \n  from one entry to another.    \n</p>\n<h2>Translate and share</h2>\n<p>\n  Below the search field are options to translate or share this page. JAWS and NVDA users \n  can use the tab key to navigate to them. Screen reader users can also navigate to them \n  using regions. JAWS users can press the “R” key to navigate to the translate or share \n  regions. NVDA users can use the “D” key to navigate to those regions. Voiceover users can \n  pull up a list of regions if it is included in their web rotor settings.    \n</p>\n<p>\n  To translate, navigate to the translate combobox. JAWS and NVDA users can press enter to \n  open the combobox and the arrow keys to navigate through the options. Voiceover users \n  can open the combobox by pressing control, option and space bar then the arrow keys to \n  navigate through the options. All users can then press enter or return to make a selection.    \n</p>\n<p>\n  To share this page, navigate to the share button or region. JAWS and NVDA users can press \n  enter on the “Share” toggle button to expand the share options. Voiceover users can press \n  control, option and space bar. All users can then use tab or the arrow keys to navigate \n  through the different share options and press enter or return to make a selection.     \n</p>\n<h2>Travel directions</h2>\n<p>\n  When browsing through each result, users can press enter on the "Directions" button in \n  order to get travel directions.     \n</p>\n<p>\n  The screen that follows has Google maps directions for transit, walking, driving and ride \n  services. There is also an option for MTA Trip Planner which can give wheelchair accessible \n  directions. Please note that if a user chooses MTA Trip Planner, they will be taken to an \n  external website.    \n</p>\n<h2>Contact support</h2>\n<p>To submit feedback about your experience or request assistance please <a href="https://www1.nyc.gov/nyc-resources/contact-the-citys-digital-accessibility-coordinator.page">contact the \n  Digital Accessibility Coordinator</a> at the Mayor\'s Office for People with Disabilities.\n</p>';var O=b;e.default=O}).call(this,n(107))},,function(t,e){t.exports=window.proj4||{defs:function(){}}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=S(n(15)),a=S(n(23)),s=S(n(128)),u=S(n(129)),c=S(n(115)),l=S(n(137)),h=S(n(138)),f=S(n(148)),p=S(n(118)),d=S(n(71)),y=S(n(81)),g=S(n(152)),v=S(n(119)),_=S(n(117)),m=S(n(65)),b=S(n(86)),O=S(n(104)),E=S(n(56)),T=S(n(61));function S(t){return t&&t.__esModule?t:{default:t}}var x=a.default.proj4,C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.facilitySearch=e.facilitySearch,this.pager=this.createPager(e),this.map=new h.default({target:(0,o.default)(e.mapTarget).get(0)}),this.view=this.map.getView(),this.locationMgr=this.createLocationMgr(e),this.location={},this.view.fit(h.default.EXTENT,{size:this.map.getSize(),duration:500}),this.checkMouseWheel(e.mouseWheelZoom),e.startAt&&this.locationMgr.goTo(e.startAt),this.layer=null,this.source=this.createSource(e),this.highlightSource=null,this.source?(this.layer=this.createLayer(this.source,this.createStyle(e)),this.map.addLayer(this.layer),this.source.autoLoad().then(o.default.proxy(this.ready,this)),this.createHighlightLayer(e)):this.ready(),this.popup=null,this.layer&&(this.popup=new f.default({map:this.map,layers:[this.layer]}),new p.default({map:this.map,tips:[{layer:this.layer,label:t.tipFunction}]}))}var e,n;return e=t,(n=[{key:"createParentFormat",value:function(t){throw"must be implemented"}},{key:"createDecorations",value:function(t){throw"must be implemented"}},{key:"createLayer",value:function(t,e){return new y.default({source:t,style:e})}},{key:"located",value:function(t){this.location=t,this.pager&&(this.resetList(),this.pager.find("h2.info").attr("aria-live","polite"))}},{key:"resetList",value:function(t){var e=this.location.coordinate;this.popup.hide(),this.pager&&(e?this.pager.reset(this.source.sort(e)):this.pager.reset(this.source.getFeatures()))}},{key:"ready",value:function(t){if(this.source&&this.facilitySearch){var e="object"===i(this.facilitySearch)?this.facilitySearch:{};e.features=t,this.locationMgr.search.setFeatures(e)}this.pager&&this.pager.reset(t),a.default.ready((0,o.default)("body"))}},{key:"zoomTo",value:function(t){var e=this.popup;e.hide(),this.map.once("moveend",function(){e.showFeature(t)}),this.view.animate({center:t.getGeometry().getCoordinates(),zoom:v.default.ZOOM_LEVEL})}},{key:"directionsTo",value:function(t){var e=encodeURIComponent(t.getFullAddress()),n=this.getFromAddr();n=n?encodeURIComponent(n):e,window.open("https://www.google.com/maps/dir/".concat(n,"/").concat(e))}},{key:"getFromAddr",value:function(){var t=this.location;if("geolocated"===t.type||t.isFeature){var e=x(this.view.getProjection().getCode(),"EPSG:4326",t.coordinate);return"".concat(e[1],",").concat(e[0])}return t.name||""}},{key:"expandDetail",value:function(t){this.popup.pan()}},{key:"loadMarkerImage",value:function(t,e,n){var i=this,r=(0,o.default)("<img>").one("load",function(a){var s=[(0,o.default)(r).width(),(0,o.default)(r).height()];n.setImage(new b.default({src:t,scale:e/s[1],imgSize:s})),(0,o.default)(r).remove(),i.layer.setStyle(i.layer.getStyle())});(0,o.default)("body").append(r.attr("src",t))}},{key:"isOlStyle",value:function(t){return t&&(t instanceof m.default||t instanceof Array&&t[0]instanceof m.default||"function"==typeof t)}},{key:"isBuckets",value:function(t){return t&&!this.isOlStyle(t)&&t.styles instanceof Object}},{key:"createStyle",value:function(t){var e=this,n=t.facilityStyle;return e.isOlStyle(n)?n:e.isBuckets(n)?function(t,i){var r=t.get(n.typeCol||"TYPE");return e.createFacilityStyle(n.styles[r])}:e.createFacilityStyle(n)}},{key:"createFacilityStyle",value:function(t){if("string"==typeof t){var e=new m.default;return this.loadMarkerImage(t,32,e),e}var n=(t||[0,0,255]).join(",");return new m.default({image:new O.default({radius:6,fill:new E.default({color:"rgba(".concat(n,",.5)")}),stroke:new T.default({color:"rgb(".concat(n,")"),width:2})})})}},{key:"createHighlightLayer",value:function(t){this.highlightSource=new d.default,this.highlightLayer=new y.default({source:this.highlightSource,style:this.createHighlightStyle(t)}),this.map.addLayer(this.highlightLayer)}},{key:"createHighlightStyle",value:function(t){return t.highlightStyle?t.highlightStyle:new m.default({image:new O.default({radius:20,stroke:new T.default({color:"yellow",width:10})})})}},{key:"createSource",value:function(t){if(t.facilityUrl){var e=this.createParentFormat(t),n=this.createDecorations(t);return new u.default({url:t.facilityUrl,format:new s.default({decorations:n,parentFormat:e})},t.metric)}}},{key:"createPager",value:function(t){if(t.listTarget)return new l.default({target:t.listTarget,itemType:t.facilityType})}},{key:"createLocationMgr",value:function(t){var e=new g.default({map:this.map,searchTarget:t.searchTarget||void 0,dialogTarget:t.dialogTarget||t.mapTarget,url:t.geoclientUrl});if(!1===t.searchTarget&&e.search.getContainer().hide(),t.locationMarkerUrl){var n=e.mapLocator.layer,i=new m.default;n.setStyle(i),this.loadMarkerImage(t.locationMarkerUrl,64,n.getStyle())}return e.on("geocoded",this.located,this),e.on("geolocated",this.located,this),e}},{key:"checkMouseWheel",value:function(t){var e;!0!==t&&(this.map.getInteractions().forEach(function(t){t instanceof _.default&&(e=t)}),this.map.removeInteraction(e))}},{key:"highlight",value:function(t){this.highlightSource.clear(),t&&this.highlightSource.addFeatures([t])}}])&&r(e.prototype,n),t}();C.tipFunction=function(t){return{html:t.getTip()}},C.FEATURE_DECORATIONS={html:function(){return(0,o.default)('<div class="facility"></div>').addClass(this.cssClass()).append(this.distanceHtml()).append(this.nameHtml()).append(this.distanceHtml(!0)).append(this.addressHtml()).append(this.phoneButton()).append(this.emailButton()).append(this.websiteButton()).append(this.mapButton()).append(this.directionsButton()).append(this.detailsCollapsible()).data("feature",this).mouseover(o.default.proxy(this.handleOver,this)).mouseout(o.default.proxy(this.handleOut,this))},getTip:function(){return(0,o.default)("<span></span>").html(this.getName()).addClass("notranslate")},getName:function(){throw"A getName decoration must be provided"},cssClass:function(){},getAddress1:function(){throw"A getAddress1 decoration must be provided to use default html method and directions"},getAddress2:function(){return""},getCityStateZip:function(){throw"A getCityStateZip decoration must be provided to use default html method and directions"},getFullAddress:function(){return"".concat(this.getAddress1(),"\n").concat(this.getAddress2(),",\n").concat(this.getCityStateZip())},getPhone:function(){},getEmail:function(){},getWebsite:function(){},detailsHtml:function(){},nameHtml:function(){return(0,o.default)('<h3 class="name notranslate"></h3>').html(this.getName())},addressHtml:function(){var t=(0,o.default)('<div class="addr notranslate"></div>').append('<div class="ln1">'.concat(this.getAddress1(),"</div>"));return this.getAddress2()&&t.append('<div class="ln2">'.concat(this.getAddress2(),"</div>")),t.append('<div class="ln3">'.concat(this.getCityStateZip(),"</div>"))},mapButton:function(){return(0,o.default)('<button class="btn rad-all map">Map</button>').prepend('<span class="screen-reader-only">Locate this facility on the </span>').data("feature",this).click(this.handleButton)},directionsButton:function(){return(0,o.default)('<button class="btn rad-all dir">Directions</button>').data("feature",this).click(this.handleButton)},phoneButton:function(){var t=this.getPhone();if(t)return(0,o.default)('<a class="btn rad-all phone" role="button">'.concat(t,"</a>")).attr("href","tel:".concat(t))},emailButton:function(){var t=this.getEmail();if(t)return(0,o.default)('<a class="btn rad-all email" role="button">Email</a>').attr("href","mailto:".concat(t))},websiteButton:function(){var t=this.getWebsite();if(t)return(0,o.default)('<a class="btn rad-all web" target="blank" role="button">Website</a>').attr("href",t)},distanceHtml:function(t){if(this.getDistance){var e=(0,o.default)('<div class="dist"></div>'),n=this.getDistance();return t?(e.addClass("screen-reader-only"),"ft"===n.units?e.html("".concat((n.distance/5280).toFixed(2)," miles")):e.html("".concat((n.distance/1e3).toFixed(2)," kilometers"))):(e.attr("aria-hidden",!0),"ft"===n.units?e.html("&bull; ".concat((n.distance/5280).toFixed(2)," mi &bull;")):e.html("&bull; ".concat((n.distance/1e3).toFixed(2)," km &bull;")))}},detailsCollapsible:function(){var t=this.detailsHtml();if(t){var e=new c.default({target:(0,o.default)('<div class="dtl"></div>'),title:this.detailButtonText||"Details",content:t,collapsed:!0});return e.on("change",this.app.expandDetail,this.app),e.getContainer()}},handleButton:function(t){var e=(0,o.default)(t.currentTarget),n=e.data("feature");e.hasClass("map")?n.app.zoomTo(n):n.app.directionsTo(n,e)},handleOver:function(t){var e=(0,o.default)(t.currentTarget);this.app.highlight(e.data("feature"))},handleOut:function(t){this.app.highlight()}},C.Options,C.Style,C.StyleByType;var w=C;e.default=w},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(23)),c=l(n(57));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this))).parentFormat=t.parentFormat,n.decorations=t.decorations,n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"readFeature",value:function(t,e){throw"Not supported: Use readFeatures"}},{key:"readFeatures",value:function(t,e){var n=this,i=this.parentFormat.readFeatures(t,e);return i.forEach(function(t){n.decorate(t)}),i}},{key:"readProjection",value:function(t){return this.parentFormat.readProjection(t)}},{key:"getType",value:function(){return this.parentFormat.getType()}},{key:"decorate",value:function(t){t.decorated||(t.decorated=!0,u.default.mixin(t,this.decorations),t.extendFeature&&t.extendFeature())}}])&&r(n.prototype,i),e}();h.Options;var f=h;e.default=f},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=f(n(15)),c=n(8),l=f(n(63)),h=f(n(130));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,t))).metric=n,r.allFeatures=t.features||[],r.storeFeatures=r.storeFeatures.bind(a(r)),r.on("change:autoload-complete",r.storeFeatures),r}var n,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,h.default),n=e,(f=[{key:"filter",value:function(t){var e=this.allFeatures.filter(function(e){return t.every(function(t){return t.some(function(t){return u.default.inArray(e.get(t.property),t.values)>-1})})});return this.clear(!0),this.addFeatures(e),e}},{key:"doSort",value:function(t,n){var i=this,r=this.getFeatures();return r.sort(function(r,o){var a=i.distance(t,r.getGeometry()),s=i.distance(t,o.getGeometry());return void 0===n&&(r.set("__distance",a),o.set("__distance",s),u.default.extend(r,e.DistanceDecoration),u.default.extend(o,e.DistanceDecoration)),a.distance<s.distance?-1:a.distance>s.distance?1:0}),n>0?r.slice(0,n):r}},{key:"sort",value:function(t){return this.doSort(t)}},{key:"nearest",value:function(t,e){return this.doSort(t,e)}},{key:"distance",value:function(t,e){if(!e)return{distance:1/0,units:"ft"};var n=new l.default([t,e.getClosestPoint(t)]),i=this.projections(this.getFormat()),r=i[1].getUnits();return i[0]&&"degrees"!==i[0].getUnits()&&(n.transform(i[1],i[0]),r=i[0].getUnits()),"ft"===r||this.metric?{distance:n.getLength(),units:r}:{distance:3.28084*n.getLength(),units:"ft"}}},{key:"projections",value:function(t){var e=t?t.parentFormat:null,n="EPSG:3857",i="EPSG:3857";return e?(n=(0,c.get)(e.dataProjection),i=(0,c.get)(e.featureProjection||"EPSG:3857")):t&&(n=(0,c.get)(t.dataProjection),i=(0,c.get)(t.featureProjection||"EPSG:3857")),[(0,c.get)(n),(0,c.get)(i)]}},{key:"storeFeatures",value:function(){this.allFeatures=this.getFeatures()}}])&&r(n.prototype,f),e}();p.Distance,p.Filter,p.DistanceDecoration={getDistance:function(){return this.get("__distance")}};var d=p;e.default=d},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=h(n(15)),c=h(n(71)),l=h(n(132));function h(t){return t&&t.__esModule?t:{default:t}}n(114);var f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.loader=function(){console.warn("Use autoLoad to load features")},(n=o(this,a(e).call(this,t))).autoLoadOptions=t,n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"autoLoad",value:function(){return new Promise(u.default.proxy(this.resolve,this))}},{key:"resolve",value:function(t){var e=this;fetch(this.autoLoadOptions.url).then(function(t){return t.text()}).then(function(n){var i=e.getFormat(n),r=e.getCsvAddrFormat(i),o=i.readFeatures(n);e.addFeatures(o),r?r.one("geocode-complete",function(){e.set("autoload-complete",e),t(o)}):(e.set("autoload-complete",e),t(o))})}},{key:"getCsvAddrFormat",value:function(t){return t instanceof l.default?t:t.parentFormat instanceof l.default?t.parentFormat:void 0}}])&&r(n.prototype,i),e}();e.default=f},function(t,e,n){var i,r,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,a){!function e(n,i,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,u=i-r+1,c=Math.log(s),l=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-u*l/s+h)),Math.min(o,Math.floor(i+(s-u)*l/s+h)),a)}var f=n[i],p=r,d=o;for(t(n,r,i),a(n[o],f)>0&&t(n,r,o);p<d;){for(t(n,p,d),p++,d--;a(n[p],f)<0;)p++;for(;a(n[d],f)>0;)d--}0===a(n[r],f)?t(n,r,d):t(n,++d,o),d<=i&&(r=d+1),i<=d&&(o=d-1)}}(n,i,r||0,o||n.length-1,a||e)}},"object"===a(e)&&void 0!==t?t.exports=o():void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=d(n(15)),l=d(n(110)),h=d(n(46)),f=d(n(80)),p=d(n(113));function d(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,s(e).call(this,t))).geocoder=t.geocoder,n.locationTemplate=t.locationTemplate,n.featureCount=void 0,n.geocodedCount=0,n.replace=(new p.default).replace;var i=new f.default;return n.on=c.default.proxy(i.on,i),n.one=c.default.proxy(i.one,i),n.off=c.default.proxy(i.off,i),n.trigger=c.default.proxy(i.trigger,i),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,l.default),n=e,(i=[{key:"readFeatures",value:function(t,n){var i=a(s(e.prototype),"readFeatures",this).call(this,t,n);return this.featureCount=(this.featureCount||0)+i.length,i}},{key:"setGeometry",value:function(t,e){var n=this,i=this.replace(this.locationTemplate,e);i===this.locationTemplate?console.error("Invalid location:",i,"Bad record:",e):this.geocoder.search(i).then(function(n){t.set("_geocodeResp",n),"geocoded"===n.type?(console.info("Geocoded:",i,e,"Geocoder response:",n),t.setGeometry(new h.default(n.coordinate))):(console.warn("Ambiguous location:",i,e,"Geocoder response:",n),t.dispatchEvent("change",{target:t}))}).catch(function(t){console.error("Geocoding error:",i,e,"Geocoder response:",t)}).finally(function(){n.geocodedCount=n.geocodedCount+1,n.geocodedCount===n.featureCount&&n.trigger("geocode-complete",n)})}}])&&r(n.prototype,i),e}();y.Options;var g=y;e.default=g},function(t,e){t.exports=window.Papa||{}},function(t,e){t.exports=window},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};i.ID="ID",i.X="X",i.Y="Y",i.LNG="LNG",i.LAT="LAT",i.NAME="NAME",i.ADDR1="ADDR1",i.ADDR2="ADDR2",i.CITY="CITY",i.BORO="BORO",i.STATE="STATE",i.ZIP="ZIP",i.PHONE="PHONE",i.EMAIL="EMAIL",i.WEBSITE="WEBSITE",i.DETAIL="DETAIL";var r=i;e.default=r},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",function(){return c}),n.d(e,"Request",function(){return g}),n.d(e,"Response",function(){return _}),n.d(e,"DOMException",function(){return b}),n.d(e,"fetch",function(){return O});var i={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(i.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():i.arrayBuffer&&i.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,n,i=l(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,n=h(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=a(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=s(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),u(t)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){var n,i,r=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(i=(n=e.method||this.method||"GET").toUpperCase(),y.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},d.call(g.prototype),d.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];_.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})};var b=self.DOMException;try{new b}catch(t){(b=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),b.prototype.constructor=b}function O(t,e){return new Promise(function(n,r){var o=new g(t,e);if(o.signal&&o.signal.aborted)return r(new b("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,e,i={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new _(r,i))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new b("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}O.polyfill=!0,self.fetch||(self.fetch=O,self.Headers=c,self.Request=g,self.Response=_)},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(15)),c=l(n(42));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,t.target))).wtf=(0,u.default)("<div></div>"),(0,u.default)("body").append(n.wtf),n.itemType=t.itemType||"facilities",n.getContainer().addClass("lst-pg").append((0,u.default)(e.HTML)).attr("role","region"),n.items=t.items||[],n.list=n.find(".list"),n.index=0,n.pageSize=t.pageSize||10,n.moreBtn=n.find("button").click(u.default.proxy(n.more,a(n))),n.reset(n.items),n}var n,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(l=[{key:"reset",value:function(t){return this.list.empty(),this.items=t||[],this.index=0,this.moreBtn.fadeIn(),this.next(!0)}},{key:"next",value:function(t,e){e=e||this.pageSize;var n=this.items.slice(this.index,this.index+e),i=this.find(".lst-it").last();return this.index=this.index+e,this.index>=this.items.length-1&&this.moreBtn.fadeOut(),this.render(n),this.info(),t?this.find(".lst-it").first().focus():i.next().attr("tabindex",0).focus(),this.trigger("change",this),n}},{key:"info",value:function(){this.find("h2.info").html("Showing ".concat(this.find(".lst-it").length," of ").concat(this.items.length," ").concat(this.itemType))}},{key:"render",value:function(t){var e=this;t.forEach(function(t){e.list.append((0,u.default)('<div class="lst-it" role="listitem"></div>').append(t.html()))})}},{key:"more",value:function(){return this.next()}}])&&r(n.prototype,l),e}();h.Options,h.Item,h.HTML='<h2 class="info"></h2><div class="list" role="list"></div><button class="btn rad-all btn-more">More...</button>';var f=h;e.default=f},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=R(n(15)),l=R(n(23)),h=R(n(93)),f=R(n(139)),p=R(n(140)),d=R(n(176)),y=R(n(180)),g=R(n(112)),v=R(n(143)),_=R(n(182)),m=R(n(144)),b=R(n(145)),O=R(n(179)),E=R(n(181)),T=R(n(146)),S=R(n(117)),x=R(n(147)),C=R(n(111)),w=R(n(177)),j=R(n(183));function R(t){return t&&t.__esModule?t:{default:t}}var P=l.default.proj4,I=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=t.view instanceof C.default;return e.setupView(t),t.interactions||(t.interactions=[new m.default,new b.default,new x.default,new E.default,new T.default,new S.default,new O.default]),r=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?s(t):e}(this,a(e).call(this,t)),l.default.mixin(s(r),[f.default]),r.latestPhoto=0,r.base=null,r.labels={},r.photos={},r.storage=new p.default,r.setupLayers(t,n),r.defaultExtent(o),r.hookupEvents(r.getTargetElement()),r}var n,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,d.default),n=e,(h=[{key:"createRenderer",value:function(){var t=new y.default(this);return t.registerLayerRenderers([g.default,v.default,_.default]),t}},{key:"showPhoto",value:function(t){this.hidePhoto(),this.photos[(t||this.latestPhoto)+""].setVisible(!0),this.showLabels("photo")}},{key:"hidePhoto",value:function(){this.base.setVisible(!0),this.showLabels(f.default.LabelType.BASE),Object.entries(this.photos).forEach(function(t){var e=r(t,2);e[0],e[1].setVisible(!1)})}},{key:"showLabels",value:function(t){this.labels.base.setVisible(t===f.default.LabelType.BASE),this.labels.photo.setVisible(t===f.default.LabelType.PHOTO)}},{key:"getBaseLayers",value:function(){return{base:this.base,labels:this.labels,photos:this.photos}}},{key:"getStorage",value:function(){return this.storage}},{key:"defaultExtent",value:function(t){t||this.getView().fit(e.EXTENT,this.getSize())}},{key:"setupLayers",value:function(t,n){var i=this;this.base=new j.default({extent:this.layerExtent(e.UNIVERSE_EXTENT,t.view),source:new w.default({url:e.BASE_URL,projection:"EPSG:3857"}),preload:n||0}),this.addLayer(this.base),Object.entries(e.LABEL_URLS).forEach(function(n){var o=r(n,2),a=o[0],s=o[1];i.labels[a]=new j.default({extent:i.layerExtent(e.LABEL_EXTENT,t.view),source:new w.default({url:s,projection:"EPSG:3857"}),zIndex:1e3,visible:a===f.default.LabelType.BASE}),i.addLayer(i.labels[a])}),Object.entries(e.PHOTO_URLS).forEach(function(n){var o=r(n,2),a=o[0],s=o[1],u=new j.default({extent:i.layerExtent(e.PHOTO_EXTENT,t.view),source:new w.default({url:s,projection:"EPSG:3857"}),visible:!1});1*a.split("-")[0]>i.latestPhoto&&(i.latestPhoto=a),u.set("name",a),i.addLayer(u),u.on("change:visible",c.default.proxy(i.photoChange,i)),i.photos[a]=u})}},{key:"layerExtent",value:function(t,e){if(e&&"EPSG:3857"!==e.getProjection().getCode()){var n="EPSG:3857",i="EPSG:2263",r=P(n,i,[t[0],t[1]]),o=P(n,i,[t[2],t[3]]);return[r[0],r[1],o[0],o[1]]}return t}},{key:"photoChange",value:function(){var t=this,e=!1;Object.entries(this.photos).some(function(n){var i=r(n,2),o=(i[0],i[1]);if(e=o.getVisible())return t.showLabels(f.default.LabelType.PHOTO),!0}),e||this.showLabels(f.default.LabelType.BASE)}}])&&o(n.prototype,h),e}();I.setupView=function(t){t.view instanceof C.default||(t.view=new C.default({center:I.CENTER,minZoom:8,maxZoom:21,zoom:8,constrainRotation:1}))},I.BASE_URL="https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/carto/basemap/{z}/{x}/{-y}.jpg"),I.PHOTO_URLS={1924:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/1924/{z}/{x}/{-y}.png8"),1951:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/1951/{z}/{x}/{-y}.png8"),1996:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/1996/{z}/{x}/{-y}.png8"),"2001-2":"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2001-2/{z}/{x}/{-y}.png8"),2004:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2004/{z}/{x}/{-y}.png8"),2006:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2006/{z}/{x}/{-y}.png8"),2008:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2008/{z}/{x}/{-y}.png8"),2010:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2010/{z}/{x}/{-y}.png8"),2012:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2012/{z}/{x}/{-y}.png8"),2014:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2014/{z}/{x}/{-y}.png8"),2016:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2016/{z}/{x}/{-y}.png8"),2018:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/photo/2018/{z}/{x}/{-y}.png8")},I.LABEL_URLS={base:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/carto/label/{z}/{x}/{-y}.png8"),photo:"https://".concat(h.default.TILE_HOSTS,"/tms/1.0.0/carto/label-lt/{z}/{x}/{-y}.png8")},I.UNIVERSE_EXTENT=[-8453323,4774561,-7983695,5165920],I.EXTENT=[-8266522,4937867,-8203781,5000276],I.CENTER=[-8235252,4969073],I.LABEL_EXTENT=[-8268e3,4870900,-8005e3,5055500],I.PHOTO_EXTENT=[-8268357,4937238,-8203099,5001716];var k=I;e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n(15))&&i.__esModule?i:{default:i},o={hookupEvents:function(t){(0,r.default)(t).on("drop",r.default.proxy(this.loadLayer,this)),(0,r.default)(t).on("dragover",function(t){t.preventDefault()})},loadLayer:function(t){var e=t.originalEvent.dataTransfer;if(t.preventDefault(),t.stopPropagation(),e&&e.files.length){var n=e.files;"json"===n[0].name.split(".").pop().toLowerCase()?this.storage.loadGeoJsonFile(this,null,n[0]):this.storage.loadShapeFile(this,null,n)}},sortedPhotos:function(){var t=this,e=[];return Object.keys(this.photos).forEach(function(n){e.push(t.photos[n])}),e.sort(function(t,e){var n=t.name||t.get("name");return(e.name||e.get("name")).substr(0,4)-n.substr(0,4)})},LabelType:{BASE:"base",PHOTO:"photo"}};e.default=o},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=f(n(109)),u=f(n(71)),c=f(n(81)),l=f(n(141)),h=n(116);function f(t){return t&&t.__esModule?t:{default:t}}var p=f(n(23)).default.proj4,d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(e).call(this))}var n,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,l.default),n=e,(f=[{key:"addToMap",value:function(t,e,n){var r={featureProjection:t.getView().getProjection().getCode(),dataProjection:this.customProj(n,p)};(0,h.register)(p),"object"===i(e)&&(e={type:"FeatureCollection",features:e});var o=new u.default,a=new c.default({source:o});return o.addFeatures((new s.default).readFeatures(e,r)),t.addLayer(a),a}}])&&r(n.prototype,f),e}();e.default=d},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(15)),o=a(n(23));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"canDownload",value:function(){return"download"in(0,r.default)("<a></a>").get(0)}},{key:"saveGeoJson",value:function(t,e){var n="data:application/jsoncharset=utf-8,".concat(encodeURIComponent(e)),i=(0,r.default)('<a class="file-dwn"><img></a>');(0,r.default)("body").append(i),i.attr({href:n,download:t}).find("img").trigger("click"),i.remove()}},{key:"setItem",value:function(t,e){"localStorage"in window&&localStorage.setItem(t,e)}},{key:"getItem",value:function(t){if("localStorage"in window)return localStorage.getItem(t)}},{key:"removeItem",value:function(t){"localStorage"in window&&localStorage.removeItem(t)}},{key:"readTextFile",value:function(t,e){var n=new FileReader;if(n.onload=function(){t(n.result)},e)n.readAsText(e);else{var i=(0,r.default)('<input class="file-in" type="file">');(0,r.default)("body").append(i),i.change(function(t){i.remove(),n.readAsText(t.target.files[0])}),i.trigger("click")}}},{key:"loadGeoJsonFile",value:function(t,e,n){var i=this;this.readTextFile(function(n){var r=i.addToMap(t,n);e&&e(r)},n)}},{key:"loadShapeFile",value:function(t,e,n){if(n)this.getShpDbfPrj(t,n,e);else{var i=this,o=(0,r.default)('<input class="file-in" type="file" multiple>');(0,r.default)("body").append(o),o.change(function(n){i.getShpDbfPrj(t,n.target.files,e),o.remove()}),o.trigger("click")}}},{key:"getShpDbfPrj",value:function(t,e,n){var i,r,o,a=this;Object.values(e).forEach(function(t){var e=t.name,n=e.substr(e.length-4).toLowerCase();".shp"===n?i=t:".dbf"===n?r=t:".prj"===n&&(o=t)}),i?this.readPrj(o,function(e){a.readShpDbf(t,i,r,e,n)}):n&&n()}},{key:"readPrj",value:function(t,e){t?this.readTextFile(e,t):e()}},{key:"readShpDbf",value:function(t,e,n,i,r){var o,a,s=this,u=new FileReader;u.onload=function(e){o=e.target.result,!a&&n||s.readShp(t,o,a,i,r)};var c=new FileReader;c.onload=function(e){a=e.target.result,o&&s.readShp(t,o,a,i,r)},u.readAsArrayBuffer(e),n&&c.readAsArrayBuffer(n)}},{key:"readShp",value:function(e,n,i,r,o){var a=this,s=[];t.shapefile.open(n,i).then(function(t){t.read().then(function n(i){if(!i.done)return s.push(i.value),t.read().then(n);var u=a.addToMap(e,s,r);o&&o(u)})}).catch(function(t){console.error(t)})}},{key:"addToMap",value:function(t,e,n){throw"Not implemented"}},{key:"customProj",value:function(t,e){if(t){var n=o.default.nextId("shp:prj");return e.defs(n,t),n}}}])&&i(e.prototype,n),t}();s.shapefile=n(142);var u=s;e.default=u},function(t,e){t.exports=window.shapefile||{}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n(54),o=n(18),a=n(16),s=n(1),u=n(5),c=n(74),l=n.n(c),h=n(0),f=n(40),p=n(4),d=n(84),y=n(106),g=n(53),v=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?l()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(h.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(a.a)(),Object(s.a)(p.o,u.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(s.c)(p.o,u.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,a=n.managed?e.skippedFeatureUids:{},s=e.viewState,u=s.projection,c=s.rotation,l=u.getExtent(),d=this.getLayer().getSource(),y=this.getTransform(e,0),g=n.extent,v=void 0!==g;v&&this.clip(t,e,g);var _=this.replayGroup_;if(_&&!_.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var m,b=this.getLayer(),O=0,E=0,T=1!==n.opacity,S=b.hasListener(f.a.RENDER);if(T||S){var x=t.canvas.width,C=t.canvas.height;if(c){var w=Math.round(Math.sqrt(x*x+C*C));O=(w-x)/2,E=(w-C)/2,x=C=w}this.context.canvas.width=x,this.context.canvas.height=C,m=this.context}else m=t;var j=m.globalAlpha;T||(m.globalAlpha=n.opacity),m!=t&&m.translate(O,E);var R=e.viewHints,P=!(R[o.a.ANIMATING]||R[o.a.INTERACTING]),I=e.size[0]*r,k=e.size[1]*r;if(Object(p.s)(m,-c,I/2,k/2),_.replay(m,y,c,a,P),d.getWrapX()&&u.canWrapX()&&!Object(h.containsExtent)(l,i)){for(var L,M=i[0],A=Object(h.getWidth)(l),F=0;M<l[0];)L=A*--F,y=this.getTransform(e,L),_.replay(m,y,c,a,P),M+=A;for(F=0,M=i[2];M>l[2];)L=A*++F,y=this.getTransform(e,L),_.replay(m,y,c,a,P),M-=A}if(Object(p.s)(m,c,I/2,k/2),S&&this.dispatchRenderEvent(m,e,y),m!=t){if(T){var D=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(m.canvas,-O,-E),t.globalAlpha=D}else t.drawImage(m.canvas,-O,-E);m.translate(-O,-E)}T||(m.globalAlpha=j)}v&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,u=this.getLayer(),c={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,n,{},function(t){var e=Object(i.c)(t);if(!(e in c))return c[e]=!0,r.call(o,t,u)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[o.a.ANIMATING],a=t.viewHints[o.a.INTERACTING],s=n.getUpdateWhileAnimating(),u=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!u&&a)return!0;var c=t.extent,l=t.viewState,f=l.projection,p=l.resolution,y=t.pixelRatio,v=n.getRevision(),_=n.getRenderBuffer(),m=n.getRenderOrder();void 0===m&&(m=g.a);var b=Object(h.buffer)(c,_*p),O=l.projection.getExtent();if(i.getWrapX()&&l.projection.canWrapX()&&!Object(h.containsExtent)(O,t.extent)){var E=Object(h.getWidth)(O),T=Math.max(Object(h.getWidth)(b)/2,E);b[0]=O[0]-T,b[2]=O[2]+T}if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==v&&this.renderedRenderOrder_==m&&Object(h.containsExtent)(this.renderedExtent_,b))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var S=new d.a(Object(g.c)(p,y),b,p,y,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(b,p,f);var x=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,p)),e){var r=this.renderFeature(t,p,y,e,S);this.dirty_=this.dirty_||r}}.bind(this);if(m){var C=[];i.forEachFeatureInExtent(b,function(t){C.push(t)}),C.sort(m);for(var w=0,j=C.length;w<j;++w)x(C[w])}else i.forEachFeatureInExtent(b,x);return S.finish(),this.renderedResolution_=p,this.renderedRevision_=v,this.renderedRenderOrder_=m,this.renderedExtent_=b,this.replayGroup_=S,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var a=0,s=i.length;a<s;++a)o=Object(g.d)(r,t,i[a],Object(g.b)(e,n),this.handleStyleImageChange_,this)||o;else o=Object(g.d)(r,t,i,Object(g.b)(e,n),this.handleStyleImageChange_,this);return o},e}(y.a);v.handles=function(t){return t.getType()===r.a.VECTOR},v.create=function(t,e){return new v(e)},e.default=v},function(t,e,n){"use strict";n.r(e);var i=n(17),r=n(31),o=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.a);function a(t){var e=!1;if(t.type==i.a.DBLCLICK){var n=t.originalEvent,o=t.map,a=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,u=o.getView();Object(r.d)(u,s,a,this.duration_),t.preventDefault(),e=!0}return!e}e.default=o},function(t,e,n){"use strict";n.r(e);var i=n(18),r=n(43),o=n(29),a=n(30),s=n(20),u=n(66),c=function(t){function e(e){t.call(this,{stopDown:s.a});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:a.d,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(i.a.INTERACTING,1));var e=this.targetPointers,n=Object(u.a)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var o=this.lastCentroid[0]-n[0],a=n[1]-this.lastCentroid[1],s=t.map.getView(),c=[o,a];Object(r.scale)(c,s.getResolution()),Object(r.rotate)(c,s.getRotation()),Object(r.add)(c,s.getCenter()),c=s.constrainCenter(c),s.setCenter(c)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=n.getCenter(),u=e.getPixelFromCoordinate(s),c=e.getCoordinateFromPixel([u[0]-r*Math.cos(a),u[1]-r*Math.sin(a)]);n.animate({center:n.constrainCenter(c),duration:500,easing:o.easeOut})}return this.panning_&&(this.panning_=!1,n.setHint(i.a.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(u.b);e.default=c},function(t,e,n){"use strict";n.r(e);var i=n(5),r=n(30),o=n(31),a=function(t){function e(e){t.call(this,{handleEvent:s});var n=e||{};this.condition_=n.condition?n.condition:r.f,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.a);function s(t){var e=!1;if(t.type==i.a.KEYDOWN||t.type==i.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,a=n=="+".charCodeAt(0)?this.delta_:-this.delta_,s=r.getView();Object(o.d)(s,a,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=a},function(t,e,n){"use strict";n.r(e);var i=n(18),r=n(20),o=n(31),a=n(66),s=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=r.a),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,s=n.clientY-i.clientY,u=Math.sqrt(r*r+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/u),this.lastDistance_=u;var c=t.map,l=c.getView(),h=l.getResolution(),f=l.getMaxResolution(),p=l.getMinResolution(),d=h*e;d>f?(e=f/h,d=f):d<p&&(e=p/h,d=p),1!=e&&(this.lastScaleDelta_=e);var y=c.getViewport().getBoundingClientRect(),g=Object(a.a)(this.targetPointers);g[0]-=y.left,g[1]-=y.top,this.anchor_=c.getCoordinateFromPixel(g),c.render(),Object(o.e)(l,d,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(i.a.INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var r=this.lastScaleDelta_-1;Object(o.c)(e,n,this.anchor_,this.duration_,r)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(i.a.INTERACTING,1),!0}return!1},e}(a.b);e.default=s},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=n(0),c=h(n(149)),l=h(n(150));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,t))).layers=[],n.pager=new c.default({target:n.content}),n.addLayers(t.layers),n.pager.on("change",n.paged,a(n)),n}var n,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(h=[{key:"showFeature",value:function(t){this.showFeatures([t])}},{key:"showFeatures",value:function(t,e){e=e||(0,u.getCenter)(t[0].getGeometry().getExtent()),this.pager.show(t),this.show({coordinate:e})}},{key:"mapClick",value:function(t){var e=this.getId(),n=[];this.map.forEachFeatureAtPixel(t.pixel,function(t,i){i.get("popup-id")===e&&n.push(t)}),n.length&&this.showFeatures(n,t.coordinate)}},{key:"paged",value:function(t){this.cssClass(t.item.cssClass?t.item.cssClass():""),this.pan()}}])&&r(n.prototype,h),e}();e.default=f},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=h(n(15)),c=h(n(23)),l=h(n(42));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,(0,u.default)(e.HTML))),t=t||{},(0,u.default)(t.target).append(n.getContainer()),n.item=null,n.current=n.find(".current"),n.total=n.find(".total"),n.currentItem=n.find(".it"),n.btns=n.find(".btns"),n.items=null,n.find(".btn-nxt, .btn-prv").click(u.default.proxy(n.navigate,a(n))),t.items&&n.show(t.items),n}var n,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(h=[{key:"show",value:function(t){this.items=t,this.item=t[0],this.btns[t.length>1?"show":"hide"](),this.current.data("current",0).html(1),this.total.html(t.length),this.currentItem.html(t.length?c.default.html(t[0]):""),this.trigger("change",this)}},{key:"navigate",value:function(t){var e=(0,u.default)(t.currentTarget).data("incr")-0,n=this.current.data("current")-0+e;n>=0&&n<this.items.length&&(this.current.data("current",n).html(n+1),this.currentItem.html(c.default.html(this.items[n])),this.item=this.items[n],this.trigger("change",this))}}])&&r(n.prototype,h),e}();f.Options,f.HTML='<div class="it-pg"><div class="it"></div><div class="btns"><button class="btn btn-rnd btn-prv" data-incr="-1"><span class="screen-reader-only">Previous</span><span class="fas fa-angle-left" role="img"></span></button><span class="current"></span> of <span class="total"></span><button class="btn btn-rnd btn-nxt" data-incr="1"><span class="screen-reader-only">Next</span><span class="fas fa-angle-right" role="img"></span></button></div></div>';var p=f;e.default=p},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=f(n(15)),c=n(0),l=f(n(23)),h=f(n(151));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,t))).layers=[],n.addLayers(t.layers),n.map.on("click",u.default.proxy(n.mapClick,a(n))),n}var n,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,h.default),n=e,(f=[{key:"addLayers",value:function(t){var e=this;t.forEach(function(t){e.addLayer(t)})}},{key:"addLayer",value:function(t){this.layers.push(t),t.set("popup-id",this.getId())}},{key:"showFeature",value:function(t,e){e=e||(0,c.getCenter)(t.getGeometry().getExtent()),this.show({coordinate:e,html:l.default.html(t),css:t.cssClass?t.cssClass():""})}},{key:"mapClick",value:function(t){var e=this.getId(),n=this.map.forEachFeatureAtPixel(t.pixel,function(t,n){if(n.get("popup-id")===e)return t});n&&this.showFeature(n,t.coordinate)}}])&&r(n.prototype,f),e}();p.Options;var d=p;e.default=d},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=f(n(15)),c=f(n(123)),l=n(29),h=f(n(23));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,{id:h.default.nextId("Popup"),element:(0,u.default)(e.HTML).get(0),autoPanMargin:void 0===t.autoPanMargin?10:t.autoPanMargin,autoPanAnimation:void 0===t.autoPanAnimation?{duration:1e3,easing:l.linear}:t.autoPanAnimation}))).popup=(0,u.default)(n.getElement()),n.map=t.map,n.setMap(n.map),n.content=n.popup.find(".content"),n.fullscreen=(0,u.default)(e.FULLSCREEN_HTML),n.closeFullscreen=n.fullscreen.find(".btn-x"),(0,u.default)(n.map.getTargetElement()).append(n.fullscreen),n.popup.find(".btn-x").on("click tap",u.default.proxy(n.hide,a(n))),n.popup.on("mouseover mousemove",u.default.proxy(n.hideTip,a(n))),n}var n,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(f=[{key:"show",value:function(t){t.html&&(this.content.html(t.html),this.cssClass(t.css)),this.setPosition(t.coordinate),this.popup.fadeIn(u.default.proxy(this.pan,this)),(0,u.default)(".f-tip").fadeOut()}},{key:"cssClass",value:function(t){this.content.get(0).className="content",this.content.addClass(t)}},{key:"hide",value:function(){this.popup.fadeOut()}},{key:"hideTip",value:function(t){t.stopPropagation(),(0,u.default)(".f-tip").fadeOut()}},{key:"pan",value:function(){this.isFullscreen()||"none"===this.popup.css("display")||this.panIntoView()}},{key:"isFullscreen",value:function(){var t=(0,u.default)(this.getElement()),e=(0,u.default)(this.map.getTargetElement());if(t.height()>e.height())return this.goFullscreen(),!0}},{key:"goFullscreen",value:function(){var t=(0,u.default)(this.getElement()),e=this.content,n=this.fullscreen,i=u.default.proxy(this.hide,this);n.append(e),this.closeFullscreen.click(function(){n.fadeOut(),t.append(e)}),n.fadeIn(i)}}])&&r(n.prototype,f),e}();p.ShowOptions,p.Options,p.HTML='<div class="pop"><div class="content"></div><button class="btn btn-rnd btn-x"><span class="screen-reader-only">Dismiss popup</span><span class="fas fa-times" role="img"></span></button></div>',p.FULLSCREEN_HTML='<div class="pop fullscreen"><button class="btn btn-rnd btn-x"><span class="screen-reader-only">Close</span><span class="fas fa-times" role="img"></span></button></div>';var d=p;e.default=d},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=y(n(15)),u=y(n(153)),c=y(n(154)),l=y(n(156)),h=y(n(158)),f=y(n(159)),p=y(n(161)),d=y(n(163));function y(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n,i=t.map;return n=void 0!==t.searchTarget?t.searchTarget:(0,s.default)(i.getTargetElement()).find(".ol-overlaycontainer-stopevent"),r(this,o(e).call(this,{search:new d.default(n),zoom:new f.default(i),dialogTarget:t.dialogTarget,geolocate:new p.default(i),locator:new l.default({geocoder:new c.default({url:t.url})}),mapLocator:new h.default({map:i})}))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,u.default),e}();g.Options;var v=g;e.default=v},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=h(n(23)),c=h(n(80)),l=h(n(85));function h(t){return t&&t.__esModule?t:{default:t}}var f=u.default.proj4,p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this))).zoom=t.zoom,n.geolocate=t.geolocate,n.search=t.search,n.locator=t.locator,n.mapLocator=t.mapLocator,n.dialog=new l.default({target:t.dialogTarget}),n.autoLocate=t.autoLocate||!1,n.hookupEvents(),n.locateFromQueryString(document.location.search),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"setLocation",value:function(t){this.mapLocator.setLocation(t)}},{key:"hookupEvents",value:function(){this.locator.on("geocoded",this.located,this),this.locator.on("geolocated",this.located,this),this.locator.on("ambiguous",this.ambiguous,this),this.locator.on("error",this.error,this),this.search.on("disambiguated",this.located,this),this.search.on("search",this.locator.search,this.locator),this.geolocate.on("geolocate",this.locator.locate,this.locator)}},{key:"goTo",value:function(t){if(t.indexOf("EPSG")>-1){t=t.split(",");var e=this.mapLocator.getProjection(),n=f(t[2],e,[1*t[0],1*t[1]]);this.mapLocator.zoomLocation({coordinate:n})}else this.locator.search(t)}},{key:"locateFromQueryString",value:function(t){var e={};try{(t=decodeURIComponent(t)).substr(1).split("&").forEach(function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])})}catch(t){}e.location?this.goTo(e.location):this.autoLocate&&this.locator.locate()}},{key:"located",value:function(t){var e=this;this.search.val("geolocated"===t.type?"":t.name),this.mapLocator.zoomLocation(t,function(){e.trigger(t.type,t)})}},{key:"ambiguous",value:function(t){t.possible.length?this.search.disambiguate(t):this.dialog.ok({message:"The location you entered was not understood"})}},{key:"error",value:function(){this.dialog.ok({message:"Failed to contact geocoder"})}}])&&r(n.prototype,i),e}();p.Options;var d=p;e.default=d},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=h(n(23)),c=h(n(108)),l=h(n(155));function h(t){return t&&t.__esModule?t:{default:t}}var f=u.default.proj4,p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this,t))).url="".concat(t.url,"&input="),n.projection=t.projection||"EPSG:3857",n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(i=[{key:"search",value:function(t){var e=this;return new Promise(function(n,i){5!==(t=t.trim()).length||isNaN(t)?t.length&&(t=t.replace(/"/g,"").replace(/'/g,"").replace(/&/g," and "),fetch("".concat(e.url).concat(t)).then(function(t){return t.json()}).then(function(t){e.geoclient(t,n)}).catch(function(t){e.error(t)})):e.resolveZip(t,n)})}},{key:"resolveZip",value:function(t,n){var i,r=this.project(e.ZIP_CODE_POINTS[t]);r?(n(i={coordinate:r,accuracy:c.default.Accuracy.ZIP_CODE,type:"geocoded",zip:!0,name:t}),this.trigger("geocoded",i)):(n(i={input:t,type:"ambiguous",possible:[]}),this.trigger("ambiguous",i))}},{key:"project",value:function(t){return t&&"EPSG:2263"!==this.projection?f("EPSG:2263",this.projection,t):t}},{key:"geoclient",value:function(t,e){var n=t.results,i={type:"ambiguous",input:t.input,possible:[]};if("OK"===t.status)if(1===n.length){var r=n[0],o=this.parse(r);o?(o.type="geocoded",e(o),this.trigger("geocoded",o)):(e(i),this.trigger("ambiguous",i))}else{var a={type:"ambiguous",input:t.input,possible:this.possible(n)};e(a),this.trigger("ambiguous",a)}else e(i),this.trigger("ambiguous",i)}},{key:"possible",value:function(t){var e=this,n=[];return t.forEach(function(t){var i=e.parse(t);i&&n.push(i)}),n}},{key:"parse",value:function(t){var e,n,i,r=t.request.split(" ")[0],o=t.response;if("intersection"===r)e="".concat(o.streetName1," and ").concat(o.streetName2),n=[1*o.xCoordinate,1*o.yCoordinate],i=c.default.Accuracy.MEDIUM;else if("blockface"===r)e=o.firstStreetNameNormalized+" btwn "+o.secondStreetNameNormalized+" & "+o.thirdStreetNameNormalized,n=[(1*o.fromXCoordinate+1*o.toXCoordinate)/2,(1*o.fromYCoordinate+1*o.toYCoordinate)/2],i=c.default.Accuracy.LOW;else{var a=o.internalLabelXCoordinate,s=o.internalLabelYCoordinate;e=(o.houseNumber?o.houseNumber+" ":"")+(o.firstStreetNameNormalized||o.giStreetName1),n=[1*(a&&s?a:o.xCoordinate),1*(a&&s?s:o.yCoordinate)],i=a&&s?c.default.Accuracy.HIGH:c.default.Accuracy.MEDIUM}try{return{type:"geocoded",coordinate:this.project(n),data:o,accuracy:i,name:u.default.capitalize("".concat(e.replace(/  +/g," "),", ").concat(o.firstBoroughName))+", NY ".concat(o.zipCode||o.leftSegmentZipCode||"")}}catch(e){console.warn("No coordinate",t)}}},{key:"error",value:function(t){var e={type:"error",error:arguments};console.error("Geoclient error",arguments),t(e),this.trigger("error",e)}}])&&r(n.prototype,i),e}();p.Options,p.ZIP_CODE_POINTS={10474:[1018466,233787],10455:[1007889,236616],10037:[1001661,235627],10024:[991450,225457],10454:[1007449,232863],10026:[997179,231835],10025:[993331,230012],10035:[1006595,228454],11101:[1001319,211034],11364:[1051553,211923],10018:[984278,215509],10020:[990012,215729],11005:[1064789,214295],10017:[991869,213252],10001:[983613,213360],10011:[982781,210664],10016:[990291,210665],11104:[1006224,210564],11109:[996054,210740],10010:[988989,208515],11367:[1032392,205392],10014:[982449,206620],10003:[987465,205563],11222:[998773,204620],11379:[1017432,200740],11429:[1056859,198057],11435:[1036960,195018],11415:[1031798,197376],11418:[1031001,193330],11433:[1043368,193721],11451:[1039899,194697],11221:[1004438,191873],11421:[1023878,191241],11372:[1016528,213126],11004:[1065606,210363],11040:[1065956,213534],10002:[988242,200171],10314:[939259,155728],11228:[980891,164066],11209:[976172,165379],10304:[962458,165679],10456:[1007883,242372],10472:[1021444,241624],10031:[998088,239814],10039:[1001519,240436],10459:[1013835,240084],10451:[1005368,238290],10473:[1022475,237217],10030:[1000193,237302],10027:[999088,234131],10461:[1028296,247902],10457:[1012388,247405],10460:[1015132,243510],10032:[1000382,244917],10452:[1005446,244483],11414:[1027256,178677],11232:[983612,177801],10034:[1005713,255122],10033:[1001707,248780],10462:[1020685,249420],10040:[1003863,251914],10453:[1008152,249805],11102:[1004636,220364],10021:[997020,219120],11361:[1047797,217779],11358:[1040709,216377],11362:[1057749,215220],10044:[996385,214347],11369:[1019957,217722],11103:[1008295,217197],11106:[1001397,217519],11368:[1024870,212082],11377:[1010574,210678],10036:[985413,216821],11355:[1033762,213010],10302:[945946,169124],10465:[1031495,239091],11691:[1053783,158810],11096:[1054217,162199],11223:[991665,156781],11208:[1019700,184749],11207:[1013544,183721],11413:[1053380,183328],11217:[989547,187967],11238:[994291,186584],11231:[983057,186217],11422:[1057272,180607],11420:[1036899,184708],11417:[1027410,185709],11215:[989882,181773],11357:[1036533,225804],10029:[999950,227538],"00083":[991590,220538],11356:[1028115,225277],11359:[1046026,228012],10303:[933820,171004],11234:[1004323,163783],11360:[1044984,223892],11105:[1011836,221755],10128:[997765,224257],11371:[1022003,220457],10023:[988765,222068],11363:[1055047,220385],10028:[995910,222872],11354:[1032198,219054],11216:[998312,187241],11416:[1025796,188584],11233:[1006523,186300],11436:[1040697,185554],11213:[1000284,183308],11212:[1008387,180764],11225:[997345,180829],11218:[990799,173649],11226:[995711,174598],11219:[985166,169604],11210:[999101,167896],11230:[993494,166072],11419:[1033365,190202],11434:[1046577,185969],11204:[987887,164576],10471:[1012587,266570],10470:[1024748,268409],10466:[1024313,263999],10467:[1019786,258782],11430:[1043607,175068],11203:[1002509,175950],10469:[1026678,255623],10468:[1013897,258046],10458:[1015534,253712],11378:[1009641,202115],10009:[990043,203961],10012:[984832,203596],10013:[982892,201665],10007:[982504,199552],11237:[1004600,197083],11385:[1011367,195195],10038:[983418,197803],11206:[1000221,195003],10006:[980563,197293],11412:[1050773,193231],10005:[981339,197038],11251:[993428,194599],11411:[1057763,192413],11201:[986968,192156],10004:[972576,193652],11205:[995897,192159],10305:[963310,156060],11229:[999717,158278],11214:[984e3,159330],10306:[950937,145144],11694:[1025530,149310],11224:[984306,149092],10308:[942704,140020],10282:[979981,200244],11211:[999857,199848],11249:[993704,198278],11370:[1016758,227518],10065:[994666,217698],10075:[995301,221633],10069:[987047,221849],10281:[980036,198787],11373:[1017948,208465],10279:[981949,198823],10165:[990124,213288],10168:[990733,212960],10105:[990067,217259],10118:[988212,211939],10176:[990123,214490],10162:[997739,219667],10170:[990955,213470],10112:[989735,215947],10122:[986550,213178],10107:[989098,218425],10103:[990705,216275],10174:[991094,213106],10166:[990733,213798],10169:[990872,214089],10167:[991259,214199],10177:[990927,214381],10172:[991398,214417],10171:[991426,214709],10270:[982060,196710],10104:[990123,216312],10271:[981339,197293],10110:[989486,213943],10175:[989847,214016],10151:[991702,217332],10173:[990040,213907],10178:[990429,212814],10119:[986217,213068],10121:[986439,212486],10123:[986827,213032],10106:[989624,218024],10158:[991177,212122],10041:[981727,195435],10120:[987242,212449],10278:[983113,199880],10155:[993143,216531],10043:[982337,195836],10081:[981838,197074],10096:[989071,214235],10097:[988461,216931],10196:[989458,214963],10275:[980368,196382],10265:[982060,196164],10045:[981866,197329],10047:[988047,208660],10080:[980785,198167],10203:[981062,196965],10259:[981478,197439],10260:[981921,196564],10285:[980147,199224],10286:[981727,196637],10463:[1007644,260043],10475:[1030489,258509],10464:[1036131,258338],10309:[923594,132955],10307:[916899,124411],10280:[979509,197257],10048:[980812,198532],10055:[991564,215802],10019:[989652,217477],10111:[990483,215838],10153:[991896,217478],10154:[991896,215328],10152:[991979,215584],10115:[994299,234675],10022:[993087,215620],11235:[1000973,149936],11693:[1036606,153266],11692:[1041045,155461],11697:[1009230,143240],10312:[935583,136827],11239:[1021573,175899],11236:[1011642,172461],11220:[979421,172519],10301:[961077,172967],10310:[950582,169591],11426:[1060737,207724],11365:[1041364,208618],11001:[1065508,206646],11375:[1026883,201848],11427:[1053373,205042],11374:[1022389,203771],11366:[1039491,203659],11423:[1048812,200621],11428:[1055655,202207],11432:[1041634,200093]};var d=p;e.default=d},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,c=(u=n(80))&&u.__esModule?u:{default:u},l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this))}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"search",value:function(t){throw"Not implemented"}}])&&r(n.prototype,i),e}();e.default=l},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=d(n(15)),c=d(n(23)),l=d(n(108)),h=d(n(157)),f=n(43),p=n(0);function d(t){return t&&t.__esModule?t:{default:t}}var y=c.default.proj4,g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,t))).locating=!1,n.extentLimit=t.extentLimit,n.geolocation=new h.default({trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),n.geolocation.on("change",u.default.proxy(n.geolocationChange,a(n))),n.geolocation.on("error",u.default.proxy(n.geolocationError,a(n))),n}var n,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(c=[{key:"locate",value:function(){this.locating=!0,this.geolocation.setTracking(!0)}},{key:"track",value:function(t){this.geolocation.setTracking(t)}},{key:"geolocationError",value:function(t){console.error(t.message,t)}},{key:"geolocationChange",value:function(){var t=this.geolocation,e=t.getPosition(),n=(0,f.toStringHDMS)(e);e=y("EPSG:4326",this.projection,e),this.withinLimit(e)&&(this.locating&&(this.track(!1),this.locating=!1),this.trigger("geolocated",{coordinate:e,heading:t.getHeading(),accuracy:t.getAccuracy()/this.metersPerUnit(),type:"geolocated",name:n}))}},{key:"withinLimit",value:function(t){return!this.extentLimit||(0,p.containsCoordinate)(this.extentLimit,t)}}])&&r(n.prototype,c),e}();g.Options;var v=g;e.default=v},function(t,e,n){"use strict";n.r(e);var i=n(14),r=n(1),o=n(24),a=n(5),s=n(39),u=n(19),c=n(6),l=n(8),h={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},f=function(t){function e(e){t.call(this,a.a.ERROR),this.code=e.code,this.message=e.message}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.a),p=function(t){function e(e){t.call(this);var n=e||{};this.position_=null,this.transform_=l.identityTransform,this.watchId_=void 0,Object(r.a)(this,Object(i.b)(h.PROJECTION),this.handleProjectionChanged_,this),Object(r.a)(this,Object(i.b)(h.TRACKING),this.handleTrackingChanged_,this),void 0!==n.projection&&this.setProjection(n.projection),void 0!==n.trackingOptions&&this.setTrackingOptions(n.trackingOptions),this.setTracking(void 0!==n.tracking&&n.tracking)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Object(l.getTransformFromProjections)(Object(l.get)("EPSG:4326"),t),this.position_&&this.set(h.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if(u.d){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(h.ACCURACY,e.accuracy),this.set(h.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(h.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(h.HEADING,null===e.heading?void 0:Object(c.i)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var n=this.transform_(this.position_);this.set(h.POSITION,n),this.set(h.SPEED,null===e.speed?void 0:e.speed);var i=Object(s.a)(this.position_,e.accuracy);i.applyTransform(this.transform_),this.set(h.ACCURACY_GEOMETRY,i),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new f(t))},e.prototype.getAccuracy=function(){return this.get(h.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(h.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(h.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(h.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(h.HEADING)},e.prototype.getPosition=function(){return this.get(h.POSITION)},e.prototype.getProjection=function(){return this.get(h.PROJECTION)},e.prototype.getSpeed=function(){return this.get(h.SPEED)},e.prototype.getTracking=function(){return this.get(h.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(h.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(h.PROJECTION,Object(l.get)(t))},e.prototype.setTracking=function(t){this.set(h.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(h.TRACKING_OPTIONS,t)},e}(i.a);e.default=p},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=v(n(109)),c=v(n(65)),l=v(n(86)),h=v(n(71)),f=v(n(81)),p=v(n(72)),d=v(n(46)),y=v(n(119)),g=v(n(118));function v(t){return t&&t.__esModule?t:{default:t}}var _=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this))).layer=null,n.source=null,n.map=t.map,n.view=n.map.getView(),n.zoom=void 0!==t.zoom?t.zoom:y.default.ZOOM_LEVEL,n.format=new u.default,n.tip=null,n.createLayer(t.style),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,y.default),n=e,(i=[{key:"zoomLocation",value:function(t,e){var n=this.map,i=this.view,r=this.source,o=this.feature(t);if(o){var a=o.getGeometry();r.clear(),r.addFeature(o),e&&n.once("moveend",e),"Point"===a.getType()?i.animate({center:t.coordinate,zoom:this.zoom}):i.fit(a.getExtent(),{size:n.getSize(),duration:500})}}},{key:"setLocation",value:function(t){this.source.clear(),this.source.addFeature(this.feature(t))}},{key:"getProjection",value:function(){return this.view.getProjection()}},{key:"feature",value:function(t){var e=t.geometry,n=t.coordinate;if(e||n){var i=new p.default({name:t.name,isFeature:t.isFeature});return e?i.setGeometry(this.format.readGeometry(e)):i.setGeometry(new d.default(n)),i}console.error("Unable to map invalid geometry:",t)}},{key:"createLayer",value:function(t){this.source=new h.default,this.layer=new f.default({source:this.source,style:t||e.LOCATION_STYLE,zIndex:1e4}),this.map.addLayer(this.layer),this.tip=new g.default({map:this.map,tips:[{layer:this.layer,label:function(t){return{css:"nyc-user-location",html:t.get("name")}}}]})}}])&&r(n.prototype,i),e}();_.Options,_.LOCATION_STYLE=new c.default({image:new l.default({scale:.09375,imgSize:[1024,1024],src:"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221024%22%20height%3D%221024%22%3E%3Cfilter%20id%3D%22filter%22%20style%3D%22color-interpolation-filters%3AsRGB%22%20x%3D%22-0.035750399%22%20width%3D%221.0715008%22%20y%3D%22-0.03625311%22%20%20height%3D%221.0725062%22%3E%3CfeGaussianBlur%20stdDeviation%3D%226.0015266%22%2F%3E%3C%2Ffilter%3E%3Cpath%20style%3D%22opacity%3A0.1%3Bfill%3A%23000000%3Bfill-opacity%3A1%3Bstroke%3A%23000000%3Bstroke-width%3A10%3Bstroke-opacity%3A1%3Bfilter%3Aurl(%23filter)%22%20d%3D%22M%20868.91078%2C141.10492%20C%20806.53392%2C79.855774%20695.84806%2C89.539532%20621.70905%2C162.73227%20547.57005%2C235.92501%20492.08486%2C476.05139%20510.9101%2C494.53629%20529.73535%2C513.02119%20773.473%2C457.74384%20847.612%2C384.5511%20921.751%2C311.35836%20931.28764%2C202.35407%20868.91078%2C141.10492%20Z%20M%20645.16036%2C361.99953%20c%20-41.52967%2C-40.77885%20-35.13918%2C-113.58881%2014.19918%2C-162.29746%2049.33837%2C-48.70864%20123.27149%2C-55.19708%20164.80115%2C-14.41823%2041.52967%2C40.77885%2035.13918%2C113.58881%20-14.19918%2C162.29745%20-49.33837%2C48.70864%20-123.27149%2C55.19709%20-164.80115%2C14.41824%20z%22%2F%3E%3Cpath%20style%3D%22fill%3A%23000%3Bstroke%3A%23fff%3Bstroke-width%3A20%22%20d%3D%22m%20512%2C25.6%20c%20-95.4279%2C0%20-172.8%2C77.3721%20-172.8%2C172.8%200%2C95.4279%20144%2C288%20172.8%2C288%2028.8%2C0%20172.8%2C-192.5721%20172.8%2C-288%20C%20684.8%2C102.9721%20607.4279%2C25.6%20512%2C25.6%20Z%20m%200%2C288%20c%20-63.5346%2C0%20-115.2%2C-51.6942%20-115.2%2C-115.2%200%2C-63.5058%2051.6654%2C-115.2%20115.2%2C-115.2%2063.5346%2C0%20115.2%2C51.6942%20115.2%2C115.2%200%2C63.5058%20-51.6654%2C115.2%20-115.2%2C115.2%20z%22%2F%3E%3C%2Fsvg%3E"})});var m=_;e.default=m},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(15)),c=l(n(160));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this,(0,u.default)(t.getTargetElement()).find(".ol-overlaycontainer-stopevent")))).map=t,n.view=t.getView(),n.getContainer().on("click dblclick mouseover mousemove",function(){(0,u.default)(".f-tip").hide()}),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"zoom",value:function(t){this.view.animate({zoom:this.view.getZoom()+1*(0,u.default)(t.currentTarget).data("zoom-incr")})}}])&&r(n.prototype,i),e}();e.default=h},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(15)),c=l(n(42));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,(0,u.default)(e.HTML))),(0,u.default)(t).append(n.getContainer()),n.find(".btn-z-in, .btn-z-out").click(u.default.proxy(n.zoom,a(n))),n}var n,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(l=[{key:"zoom",value:function(t){throw"Not implemented"}}])&&r(n.prototype,l),e}();h.HTML='<div class="zoom"><button class="btn-z-in btn-sq rad-all" data-zoom-incr="1" title="Zoom in"><span class="screen-reader-only">Zoom in</span><span class="fas fa-plus" role="img"></span></button><button class="btn-z-out btn-sq rad-all" data-zoom-incr="-1" title="Zoom out"><span class="screen-reader-only">Zoom out</span><span class="fas fa-minus" role="img"></span></button></div>';var f=h;e.default=f},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=u(n(15)),s=u(n(162));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,r(e).call(this,(0,a.default)(t.getTargetElement()).find(".ol-overlaycontainer-stopevent")))).getContainer().on("click dblclick mouseover mousemove",function(){(0,a.default)(".f-tip").hide()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,s.default),e}();e.default=c},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(15)),c=l(n(42));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,(0,u.default)(e.HTML))),(0,u.default)(t).append(n.getContainer()),n.find(".btn-geo").click(u.default.proxy(n.geolocate,a(n))),n}var n,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(l=[{key:"geolocate",value:function(){this.trigger("geolocate")}}])&&r(n.prototype,l),e}();h.HTML='<div class="geoloc"><button class="btn-geo btn-sq rad-all" title="Current location"><span class="screen-reader-only">Current location</span><span class="fas fa-crosshairs" role="img"></span></button></div>';var f=h;e.default=f},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=p(n(15)),c=p(n(109)),l=n(0),h=p(n(164)),f=p(n(108));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this,t))).geoJson=new c.default,n.getContainer().on("click dblclick mouseover mousemove",function(){(0,u.default)(".f-tip").hide()}),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,h.default),n=e,(i=[{key:"featureAsLocation",value:function(t,e){var n=t.getGeometry(),i={name:e.nameField?t.get(e.nameField):t.getName(),data:t.getProperties(),type:"geocoded",accuracy:f.default.Accuracy.HIGH};return n&&(i.coordinate=(0,l.getCenter)(n.getExtent()),i.geometry=JSON.parse(this.geoJson.writeGeometry(n))),i}}])&&r(n.prototype,i),e}();e.default=d},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=f(n(15)),c=f(n(42)),l=f(n(165)),h=f(n(85));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){var n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=o(this,a(e).call(this,(0,u.default)(e.HTML))),"INPUT"===(t=(0,u.default)(t).get(0)).tagName&&(i=t,(t=(0,u.default)('<div class="map-srch"></div>')).insertAfter(i),n.find(".srch").addClass("input-group")),(0,u.default)(t).append(n.getContainer()),n.input=n.find("input"),n.clear=n.find(".btn-x"),i&&(n.input.attr("id",(0,u.default)(i).attr("id")).attr("placeholder",(0,u.default)(i).attr("placeholder")).addClass((0,u.default)(i).attr("class")),(0,u.default)(i).remove(),n.clear.remove()),n.isAddrSrch=!0,n.list=n.find("ul.rad-all"),n.retention=n.find("ul.retention"),n.autoComplete=null,n.hookupEvents(n.input),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"featureAsLocation",value:function(t,e){throw"Not implemented"}},{key:"val",value:function(t){return"string"==typeof t&&(this.input.val(t),this.clearBtn()),this.input.val()}},{key:"disambiguate",value:function(t){var e=this,n=t.possible;if(n.length){var i=this.list;this.emptyList(),n.forEach(function(t){i.append(e.listItem({layerName:"addr"},t))}),this.showList(!0)}}},{key:"setFeatures",value:function(t){var e=this;this.autoComplete=this.autoComplete||new l.default,t.nameField=t.nameField||"name",t.displayField=t.displayField||t.nameField,t.placeholder&&this.input.attr("placeholder",t.placeholder),this.sortAlphapetically(t).forEach(function(n){var i=e.featureAsLocation(n,t),r=e.listItem(t,i);e.retention.append(r)}),this.emptyList()}},{key:"removeFeatures",value:function(t){this.find("li."+t).remove()}},{key:"sortAlphapetically",value:function(t){var e=[];return t.features.forEach(function(t){t.get?e.push(u.default.extend({},t)):e.push(u.default.extend({get:function(t){return this.properties[t]}},t))}),e.sort(function(e,n){var i=t.nameField;return e.get(i)<n.get(i)?-1:e.get(i)>n.get(i)?1:0}),e}},{key:"listItem",value:function(t,e){var n=(0,u.default)("<li></li>"),i=t.displayField,r="".concat(e.data[i]||e.name);return n.addClass(t.layerName),"addr"!==t.layerName&&n.addClass("feature"),n.addClass("notranslate").attr({translate:"no","data-id":encodeURIComponent(r)}).html('<a href="#">'.concat(r,"</a>")).data("nameField",t.nameField).data("displayField",i).data("location",e).click(u.default.proxy(this.disambiguated,this)).keyup(u.default.proxy(this.disambiguated,this))}},{key:"emptyList",value:function(){var t=this.retention;this.find("li").each(function(e,n){0===t.find('li[data-id="'.concat((0,u.default)(n).attr("data-id"),'"]')).length&&t.append(n)}),this.list.empty()}},{key:"disambiguated",value:function(t){var e=(0,u.default)(t.currentTarget),n=e.data("location");n&&(this.val(n.name),n.isFeature=e.hasClass("feature"),this.trigger("disambiguated",n),e.parent().slideUp(),this.emptyList())}},{key:"listClick",value:function(t){if(t=t.originalEvent||t,"block"===this.list.css("display")){var e=(0,u.default)(t.target);u.default.contains(this.list.get(0),e.get(0))?this.autoComplete&&e.trigger("click"):"block"===this.getContainer().css("display")&&this.list.slideUp()}}},{key:"hookupEvents",value:function(t){t.on("keyup change",u.default.proxy(this.key,this)),t.focus(function(){return t.select()}),this.clear.click(u.default.proxy(this.clearTxt,this)),(0,u.default)(document).mouseup(u.default.proxy(this.listClick,this)),this.find(".btn-srch").click(u.default.proxy(this.triggerSearch,this))}},{key:"key",value:function(t){13===t.keyCode&&this.isAddrSrch?(this.triggerSearch(),this.list.slideUp()):this.filterList(),this.clearBtn()}},{key:"clearTxt",value:function(){this.val(""),this.clearBtn(),this.input.focus()}},{key:"clearBtn",value:function(){this.clear[this.val()?"show":"hide"]()}},{key:"filterList",value:function(){var t=this.val().trim();this.autoComplete&&t?this.autoComplete.filter(this.retention,this.list,t):this.emptyList(),this.showList(!1)}},{key:"showList",value:function(t){var e=this;if("block"===this.getContainer().css("display"))this.list.slideDown(function(){t&&e.list.children().first().find("a").attr("tabindex",0).focus()});else{var n=(0,u.default)("<div><strong>Possible matches:</strong></div>");n.append(this.list),this.dialog=this.dialog||new h.default({target:(0,u.default)(".nyc-map"),css:"posbl"}),this.list.one("click",u.default.proxy(this.dialog.hide,this.dialog)),this.dialog.ok({buttonText:["Cancel"],message:n})}}},{key:"triggerSearch",value:function(){var t=this.val().trim();t.length&&(this.input.blur(),this.trigger("search",t))}}])&&r(n.prototype,i),e}();p.FeatureSearchOptions,p.HTML='<div class="srch-ctl"><div class="srch" role="search"><input class="rad-all" type="text" placeholder="Search for an address..."><button class="btn btn-rnd btn-x"><span class="screen-reader-only">Clear</span><span class="fas fa-times" role="img"></span></button><button class="btn btn-srch btn-primary btn-lg">Search</button></div><ul class="rad-all" role="region" label="Possible matches for your search"></ul><ul class="retention"></ul></div>';var d=p;e.default=d},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(15))&&r.__esModule?r:{default:r},a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"filter",value:function(t,e,n){var i=this,r=n.length>3,a=n.length>6,s={exact:[],possible:[]},u=this.regexp(n),c=[],l=this.test;o.default.merge((0,o.default)(e).find("li"),(0,o.default)(t).find("li")).each(function(t,e){c.push((0,o.default)(e)),l(u,(0,o.default)(e),s,r,i.log)}),(0,o.default)(t).append(c),s.exact.length?(0,o.default)(e).prepend(s.exact):a||(0,o.default)(e).prepend(s.possible)}},{key:"test",value:function(t,e,n,i){var r=e.html();i&&t.exact.test(r)&&n.exact.push(e),t.possible.test(r)&&n.possible.push(e)}},{key:"regexp",value:function(t){for(var e=new String(t.replace(/[^a-zA-Z0-9]/g,"")),n=new String(t.replace(/[^a-zA-Z0-9 ]/g,"")),i="^",r=0;r<e.length;r++)i+="(?=.*".concat(e.charAt(r),")|");return i=i.substr(0,i.length-1),i+=".*$",{exact:new RegExp("(".concat(n,")"),"i"),possible:new RegExp(i,"i")}}}])&&i(e.prototype,n),t}();e.default=a},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=f(n(15)),c=f(n(23)),l=f(n(42)),h=f(n(113));function f(t){return t&&t.__esModule?t:{default:t}}n(114);var p=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=a(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,t.target)));return fetch(t.url||"./manifest.webmanifest").then(function(t){return t.json()}).then(function(t){t.url=document.location.href,r.append((new h.default).replace(e.HTML,t));var n=c.default.nextId("share");r.btn=r.find(".btn-shr").attr("aria-controls",n).one("click",u.default.proxy(r.show,r)),r.btns=r.btn.next().attr("id",n)}),n}var n,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(f=[{key:"show",value:function(t){var e=this;t.stopImmediatePropagation(),this.btn.attr("aria-pressed",!0),this.btns.attr({"aria-collapsed":!1,"aria-expanded":!0}).fadeIn(function(){(0,u.default)("*").one("click",u.default.proxy(e.hide,e))})}},{key:"hide",value:function(t){var e=this;this.btn.attr("aria-pressed",!1),this.btns.attr("aria-collapsed",!0).attr("aria-expanded",!1).fadeOut(function(){e.btn.one("click",u.default.proxy(e.show,e))})}}])&&r(n.prototype,f),e}();p.Options,p.HTML='<div class="shr" role="region" title="Share this page via social media or email"><a class="btn-shr btn-sq rad-all" role="button" href="#" title="Share..." aria-pressed="false"><span class="screen-reader-only">Share...</span></a><div class="btns" aria-expanded="false" aria-collapsed="true"><a class="btn-sq rad-all facebook" role="button" href="https://www.facebook.com/sharer/sharer.php?u=${url}" target="_blank" rel="noopener noreferrer" title="Facebook"><span class="screen-reader-only">Facebook</span></a><a class="btn-sq rad-all twitter" role="button" href="https://twitter.com/intent/tweet?text=${url} @nycgov&source=webclient" target="_blank" rel="noopener noreferrer" title="Twitter"><span class="screen-reader-only">Twitter</span></a><a class="btn-sq rad-all linkedin" role="button" href="http://www.linkedin.com/shareArticle?mini=true&url=${url}" target="_blank" rel="noopener noreferrer" title="LinkedIn"><span class="screen-reader-only">LinkedIn</span></a><a class="btn-sq rad-all tumblr" role="button" href="http://www.tumblr.com/share/link?url=${url}&name=${name}&description=via%20NYC.gov" target="_blank" rel="noopener noreferrer" title="Tumblr"><span class="screen-reader-only">Tumblr</span></a><a class="btn-sq rad-all email" role="button" href="mailto:?subject=${name}&body=${description}%0A%0A${url}" title="email"><span class="screen-reader-only">Email</span></a></div></div>';var d=p;e.default=d},function(t,e,n){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=p(n(15)),c=p(n(42)),l=p(n(85)),h=p(n(120)),f=p(n(168));function p(t){return t&&t.__esModule?t:{default:t}}var d=p(n(23)).default.proj4,y=function(e){function n(e){var r;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),r=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(n).call(this,"body")),e=e||{},t.directions=a(r),r.append(n.HTML),r.tabs=new h.default({target:"#dir-tabs",tabs:[{tab:"#map-tab",title:"Route Map"},{tab:"#route-tab",title:"Directions"}]}),r.tabs.find(".btn-0").parent().attr("aria-hidden",!0),r.tabs.on("change",r.tabChange,a(r)),r.map=null,r.service=null,r.renderer=null,r.marker=null,r.infoWin=null,r.args=null,r.modeBtn=(0,u.default)("#transit").get(0),r.url="".concat(e.url||n.GOOGLE_URL,"&callback=directions.init"),r.routeTarget=r.find("#route-tab div.route"),r.lastDir="",r.toggle=(0,u.default)(e.toggle),r.styles=e.styles||n.DEFAULT_STYLES,r.monitoring=!1,r.defaultMode=e.mode||"TRANSIT",(0,u.default)("#mta").click(u.default.proxy(r.tripPlanHack,a(r))),(0,u.default)("#mode button").not("#mta").click(u.default.proxy(r.mode,a(r)));var s=(0,u.default)("#fld-from input");s.keypress(u.default.proxy(r.key,a(r))).focus(function(){return s.select()});var c=r.toggle;return(0,u.default)("#back-to-map").click(function(){(0,u.default)("#directions").slideUp(),c.show().attr("aria-hidden",!1)}),r}var p,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,c.default),p=n,(y=[{key:"directions",value:function(t){var e=t.mode||this.defaultMode,n=this.url,i=this.toggle;if(this.modeBtn=(0,u.default)('[data-mode="'.concat(e,'"]')),this.modeAria(),this.args=t,this.monitor(),this.tabs.open("#route-tab"),!this.map)return u.default.getScript(n);t.from=t.from||(0,u.default)("#fld-from input").val(),(0,u.default)("#fld-from input").val(t.from),(0,u.default)("#fld-to").html(t.to),(0,u.default)("#fld-facility").html(t.facility),(0,u.default)("#directions").slideDown(function(){i.hide()}),i.attr("aria-hidden",!0),this.createMarker(this.getLatLng()),t.from&&this.lastDir!=="".concat(t.from,"|").concat(t.to,"|").concat(e)&&(this.lastDir="".concat(t.from,"|").concat(t.to,"|").concat(e),this.service.route({origin:t.from,destination:t.to,travelMode:google.maps.TravelMode[e]},u.default.proxy(this.handleResp,this))),(0,u.default)("#back-to-map").one("click",function(){(0,u.default)(t.returnFocus).focus()})}},{key:"monitor",value:function(){if(!this.monitoring){var t=u.default.proxy(this.routeAlt,this);this.monitoring=!0,"MutationObserver"in window?new MutationObserver(t).observe(this.getContainer().get(0),{childList:!0}):setInterval(t,500)}}},{key:"handleResp",value:function(t,e){var n=(0,u.default)(this.routeTarget);if(e===google.maps.DirectionsStatus.OK){this.marker.setMap(null);var i=t.routes[0].legs[0],r=i.start_address.replace(/\, USA/,""),o=i.end_address.replace(/\, USA/,"");if(!this.args.origin.coordinate){var a=i.start_location;this.args.origin={name:r,coordinate:[a.lng(),a.lat()],projection:"EPSG:4326"}}this.renderer.setOptions({map:this.map,panel:n.get(0),directions:t}),(0,u.default)("#fld-from input").val(r),(0,u.default)("#fld-to").html(o)}else n.empty(),(new l.default).ok({message:"Could not determine directions from '".concat(this.args.from,"' to '").concat(this.args.to,"'")});setTimeout(function(){n.prepend('<h2 class="screen-reader-only">Directions</h2>').children().first().focus()},200),this.trigger("change",{response:t,status:e})}},{key:"routeAlt",value:function(){var e=!0,n=!1;(0,u.default)("#map-tab, #directions div.map *").attr({"aria-hidden":!0,tabindex:-1}),t.directions.find(".route img").each(function(t,i){var r=i.src,o=r.match(/([^\/]+)(?=\.\w+$)/);o=(o=o?o[0]:"").replace(/X/," Express"),r.indexOf("us-ny-mta")>-1?(n=!0,i.alt="Take the ".concat(o," train ")):o.indexOf("rail")>-1?(n=!0,i.alt="Take the train "):o.indexOf("bus")>-1?(n=!0,i.alt="Take the bus "):"walk"===o?i.alt="Walk ":(0,u.default)(i).hasClass("adp-marker2")&&(i.alt=e?"Start location ":"End location ",e=!1)}),this.find(".no-trans")[n||"transit"!==(0,u.default)(this.modeBtn).attr("id")?"hide":"show"]()}},{key:"tabChange",value:function(){this.renderer&&this.renderer.setOptions({map:this.map})}},{key:"init",value:function(){var t=this.getLatLng();this.map=new google.maps.Map((0,u.default)("#map-tab div.map").get(0),{mapTypeId:google.maps.MapTypeId.ROADMAP,backgroundColor:"#D3D3D3",panControl:!1,streetViewControl:!1,mapTypeControl:!1,zoomControl:!1,maxZoom:18,zoom:17,center:t,styles:this.styles}),this.service=new google.maps.DirectionsService,this.renderer=new google.maps.DirectionsRenderer,this.find(".btn-z-in, .btn-z-out").click(u.default.proxy(this.zoom,this)),this.directions(this.args)}},{key:"createMarker",value:function(t){var e=this.args.to.replace(/\n/g," ");this.marker&&this.marker.setMap(null),this.infoWin=this.infoWin||new google.maps.InfoWindow,this.infoWin.setContent('<div class="gm-iw">'.concat(e,"</div>")),this.marker=new google.maps.Marker({position:t,map:this.map,label:{text:"B",color:"white",fontSize:"16px"},title:e}),this.marker.addListener("click",u.default.proxy(this.openInfoWin,this)),this.map.setCenter(t)}},{key:"openInfoWin",value:function(){this.infoWin.open(this.map,this.marker)}},{key:"getLatLng",value:function(){try{var t=d("EPSG:3857","EPSG:4326",this.args.destination.coordinate);return{lat:t[1],lng:t[0]}}catch(t){}}},{key:"zoom",value:function(t){var e=this.map.getZoom();this.map.setZoom(e+1*(0,u.default)(t.target).data("zoom-incr"))}},{key:"mode",value:function(t){this.args=this.args||{},this.modeBtn=t.target,this.args.mode=(0,u.default)(this.modeBtn).data("mode"),this.modeAria(),this.directions(this.args)}},{key:"modeAria",value:function(){(0,u.default)("#mode button").removeClass("active").attr({"aria-selected":!1,"aria-pressed":!1}),(0,u.default)(this.modeBtn).addClass("active").attr({"aria-selected":!0,"aria-pressed":!0})}},{key:"key",value:function(t){13===t.keyCode&&(this.args.from=(0,u.default)("#fld-from input").val(),this.directions(this.args))}},{key:"tripPlanHack",value:function(){this.args.accessible=!0,(new f.default).directions(this.args)}}])&&r(p.prototype,y),n}();y.DEFAULT_GOOGLE_URL="https://maps.googleapis.com/maps/api/js?&sensor=false&libraries=visualization",y.Request,y.Response,y.Options,y.HTML='<div id="directions">\n  <button id="back-to-map" class="btn rad-all">Back to finder</button>\n  <div id="dir-tabs">\n    <div id="route-tab">\n      <div class="fld-lbl">From my location:</div>\n      <div id="fld-from"><input class="rad-all" placeholder="Enter an address..."></div>\n      <div class="fld-lbl">\n        To <span id="fld-facility" class="notranslate" translate="no"></span>:\n      </div>\n      <div id="fld-to" class="notranslate" translate="no"></div>\n      <table id="mode">\n        <tbody><tr>\n          <td>\n            <button id="transit" class="btn-sq rad-all active" data-mode="TRANSIT" aria-pressed="true" aria-selected="true" title="Get transit directions">\n              <span class="screen-reader-only">get transit directions</span>\n            </button>\n          </td>\n          <td>\n            <button id="bike" class="btn-sq rad-all" data-mode="BICYCLING" aria-pressed="false" aria-selected="false" title="Get bicycling directions">\n              <span class="screen-reader-only">get bicycling directions</span>\n            </button>\n          </td>\n          <td>\n            <button id="walk" class="btn-sq rad-all" data-mode="WALKING" aria-pressed="false" aria-selected="false" title="Get walking directions">\n              <span class="screen-reader-only">get walking directions</span>\n            </button>\n          </td>\n          <td>\n            <button id="car" class="btn-sq rad-all" data-mode="DRIVING" aria-pressed="false" aria-selected="false" title="Get driving directions">\n              <span class="screen-reader-only">get driving directions</span>\n            </button>\n          </td>\n          <td>\n            <span class="screen-reader-only">Get accessible transit directions from the MTA </span>\n            <button id="mta" class="btn-sq rad-all notranslate">\n              TripPlanner<svg xmlns="http://www.w3.org/2000/svg" width="656" height="656" viewBox="0 0 656 656"><g transform="translate(-263.86732,-69.7075)"><path d="M 833.556,367.574 C 825.803,359.619 814.97,355.419 803.9,356.025 l -133.981,7.458 73.733,-83.975 c 10.504,-11.962 13.505,-27.908 9.444,-42.157 -2.143,-9.764 -8.056,-18.648 -17.14,-24.324 -0.279,-0.199 -176.247,-102.423 -176.247,-102.423 -14.369,-8.347 -32.475,-6.508 -44.875,4.552 l -85.958,76.676 c -15.837,14.126 -17.224,38.416 -3.097,54.254 14.128,15.836 38.419,17.227 54.255,3.096 l 65.168,-58.131 53.874,31.285 -95.096,108.305 c -39.433,6.431 -74.913,24.602 -102.765,50.801 l 49.66,49.66 c 22.449,-20.412 52.256,-32.871 84.918,-32.871 69.667,0 126.346,56.68 126.346,126.348 0,32.662 -12.459,62.467 -32.869,84.916 l 49.657,49.66 c 33.08,-35.166 53.382,-82.484 53.382,-134.576 0,-31.035 -7.205,-60.384 -20.016,-86.482 l 51.861,-2.889 -12.616,154.75 c -1.725,21.152 14.027,39.695 35.18,41.422 1.059,0.086 2.116,0.127 3.163,0.127 19.806,0 36.621,-15.219 38.257,-35.306 l 16.193,-198.685 c 0.904,-11.071 -3.026,-21.989 -10.775,-29.942 z"/><path  d="m 762.384,202.965 c 35.523,0 64.317,-28.797 64.317,-64.322 0,-35.523 -28.794,-64.323 -64.317,-64.323 -35.527,0 -64.323,28.8 -64.323,64.323 0,35.525 28.795,64.322 64.323,64.322 z"/><path d="m 535.794,650.926 c -69.668,0 -126.348,-56.68 -126.348,-126.348 0,-26.256 8.056,-50.66 21.817,-70.887 l -50.196,-50.195 c -26.155,33.377 -41.791,75.393 -41.791,121.082 0,108.535 87.983,196.517 196.518,196.517 45.691,0 87.703,-15.636 121.079,-41.792 L 606.678,629.11 c -20.226,13.757 -44.63,21.816 -70.884,21.816 z"/></g></svg>\n            </button>\n          </td>\n          </tr></tbody>\n        </table>\n        <div class="no-trans" aria-live="polite">Only walking directions are available.</div>\n      <div class="route"></div>\n    </div>\n    <div id="map-tab" aria-hidden="true" tabindex="-1">\n      <div class="map"></div>\n      <button class="btn-z-in btn-sq rad-all" tabindex="-1" data-zoom-incr="1" title="Zoom in"></button>\n      <button class="btn-z-out btn-sq rad-all" tabindex="-1" data-zoom-incr="-1" title="Zoom out"></button>\n    </div>\n  </div>\n</div>',y.DEFAULT_STYLES=[{elementType:"geometry.fill",stylers:[{color:"#ececec"}]},{elementType:"geometry.stroke",stylers:[{color:"#dcdcdc"}]},{elementType:"labels.text.fill",stylers:[{color:"#585858"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#e8e8e8"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#d8d8d8"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{featureType:"transit.line",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.government",stylers:[{visibility:"on"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]}];var g=y;e.default=g}).call(this,n(107))},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(23)),o=a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}var s=r.default.proj4,u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e}var e,n;return e=t,(n=[{key:"directions",value:function(t){var e={jsonpacket:this.jsonpacket(t),rand:this.randomParamCopiedFromMtaCode()};this.window=window.open("".concat(this.getUrl(),"?").concat(o.default.param(e)))}},{key:"getUrl",value:function(){if(this.url)return this.url;var t=document.location.hostname,e=document.location.pathname,n=document.location.port;return n=n?":".concat(n):"","http://".concat(t).concat(n).concat(e,"/mta.html")}},{key:"jsonpacket",value:function(t){return JSON.stringify(this.insanifyRequest(t))}},{key:"randomParamCopiedFromMtaCode",value:function(){return Math.floor(11*Math.random())}},{key:"now",value:function(){var t=new Date,e=t.getHours();return{date:"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()),hour:e<13?e:e-12,minute:t.getMinutes(),ampm:e<12?"am":"pm"}}},{key:"insanifyLocation",value:function(t){var e=s(t.projection||"EPSG:3857","EPSG:4326",t.coordinate);return"".concat(e[1],"$").concat(e[0],"$").concat(t.name,"$0")}},{key:"insanifyRequest",value:function(t){var e=t.origin,n=t.destination,i=this.now();return{RequestDevicename:"DESKTOP",OriginInput:e.name,DestinationInput:n.name,Arrdep:"D",Hour:i.hour,Minute:i.minute,Ampm:i.ampm,InputDate:i.date,Minimize:"X",Walkdist:"0.50",Mode:"FRBC12",LineStart:"",LineEnd:"",Accessible:t.accessible?"Y":"N",OriginCoordinates:this.insanifyLocation(e),DestinationCoordinates:this.insanifyLocation(n),LocationType:"",StartServiceType:"train",StartTrainType:"subway",StartBorough:"",EndBorough:"",Walkincrease:"",Maxinitialwait:"",Maxtriptime:"",Maxtransfers:""}}}])&&i(e.prototype,n),t}();u.Location,u.SaneRequest,u.InsaneRequest;var c=u;e.default=c},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=l(n(15)),c=l(n(121));function l(t){return t&&t.__esModule?t:{default:t}}var h=["alt","placeholder"],f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this,t))).hack(),setInterval(n.hack,500),u.default.getScript("https://translate.google.com/translate_a/element.js?cb=nycTranslateInstance.init"),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,c.default),n=e,(i=[{key:"init",value:function(){nycTranslateInstance.goog=new google.translate.TranslateElement({pageLanguage:"en",includedLanguages:nycTranslateInstance.codes,layout:google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay:!1},"lng-goog"),(0,u.default)("#lng select").val(nycTranslateInstance.defaultLanguage),nycTranslateInstance.selectDefault(),nycTranslateInstance.translate(),nycTranslateInstance.trigger("ready",nycTranslateInstance)}},{key:"translate",value:function(){var t=(0,u.default)("iframe.goog-te-menu-frame:first").contents().find(".goog-te-menu2-item span.text");if(clearTimeout(nycTranslateInstance.timeout),t.length){this.code=(0,u.default)("#lng select").val();var e=this.languages[this.code].name;"English"===e?this.showOriginalText():(0,u.default)(t).each(function(t,n){if((0,u.default)(n).text()===e)return(0,u.default)(n).trigger("click"),!1}),this.css("goog"),this.trigger("change",this)}else nycTranslateInstance.timeout=setTimeout(function(){nycTranslateInstance.translate()},200)}},{key:"getCookieValue",value:function(){var t=this.getCookie();return t?t=(t=t.split("/"))[2]:this.defaultLanguage||"en"}},{key:"getCookie",value:function(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){for(var n=t[e];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf("googtrans="))return n.substring(10,n.length)}}},{key:"hack",value:function(){h.forEach(function(t){(0,u.default)("*[".concat(t,"]")).each(function(e,n){if((0,u.default)(n).data(t)){var i=(0,u.default)(n).data(t);(0,u.default)(n).attr(t,i.text())}else{var r=(0,u.default)('<span class="lng '.concat(t,'" aria-hidden="true">').concat((0,u.default)(n).attr(t),"</span>"));(0,u.default)("body").append(r),(0,u.default)(n).data(t,r)}})}),(0,u.default)("body").css("top","auto"),(0,u.default)("#goog-gt-tt").remove()}},{key:"showOriginalText",value:function(){var t=this,e=(0,u.default)("iframe.goog-te-banner-frame:first");(0,u.default)(e.contents().find(".goog-te-button button")).each(function(e,n){if("Show original"===(0,u.default)(n).text()){var i=t.find("select").val();return(0,u.default)(n).trigger("click"),"English"!==t.languages[i].name&&t.find("select").val(t.defaultLanguage),!1}})}}])&&r(n.prototype,i),e}();e.default=f},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=p(n(15)),c=p(n(23)),l=p(n(42)),h=p(n(115)),f=p(n(171));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,t.target))).choiceControls=[],n.source=t.source,t.choiceOptions.forEach(function(t){var e=(0,u.default)('<div class="'.concat(c.default.nextId("filter"),'"></div>'));t.target=t.target||(0,u.default)('<div class="'.concat(c.default.nextId("filter-chc"),'"></div>')),n.append((0,u.default)(e));var i=new f.default(t);new h.default({target:e,title:t.title,content:i.getContainer()}),i.on("change",u.default.proxy(n.filter,a(n))),n.choiceControls.push(i)}),n}var n,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(p=[{key:"filter",value:function(){var t=[];this.choiceControls.forEach(function(e,n){var i={},r=[];e.val().forEach(function(t){var e=i[t.name]||[];i[t.name]=e.concat(t.values)}),Object.keys(i).forEach(function(t){r.push({property:t,values:c.default.removeDups(i[t])})}),r.length&&t.push(r)}),this.source.filter(t),this.trigger("change",this)}}])&&r(n.prototype,p),e}();d.Options,d.ChoiceOptions;var y=d;e.default=y},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=h(n(15)),c=h(n(23)),l=h(n(42));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=o(this,a(e).call(this,t.target))).getContainer().addClass("chc rad-all"),n.radio=t.radio,n.inputs=null,n.choices=t.choices,n.setChoices(n.choices),n}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,l.default),n=e,(i=[{key:"setChoices",value:function(t){var n=this,i="checkbox";this.radio?(this.getContainer().attr("role","radiogroup"),i="radio"):this.getContainer().attr("role","group"),this.getContainer().empty(),t.forEach(function(t,r){var o=(0,u.default)(e.HTML),a=c.default.nextId("chc-chc"),s=o.find("input");o.addClass(n.radio?"".concat(t.name,"-").concat(r):t.name),s.attr({id:a,name:t.name,type:i,role:i,"aria-checked":!0===t.checked}).prop("checked",!0===t.checked).data("choice",t).change(u.default.proxy(n.change,n)),o.find("label").html(t.label).attr("for",a),n.append(o),n.extend(t)}),this.inputs=this.find("input")}},{key:"val",value:function(t){if(t)return u.default.each(this.inputs,function(e,n){(0,u.default)(n).prop("checked",!1),t.some(function(t){var e=(0,u.default)(n).data("choice");if(t.eq(e))return(0,u.default)(n).prop("checked",!0),!0})}),this.val();var e=[];return u.default.each(this.inputs,function(t,n){(0,u.default)(n).prop("checked")&&e.push((0,u.default)(n).data("choice"))}),e}},{key:"change",value:function(t){u.default.each(this.inputs,function(t,e){(0,u.default)(e).attr("aria-checked",(0,u.default)(e).prop("checked"))}),this.trigger("change",this)}},{key:"extend",value:function(t){u.default.extend(t,{eq:function(t){return this.name===t.name&&this.label===t.label&&JSON.stringify(this.value)===JSON.stringify(t.value)}})}}])&&r(n.prototype,i),e}();f.Choice,f.Options,f.HTML='<div class="chc-chc"><input><label></label></div>';var p=f;e.default=p},function(t,e,n){function i(){if(!(this instanceof i))return new i;this.version=i.versions[i.versions.length-1],this.data={}}i.mimeType="text/vcard",i.extension=".vcf",i.versions=["2.1","3.0","4.0"],i.foldLine=n(173),i.normalize=function(t){return(t+"").replace(/^[\s\r\n]+|[\s\r\n]+$/g,"").replace(/(\r\n)[\x09\x20]?(\r\n)|$/g,"$1").replace(/\r\n[\x20\x09]/g,"")},i.isSupported=function(t){return/^\d\.\d$/.test(t)&&-1!==i.versions.indexOf(t)},i.parse=function(t){for(var e=(t+"").split(/(?=BEGIN\:VCARD)/gi),n=[],r=0;r<e.length;r++)n.push((new i).parse(e[r]));return n},i.parseLines=n(174),i.fromJSON=function(t){if(null==(t="string"==typeof t?JSON.parse(t):t)||!Array.isArray(t))return new i;if(!/vcard/i.test(t[0]))throw new Error("Object not in jCard format");var e=new i;return t[1].forEach(function(t){e.addProperty(i.Property.fromJSON(t))}),e},i.format=function(t,e){if(e=e||t.version||i.versions[i.versions.length-1],!i.isSupported(e))throw new Error('Unsupported vCard version "'+e+'"');var n=[];n.push("BEGIN:VCARD"),n.push("VERSION:"+e);for(var r=Object.keys(t.data),o="",a=0;a<r.length;a++)if("version"!==r[a])if(o=t.data[r[a]],Array.isArray(o))for(var s=0;s<o.length;s++)o[s].isEmpty()||n.push(i.foldLine(o[s].toString(e),75));else o.isEmpty()||n.push(i.foldLine(o.toString(e),75));return n.push("END:VCARD"),n.join("\n")},i.Property=n(122),i.prototype={constructor:i,get:function(t){return null==this.data[t]?this.data[t]:Array.isArray(this.data[t])?this.data[t].map(function(t){return t.clone()}):this.data[t].clone()},set:function(t,e,n){return this.setProperty(new i.Property(t,e,n))},add:function(t,e,n){var r=new i.Property(t,e,n);return this.addProperty(r),this},setProperty:function(t){return this.data[t._field]=t,this},addProperty:function(t){var e=t._field;return Array.isArray(this.data[e])?this.data[e].push(t):null!=this.data[e]?this.data[e]=[this.data[e],t]:this.data[e]=t,this},parse:function(t){var e=i.normalize(t).split(/\r?\n/g),n=e[0],r=e[1],o=e[e.length-1];if(!/BEGIN:VCARD/i.test(n))throw new SyntaxError('Invalid vCard: Expected "BEGIN:VCARD" but found "'+n+'"');if(!/END:VCARD/i.test(o))throw new SyntaxError('Invalid vCard: Expected "END:VCARD" but found "'+o+'"');if(!/VERSION:\d\.\d/i.test(r))throw new SyntaxError('Invalid vCard: Expected "VERSION:\\d.\\d" but found "'+r+'"');if(this.version=r.substring(8,11),!i.isSupported(this.version))throw new Error('Unsupported version "'+this.version+'"');return this.data=i.parseLines(e),this},toString:function(t,e){return t=t||this.version,i.format(this,t)},toJCard:function(t){t=t||"4.0";for(var e=Object.keys(this.data),n=[["version",{},"text",t]],i=null,r=0;r<e.length;r++)if("version"!==e[r])if(i=this.data[e[r]],Array.isArray(i))for(var o=0;o<i.length;o++)n.push(i[o].toJSON());else n.push(i.toJSON());return["vcard",n]},toJSON:function(){return this.toJCard(this.version)}},t.exports=i},function(t,e){var n="\r\n",i=" ",r=998,o=78,a=2;function s(t,e,s){if(null!=e&&e<a)throw new Error("Maximum length must not be less than "+a);if(null!=e&&e>r)throw new Error("Maximum length must not exceed "+r);if(e=e||o,(t=t.replace(/[\r\n]+/g,"")).length<=e)return t;for(var u="",c=0,l=0,h=t.length,f=0,p=0;c<h;){if(!s&&~(l=t.lastIndexOf(i,c+e))?l>c?(u+=t.slice(c,l)+n+i,c=l):(u+=t.slice(c,c+e-p)+n+i,c=c+e-p,s=!0):(u+=t.slice(c,c+e-p)+n+i,c=c+e-p),h-c<e){u+=t.slice(c);break}0===f&&(p=1),f++}return u}s.unfold=function(t){return t.replace(/\r\n\s/gm,"")},t.exports=s},function(t,e,n){var i=n(175),r=n(122);function o(t,e,n){Array.isArray(t[e])?t[e].push(n):null!=t[e]?t[e]=[t[e],n]:t[e]=n}function a(t,e){var n=e.split("="),r=i(n[0]),a=n[1];return null!=a&&""!==a||(a=n[0],r="type"),"type"===r?('"'===a[0]&&'"'===a[a.length-1]&&-1!==a.indexOf(",")&&(a=a.slice(1,-1)),a.toLowerCase().split(",").forEach(function(e){o(t,r,e)}),t):(o(t,r,a),t)}t.exports=function(t){for(var e={},n=null,s=/^([^;:]+)((?:;(?:[^;:]+))*)(?:\:(.+))?$/i,u=t.length-1,c=1;c<u;c++){n=t[c];var l=s.exec(n);if(l){var h=l[1].split("."),f=h.pop(),p=h.pop(),d=l[3],y=(l[2]?l[2].replace(/^;|;$/g,"").split(";"):[]).reduce(a,p?{group:p}:{}),g=i(f);o(e,g,new r(g,d,y))}}return e}},function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");var n;return e=Object.assign({pascalCase:!1},e),0===(t=Array.isArray(t)?t.map(function(t){return t.trim()}).filter(function(t){return t.length}).join("-"):t.trim()).length?"":1===t.length?e.pascalCase?t.toUpperCase():t.toLowerCase():(t!==t.toLowerCase()&&(t=function(t){for(var e=!1,n=!1,i=!1,r=0;r<t.length;r++){var o=t[r];e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(t=t.slice(0,r)+"-"+t.slice(r),e=!1,i=n,n=!0,r++):n&&i&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(t=t.slice(0,r-1)+"-"+t.slice(r-1),i=n,n=!1,e=!0):(e=o.toLowerCase()===o&&o.toUpperCase()!==o,i=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return t}(t)),n=t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()}).replace(/\d+(\w|$)/g,function(t){return t.toUpperCase()}),e.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)};t.exports=i,t.exports.default=i},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n(51),o=n(28),a=n(24),s=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.a),u=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(s),c=n(19),l=n(17),h=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u),f=n(1),p=n(48),d={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},y=function(t,e){this.dispatcher=t,this.mapping_=e};y.prototype.getEvents=function(){return Object.keys(this.mapping_)},y.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var g=y,v=1,_="mouse";function m(t){if(!this.isEventSimulatedFromTouch_(t)){v.toString()in this.pointerMap&&this.cancel(t);var e=S(t,this.dispatcher);this.pointerMap[v.toString()]=t,this.dispatcher.down(e,t)}}function b(t){if(!this.isEventSimulatedFromTouch_(t)){var e=S(t,this.dispatcher);this.dispatcher.move(e,t)}}function O(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[v.toString()];if(e&&e.button===t.button){var n=S(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function E(t){if(!this.isEventSimulatedFromTouch_(t)){var e=S(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function T(t){if(!this.isEventSimulatedFromTouch_(t)){var e=S(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function S(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=v,n.isPrimary=!0,n.pointerType=_,n}var x=function(t){function e(e){var n={mousedown:m,mousemove:b,mouseup:O,mouseover:E,mouseout:T};t.call(this,e,n),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,a=void 0;r<o&&(a=e[r]);r++){var s=Math.abs(n-a[0]),u=Math.abs(i-a[1]);if(s<=25&&u<=25)return!0}return!1},e.prototype.cancel=function(t){var e=S(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[v.toString()]},e}(g),C=["","unavailable","touch","pen","mouse"];function w(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function j(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function R(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function P(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function I(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function k(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function L(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function M(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var A=function(t){function e(e){var n={MSPointerDown:w,MSPointerMove:j,MSPointerUp:R,MSPointerOut:P,MSPointerOver:I,MSPointerCancel:k,MSGotPointerCapture:M,MSLostPointerCapture:L};t.call(this,e,n),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=C[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(g);function F(t){this.dispatcher.fireNativeEvent(t)}function D(t){this.dispatcher.fireNativeEvent(t)}function N(t){this.dispatcher.fireNativeEvent(t)}function G(t){this.dispatcher.fireNativeEvent(t)}function Y(t){this.dispatcher.fireNativeEvent(t)}function B(t){this.dispatcher.fireNativeEvent(t)}function U(t){this.dispatcher.fireNativeEvent(t)}function X(t){this.dispatcher.fireNativeEvent(t)}var z=function(t){function e(e){var n={pointerdown:F,pointermove:D,pointerup:N,pointerout:G,pointerover:Y,pointercancel:B,gotpointercapture:X,lostpointercapture:U};t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g),H=!1,W=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var r=i||{};this.buttons=function(t){var e;if(t.buttons||H)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.a);!function(){try{var t=new MouseEvent("click",{buttons:1});H=1===t.buttons}catch(t){}}();var K=W,V=n(12);function Z(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function q(t){this.processTouches_(t,this.moveOverOut_)}function J(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function $(t){this.processTouches_(t,this.cancelOut_)}var Q=function(t){function e(e,n){var i={touchstart:Z,touchmove:q,touchend:J,touchcancel:$};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&v.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),i=n.length;function r(){t.preventDefault()}for(var o=0;o<i;++o){var a=this.touchToPointer_(t,n[o]);a.preventDefault=r,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].identifier===e)return!0;return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var a=Number(n[o]),s=this.pointerMap[a];a==v||this.findTouch_(e,a-2)||r.push(s.out)}for(var u=0;u<r.length;++u)this.cancelOut_(t,r[u])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){Object(V.h)(e,i)},this.dedupTimeout_)}},e}(g),tt=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],et=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(c.g)this.registerSource("native",new z(this));else if(c.f)this.registerSource("ms",new A(this));else{var t=new x(this);this.registerSource("mouse",t),c.i&&this.registerSource("touch",new Q(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(f.a)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(f.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=tt.length;i<r;i++){var o=tt[i][0];n[o]=t[o]||e[o]||tt[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(d.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(d.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(d.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(d.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(d.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(d.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(d.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(d.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new K(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,S(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(p.a),nt=function(t){function e(e,n){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*c.b:c.b,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new et(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(f.a)(this.pointerEventHandler_,d.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(f.a)(this.pointerEventHandler_,d.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new h(l.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new h(l.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new h(l.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==l.a.POINTERUP||e.type==l.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==l.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new h(l.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(f.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new h(l.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new et(document),this.dragListenerKeys_.push(Object(f.a)(this.documentPointerEventHandler_,l.a.POINTERMOVE,this.handlePointerMove_,this),Object(f.a)(this.documentPointerEventHandler_,l.a.POINTERUP,this.handlePointerUp_,this),Object(f.a)(this.pointerEventHandler_,l.a.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new h(l.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new h(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(f.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(f.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(f.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(p.a),it=n(79),rt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ot=n(40),at=n(14),st=n(55),ut=n(7),ct=n(5),lt=n(10),ht=n(11),ft=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};ft.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(ht.b)(this.queuedElements_)},ft.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},ft.prototype.enqueue=function(t){Object(lt.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},ft.prototype.getCount=function(){return this.elements_.length},ft.prototype.getLeftChildIndex_=function(t){return 2*t+1},ft.prototype.getRightChildIndex_=function(t){return 2*t+2},ft.prototype.getParentIndex_=function(t){return t-1>>1},ft.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},ft.prototype.isEmpty=function(){return 0===this.elements_.length},ft.prototype.isKeyQueued=function(t){return t in this.queuedElements_},ft.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},ft.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),c=u<i&&n[u]<n[s]?u:s;e[t]=e[c],n[t]=n[c],t=c}e[t]=r,n[t]=o,this.siftDown_(a,t)},ft.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>o))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=r,i[e]=o},ft.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,a=0,s=r.length;for(e=0;e<s;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,r[a++]=t);r.length=a,o.length=a,this.heapify_()};var pt=function(t){function e(e,n){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var i=e[0];Object(f.a)(i,ct.a.CHANGE,this.handleTileChange,this)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===ut.a.LOADED||n===ut.a.ERROR||n===ut.a.EMPTY||n===ut.a.ABORT){Object(f.c)(e,ct.a.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,a=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===ut.a.ABORT?a=!0:n!==ut.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&a&&this.tileChangeCallback_()},e}(ft),dt=n(111),yt=n(18),gt=n(16),vt=n(0),_t=n(20),mt=n(99),bt=n(49),Ot={LAYERS:"layers"},Et=function(t){function e(e){var n=e||{},i=Object(ht.a)({},n);delete i.layers;var o=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},Object(f.a)(this,Object(at.b)(Ot.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new r.a(o.slice(),{unique:!0}):Object(lt.a)("function"==typeof o.getArray,43):o=new r.a(void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.e),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(f.a)(t,o.a.ADD,this.handleLayersAdd_,this),Object(f.a)(t,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(f.e);Object(ht.b)(this.listenerKeys_);for(var n=t.getArray(),r=0,a=n.length;r<a;r++){var s=n[r];this.listenerKeys_[Object(i.c)(s)]=[Object(f.a)(s,st.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(s,ct.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.c)(e)]=[Object(f.a)(e,st.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(e,ct.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(i.c)(e);this.listenerKeys_[n].forEach(f.e),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(Ot.LAYERS)},e.prototype.setLayers=function(t){this.set(Ot.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var a=e[r];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==a.extent?a.extent=Object(vt.getIntersection)(a.extent,i.extent):a.extent=i.extent)}return e},e.prototype.getSourceState=function(){return bt.a.READY},e}(mt.a),Tt=n(44),St=n(9),xt=function(t){function e(e){t.call(this);var n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,a={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Et({layers:t.layers});return a[rt.LAYERGROUP]=s,a[rt.TARGET]=t.target,a[rt.VIEW]=void 0!==t.view?t.view:new dt.default,void 0!==t.controls&&(Array.isArray(t.controls)?n=new r.a(t.controls.slice()):(Object(lt.a)("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new r.a(t.interactions.slice()):(Object(lt.a)("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new r.a(t.overlays.slice()):(Object(lt.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new r.a,{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:a}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:c.b,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(St.c)(),this.pixelToCoordinateTransform_=Object(St.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(c.i?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[ct.a.CLICK,ct.a.DBLCLICK,ct.a.MOUSEDOWN,ct.a.TOUCHSTART,ct.a.MSPOINTERDOWN,l.a.POINTERDOWN,ct.a.MOUSEWHEEL,ct.a.WHEEL],s=0,u=i.length;s<u;++s)Object(f.a)(this.overlayContainerStopEvent_,i[s],a.b);for(var h in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new nt(this,e.moveTolerance),l.a)Object(f.a)(this.mapBrowserEventHandler_,l.a[h],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,Object(f.a)(this.viewport_,ct.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(f.a)(this.viewport_,ct.a.WHEEL,this.handleBrowserEvent,this),Object(f.a)(this.viewport_,ct.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new r.a,this.interactions=n.interactions||new r.a,this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new pt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(f.a)(this,Object(at.b)(rt.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(f.a)(this,Object(at.b)(rt.VIEW),this.handleViewChanged_,this),Object(f.a)(this,Object(at.b)(rt.SIZE),this.handleSizeChanged_,this),Object(f.a)(this,Object(at.b)(rt.TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(f.a)(this.controls,o.a.ADD,function(t){t.element.setMap(this)},this),Object(f.a)(this.controls,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(f.a)(this.interactions,o.a.ADD,function(t){t.element.setMap(this)},this),Object(f.a)(this.interactions,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(f.a)(this.overlays_,o.a.ADD,function(t){this.addOverlayInternal_(t.element)},this),Object(f.a)(this.overlays_,o.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(f.c)(this.viewport_,ct.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(f.c)(this.viewport_,ct.a.WHEEL,this.handleBrowserEvent,this),Object(f.c)(this.viewport_,ct.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(ct.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:_t.b;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||_t.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:_t.b,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(rt.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(St.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(rt.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(St.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(rt.SIZE)},e.prototype.getView=function(){return this.get(rt.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=n[0]-r.focus[0],a=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+a*a)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new u(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive()&&!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[yt.a.ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[yt.a.INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(ot.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var n=0,i=e.length;n<i;++n){var r=e[n];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(ot.a.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,a=0,s=o.length;a<s;++a)o[a](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(f.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(f.a)(i,ct.a.KEYDOWN,this.handleBrowserEvent,this),Object(f.a)(i,ct.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(ct.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(gt.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(ct.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(f.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(f.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(i.c)(t)),this.viewPropertyListenerKey_=Object(f.a)(t,st.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(f.a)(t,ct.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(f.e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(f.a)(t,st.a.PROPERTYCHANGE,this.render,this),Object(f.a)(t,ct.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),r=this.getView(),o=Object(vt.createEmpty)(),a=this.frameState_,u=null;if(void 0!==n&&Object(Tt.a)(n)&&r&&r.isDef()){for(var c=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=this.getLayerGroup().getLayerStatesArray(),h={},f=0,p=l.length;f<p;++f)h[Object(i.c)(l[f].layer)]=l[f];e=r.getState(this.pixelRatio_),u={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:h,layerStatesArray:l,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:c,wantedTiles:{}}}u&&(u.extent=Object(vt.getForViewAndSize)(e.center,e.resolution,e.rotation,u.size,o)),this.frameState_=u,this.renderer_.renderFrame(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),a&&(!this.previousExtent_||!Object(vt.isEmpty)(this.previousExtent_)&&!Object(vt.equals)(u.extent,this.previousExtent_))&&(this.dispatchEvent(new s(it.a.MOVESTART,this,a)),this.previousExtent_=Object(vt.createOrUpdateEmpty)(this.previousExtent_)),this.previousExtent_&&!u.viewHints[yt.a.ANIMATING]&&!u.viewHints[yt.a.INTERACTING]&&!Object(vt.equals)(u.extent,this.previousExtent_)&&(this.dispatchEvent(new s(it.a.MOVEEND,this,u)),Object(vt.clone)(u.extent,this.previousExtent_))),this.dispatchEvent(new s(it.a.POSTRENDER,this,u)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(rt.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(rt.SIZE,t)},e.prototype.setTarget=function(t){this.set(rt.TARGET,t)},e.prototype.setView=function(t){this.set(rt.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(i.c)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(i.c)(t)],this.render()},e}(at.a);e.default=xt},function(t,e,n){"use strict";n.r(e);var i=.5,r=n(2),o=n(7),a=n(29),s=n(48),u=n(5),c=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(u.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.a.LOADED){t.interimTile=null;break}t.getState()==o.a.LOADING?e=t:t.getState()==o.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Object(a.easeIn)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(s.a),l=n(16),h=n(1);function f(){var t=Object(l.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var p=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,a),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&(this.unlistenImage_(),this.image_=f()),this.interimTile&&this.interimTile.dispose(),this.state=o.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=f(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(h.b)(this.image_,u.a.ERROR,this.handleImageError_,this),Object(h.b)(this.image_,u.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.e),this.imageListenerKeys_=null},e}(c),d=n(97),y=n(34),g=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(y.b)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(y.c)(t.tileCoord)),t.dispose())},this)}},e}(d.a),v=n(8),_=n(0),m=n(6);function b(t,e,n,i){var r=n-t,o=i-e,a=Math.sqrt(r*r+o*o);return[Math.round(n+r/a),Math.round(i+o/a)]}var O=function(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var o={},a=Object(v.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(_.getWidth)(i)==Object(_.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(_.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(_.getWidth)(this.targetProj_.getExtent()):null;var s=Object(_.getTopLeft)(n),u=Object(_.getTopRight)(n),c=Object(_.getBottomRight)(n),l=Object(_.getBottomLeft)(n),h=this.transformInv_(s),f=this.transformInv_(u),p=this.transformInv_(c),d=this.transformInv_(l);if(this.addQuad_(s,u,c,l,h,f,p,d,10),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};O.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},O.prototype.addQuad_=function(t,e,n,i,r,o,a,s,u){var c=Object(_.boundingExtent)([r,o,a,s]),l=this.sourceWorldWidth_?Object(_.getWidth)(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&l>.5&&l<1,p=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=Object(_.boundingExtent)([t,e,n,i]);p=Object(_.getWidth)(d)/this.targetWorldWidth_>.25||p}!f&&this.sourceProj_.isGlobal()&&l&&(p=l>.25||p)}if(p||!this.maxSourceExtent_||Object(_.intersects)(c,this.maxSourceExtent_)){if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1]))){if(!(u>0))return;p=!0}if(u>0){if(!p){var y,g=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(g);y=f?(Object(m.d)(r[0],h)+Object(m.d)(a[0],h))/2-Object(m.d)(v[0],h):(r[0]+a[0])/2-v[0];var b=(r[1]+a[1])/2-v[1];p=y*y+b*b>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var O=[(e[0]+n[0])/2,(e[1]+n[1])/2],E=this.transformInv_(O),T=[(i[0]+t[0])/2,(i[1]+t[1])/2],S=this.transformInv_(T);this.addQuad_(t,e,O,T,r,o,E,S,u-1),this.addQuad_(T,O,n,i,S,E,a,s,u-1)}else{var x=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(x),w=[(n[0]+i[0])/2,(n[1]+i[1])/2],j=this.transformInv_(w);this.addQuad_(t,x,w,i,r,C,j,s,u-1),this.addQuad_(x,e,n,w,C,o,a,j,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,a,s),this.addTriangle_(t,e,n,r,o,a)}},O.prototype.calculateSourceExtent=function(){var t=Object(_.createEmpty)();return this.triangles_.forEach(function(e,n,i){var r=e.source;Object(_.extendCoordinate)(t,r[0]),Object(_.extendCoordinate)(t,r[1]),Object(_.extendCoordinate)(t,r[2])}),t},O.prototype.getTriangles=function(){return this.triangles_};var E=O,T=function(t){function e(e,n,r,a,s,u,c,l,h,f,p){t.call(this,s,o.a.IDLE),this.renderEdges_=void 0!==p&&p,this.pixelRatio_=c,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=a,this.wrappedTileCoord_=u||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=a.getTileCoordExtent(this.wrappedTileCoord_),y=this.targetTileGrid_.getExtent(),g=this.sourceTileGrid_.getExtent(),b=y?Object(_.getIntersection)(d,y):d;if(0!==Object(_.getArea)(b)){var O=e.getExtent();O&&(g=g?Object(_.getIntersection)(g,O):O);var T=a.getResolution(this.wrappedTileCoord_[0]),S=function(t,e,n,i){var r=Object(v.transform)(n,e,t),o=Object(v.getPointResolution)(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var u=t.getExtent();if(!u||Object(_.containsCoordinate)(u,r)){var c=Object(v.getPointResolution)(t,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}(e,r,Object(_.getCenter)(b),T);if(!isFinite(S)||S<=0)this.state=o.a.EMPTY;else{var x=void 0!==f?f:i;if(this.triangulation_=new E(e,r,b,g,S*x),0!==this.triangulation_.getTriangles().length){this.sourceZ_=n.getZForResolution(S);var C=this.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(C[1]=Object(m.a)(C[1],g[1],g[3]),C[3]=Object(m.a)(C[3],g[1],g[3])):C=Object(_.getIntersection)(C,g)),Object(_.getArea)(C)){for(var w=n.getTileRangeForExtentAndZ(C,this.sourceZ_),j=w.minX;j<=w.maxX;j++)for(var R=w.minY;R<=w.maxY;R++){var P=h(this.sourceZ_,j,R,c);P&&this.sourceTiles_.push(P)}0===this.sourceTiles_.length&&(this.state=o.a.EMPTY)}else this.state=o.a.EMPTY}else this.state=o.a.EMPTY}}else this.state=o.a.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==o.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],a=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,o,a,s,u,c,h){var f=Object(l.a)(Math.round(n*t),Math.round(n*e));if(0===u.length)return f.canvas;f.scale(n,n);var p=Object(_.createEmpty)();u.forEach(function(t,e,n){Object(_.extend)(p,t.extent)});var d=Object(_.getWidth)(p),y=Object(_.getHeight)(p),g=Object(l.a)(Math.round(n*d/i),Math.round(n*y/i)),v=n/i;u.forEach(function(t,e,n){var i=t.extent[0]-p[0],r=-(t.extent[3]-p[3]),o=Object(_.getWidth)(t.extent),a=Object(_.getHeight)(t.extent);g.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,i*v,r*v,o*v,a*v)});var O=Object(_.getTopLeft)(a);return s.getTriangles().forEach(function(t,e,r){var a=t.source,s=t.target,u=a[0][0],c=a[0][1],l=a[1][0],h=a[1][1],d=a[2][0],y=a[2][1],v=(s[0][0]-O[0])/o,_=-(s[0][1]-O[1])/o,E=(s[1][0]-O[0])/o,T=-(s[1][1]-O[1])/o,S=(s[2][0]-O[0])/o,x=-(s[2][1]-O[1])/o,C=u,w=c;u=0,c=0;var j=[[l-=C,h-=w,0,0,E-v],[d-=C,y-=w,0,0,S-v],[0,0,l,h,T-_],[0,0,d,y,x-_]],R=Object(m.e)(j);if(R){f.save(),f.beginPath();var P=(v+E+S)/3,I=(_+T+x)/3,k=b(P,I,v,_),L=b(P,I,E,T),M=b(P,I,S,x);f.moveTo(L[0],L[1]),f.lineTo(k[0],k[1]),f.lineTo(M[0],M[1]),f.clip(),f.transform(R[0],R[2],R[1],R[3],v,_),f.translate(p[0]-C,p[3]-w),f.scale(i/n,-i/n),f.drawImage(g.canvas,0,0),f.restore()}}),h&&(f.save(),f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-O[0])/o,a=-(i[0][1]-O[1])/o,s=(i[1][0]-O[0])/o,u=-(i[1][1]-O[1])/o,c=(i[2][0]-O[0])/o,l=-(i[2][1]-O[1])/o;f.beginPath(),f.moveTo(s,u),f.lineTo(r,a),f.lineTo(c,l),f.closePath(),f.stroke()}),f.restore()),f.canvas}(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.a.IDLE){this.state=o.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var r=e.getState();if(r==o.a.IDLE||r==o.a.LOADING){t++;var a=Object(h.a)(e,u.a.CHANGE,function(n){var i=e.getState();i!=o.a.LOADED&&i!=o.a.ERROR&&i!=o.a.EMPTY||(Object(h.e)(a),0==--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==o.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.e),this.sourcesListenerKeys_=null},e}(c),S=n(10);function x(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(r,function(){return(-a[2]-1).toString()}).replace(o,function(){var t=a[0],n=e.getFullTileRange(t);return Object(S.a)(n,55),(n.getHeight()+a[2]).toString()}):void 0}}function C(t,e,n){}var w=n(24),j=n(44),R=n(92),P=n(59),I=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new g(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var a,s,u,c=!0,l=n.minX;l<=n.maxX;++l)for(var h=n.minY;h<=n.maxY;++h)s=Object(y.d)(e,l,h),u=!1,r.containsKey(s)&&(u=(a=r.get(s)).getState()===o.a.LOADED)&&(u=!1!==i(a)),u||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return Object(r.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(P.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(v.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=Object(j.c)(i.getTileSize(t),this.tmpSize);return 1==r?o:Object(j.b)(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=Object(P.wrapX)(i,t,n)),Object(y.f)(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(R.a),k=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(w.a);function L(t,e){t.getImage().src=e}var M=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:Object(P.createXYZ)({extent:Object(P.extentFromProjection)(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:L,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Object(v.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Object(v.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Object(v.equivalent)(e,t)){var n=Object(r.c)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Object(P.getForProjection)(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Object(v.equivalent)(e,t))return this.tileCache;var n=Object(r.c)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new g(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,r,a){var s=[t,e,n],c=this.getTileCoordForTileUrlFunction(s,r),l=c?this.tileUrlFunction(c,i,r):void 0,f=new this.tileClass(s,void 0!==l?o.a.IDLE:o.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=a,Object(h.a)(f,u.a.CHANGE,this.handleTileChange,this),f},e.prototype.getTile=function(t,e,n,i,r){var o=this.getProjection();if(o&&r&&!Object(v.equivalent)(o,r)){var a,s=this.getTileCacheForProjection(r),u=[t,e,n],c=Object(y.c)(u);s.containsKey(c)&&(a=s.get(c));var l=this.getKey();if(a&&a.key==l)return a;var h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(u,r),d=new T(o,h,r,f,u,p,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=l,a?(d.interimTile=a,d.refreshInterimChain(),s.replace(c,d)):s.set(c,d),d}return this.getTileInternal(t,e,n,i,o||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var a=null,s=Object(y.d)(t,e,n),u=this.getKey();if(this.tileCache.containsKey(s)){if((a=this.tileCache.get(s)).key!=u){var c=a;a=this.createTile_(t,e,n,i,r,u),c.getState()==o.a.IDLE?a.interimTile=c.interimTile:a.interimTile=c,a.refreshInterimChain(),this.tileCache.replace(s,a)}}else a=this.createTile_(t,e,n,i,r,u),this.tileCache.set(s,a);return a},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Object(v.get)(t);if(n){var i=Object(r.c)(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):C,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=Object(r.c)(n),a=n.getState();a==o.a.LOADING?(this.tileLoadingKeys_[i]=!0,e="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=a==o.a.ERROR?"tileloaderror":a==o.a.LOADED||a==o.a.ABORT?"tileloadend":void 0),null!=e&&this.dispatchEvent(new k(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=x(t[r],e);return function(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=Object(y.e)(e),o=Object(m.d)(r,t.length);return t[o](e,n,i)}}}(i)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=Object(y.d)(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(I)));e.default=M},function(t,e,n){"use strict";n.r(e),n(15);var i=n(124),r=n.n(i),o=n(110),a=n.n(o),s=n(172);function u(t){var e=JSON.parse(t),n="",i=e[0][3];if(1===e[0][0]||1===e[1][0]||1===e[2][0]||1===e[3][0])return n+="<table class='detailTbl' cellspacing='0' cellpadding='0' border='1' class=\"customTable\">",n+="<caption>Age Groups</caption>",n+="<thead>",n+="<tr>",n+="<th>",n+="Group",n+="</th>",n+="<th>",n+="Min Age",n+="</th>",n+="<th>",n+="Max Age",n+="</th>",n+="</tr>",n+="</thead>",n+="<tbody>",e.forEach(function(t,e){n+=c(t,e)}),n+="</tbody>",""!=h(i)&&(n+="<tfoot>",n+="<tr>",n+="<td colspan='3' style='color:red;font-weight:bold'>",n+=h(i),n+="</td>",n+="</tr>",n+="</tfoot>"),n+="</table>"}function c(t,e){var n="";return 1===t[0]&&(n+="<tr>",n+="<td>",n+=0===e?"Infant":1===e?"Toddler":2===e?"Pre-School":"School",n+="</td>",n+="<td>",n+=l(t[1].toFixed(2)),n+="</td>",n+="<td>",n+=l(t[2].toFixed(2)),n+="</td>",n+="</tr>"),n}function l(t){var e=t.toString().split("."),n=parseInt(e[0]),i=parseInt(e[1]);return(0===n?"":n+(n>1?" yrs ":" yr "))+(0===i?"":i+(i>1?" mos":" mo"))}function h(t){switch(t){case 1:return"Open all year";case 2:return"Open during summer only";case 3:return"Day camp open during summer only";case 4:return"Country camp open during summer only";default:return""}}var f={decorations:[{extendFeature:function(){},html:function(){return $('<div class="facility"></div>').addClass(this.cssClass()).append(this.distanceHtml()).append(this.nameHtml()).append(this.distanceHtml(!0)).append(this.addressHtml()).append(this.phoneButton()).append(this.mapButton()).append(this.contactInfo()).append(this.directionsButton()).append(this.detailsCollapsible()).data("feature",this).mouseover($.proxy(this.handleOver,this)).mouseout($.proxy(this.handleOut,this))},getName:function(){return this.get("name")},getAddress:function(){return this.get("address")},getAddress1:function(){return this.getAddress()},getCityStateZip:function(){return""},getPhone:function(){return this.get("phone")},detailsHtml:function(){var t=this.get("levelofcare");return $("<div>"+u(t)+"</div>")},cssClass:function(){return this.get("model_type")},contactInfo:function(){var t=this.app,e=this;return $('<button class="btn rad-all vcard">Contact Info</button>').click(function(){var n=e.getName()+".vcf",i=function(t){return["vcard",[["version",{},"text","4.0"],["n",{},"text",[t.getName()]],["fn",{},"text",t.getName()],["photo",{mediatype:"image/gif"},"text","http://www.example.com/dir_photos/my_photo.gif"],["tel",{type:["work","voice"],value:"uri"},"uri",t.getPhone()],["tel",{type:["home","voice"],value:"uri"},"uri",t.getPhone()],["adr",{type:"work",label:t.getAddress1()},"text",["","",t.getAddress1()]],["adr",{type:"home",label:t.getAddress1()},"text",["","",t.getAddress1()]],["rev",{},"text","20080424T195243Z"]]]}(e),r=s.fromJSON(i);r.toString("4.0");try{var o=new Blob([r],{type:"text/plain",endings:"native"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(o,n);else{var a=window.URL.createObjectURL(o),u=document.createElement("a");u.href=a,u.download=n,u.click(),document.removeChild(u)}}catch(t){var c=new MSBlobBuilder;c.append(r);var l=c.getBlob("text/plain;charset=utf-8");window.navigator.msSaveBlob(l,n)}t.addToList(e)})}}],indDiv:h,GetAgeStringFromNumber:l,genLCRow:c,createLevelOfCareTable:u,getSchoolDistricts:function(){for(var t=new Array,e=new Array,n=1;n<=32;n++){n.toString().length<2&&(n="0"+n);for(var i=1;i<=32;i++)i.toString().length<2&&(i="0"+i),e.push(i.toString());t[1]={name:"school_district",values:e,label:"ALL",checked:!0},t.push({name:"school_district",values:[n.toString()],label:n.toString()})}return t}},p=n(93),d=n.n(p),y=n(65),g=n(86),v=n(56),_=n(61),m=n(103),b=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new v.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:m.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};b.prototype.clone=function(){return new b({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},b.prototype.getOverflow=function(){return this.overflow_},b.prototype.getFont=function(){return this.font_},b.prototype.getMaxAngle=function(){return this.maxAngle_},b.prototype.getPlacement=function(){return this.placement_},b.prototype.getOffsetX=function(){return this.offsetX_},b.prototype.getOffsetY=function(){return this.offsetY_},b.prototype.getFill=function(){return this.fill_},b.prototype.getRotateWithView=function(){return this.rotateWithView_},b.prototype.getRotation=function(){return this.rotation_},b.prototype.getScale=function(){return this.scale_},b.prototype.getStroke=function(){return this.stroke_},b.prototype.getText=function(){return this.text_},b.prototype.getTextAlign=function(){return this.textAlign_},b.prototype.getTextBaseline=function(){return this.textBaseline_},b.prototype.getBackgroundFill=function(){return this.backgroundFill_},b.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},b.prototype.getPadding=function(){return this.padding_},b.prototype.setOverflow=function(t){this.overflow_=t},b.prototype.setFont=function(t){this.font_=t},b.prototype.setMaxAngle=function(t){this.maxAngle_=t},b.prototype.setOffsetX=function(t){this.offsetX_=t},b.prototype.setOffsetY=function(t){this.offsetY_=t},b.prototype.setPlacement=function(t){this.placement_=t},b.prototype.setFill=function(t){this.fill_=t},b.prototype.setRotation=function(t){this.rotation_=t},b.prototype.setScale=function(t){this.scale_=t},b.prototype.setStroke=function(t){this.stroke_=t},b.prototype.setText=function(t){this.text_=t},b.prototype.setTextAlign=function(t){this.textAlign_=t},b.prototype.setTextBaseline=function(t){this.textBaseline_=t},b.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},b.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},b.prototype.setPadding=function(t){this.padding_=t};var O=b,E=function(t,e){return d.a.TILE_GRID.getZForResolution(e),new y.default({image:new g.default({src:"img/".concat(t.get("model_type"),".png"),scale:.375})})},T=function(t,e){var n=8*(d.a.TILE_GRID.getZForResolution(e)-10)+16;return n<=0&&(n=12),new y.default({fill:new v.default({color:"rgba(0, 0, 0, 0)"}),stroke:new _.default({color:"#319FD3",width:1}),text:new O({text:"".concat(t.get("NAME")),font:"".concat(n,"px Calibri,sans-serif"),fill:new v.default({color:"#808080"}),stroke:new _.default({color:"#fff",width:3})})})},S=n(72),x=n(57),C=n(94),w=n(63),j=n(95),R=n(75),P=n(105),I=n(46),k=n(39),L=n(8),M={Point:function(t,e,n){var i=t.coordinates;return e&&n&&G(i,e,n),new I.default(i)},LineString:function(t,e){var n=A(t.arcs,e);return new w.default(n)},Polygon:function(t,e){for(var n=[],i=0,r=t.arcs.length;i<r;++i)n[i]=A(t.arcs[i],e);return new k.b(n)},MultiPoint:function(t,e,n){var i=t.coordinates;if(e&&n)for(var r=0,o=i.length;r<o;++r)G(i[r],e,n);return new R.a(i)},MultiLineString:function(t,e){for(var n=[],i=0,r=t.arcs.length;i<r;++i)n[i]=A(t.arcs[i],e);return new j.a(n)},MultiPolygon:function(t,e){for(var n=[],i=0,r=t.arcs.length;i<r;++i){for(var o=t.arcs[i],a=[],s=0,u=o.length;s<u;++s)a[s]=A(o[s],e);n[i]=a}return new P.a(n)}};function A(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;++o)n=t[o],o>0&&r.pop(),i=n>=0?e[n]:e[~n].slice().reverse(),r.push.apply(r,i);for(var s=0,u=r.length;s<u;++s)r[s]=r[s].slice();return r}function F(t,e,n,i,r,o,a){for(var s=t.geometries,u=[],c=0,l=s.length;c<l;++c)u[c]=D(s[c],e,n,i,r,o,a);return u}function D(t,e,n,i,r,o,a){var s,u=t.type,c=M[u];s="Point"===u||"MultiPoint"===u?c(t,n,i):c(t,e);var l=new S.default;l.setGeometry(Object(x.transformWithOptions)(s,!1,a)),void 0!==t.id&&l.setId(t.id);var h=t.properties;return r&&(h||(h={}),h[r]=o),h&&l.setProperties(h),l}function N(t,e,n){for(var i=0,r=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=s[0],r+=s[1],s[0]=i,s[1]=r,G(s,e,n)}}function G(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}var Y=function(t){function e(e){t.call(this);var n=e||{};this.layerName_=n.layerName,this.layers_=n.layers?n.layers:null,this.dataProjection=Object(L.get)(n.dataProjection?n.dataProjection:"EPSG:4326")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var n,i=t,r=null,o=null;i.transform&&(r=(n=i.transform).scale,o=n.translate);var a=i.arcs;n&&function(t,e,n){for(var i=0,r=t.length;i<r;++i)N(t[i],e,n)}(a,r,o);var s,u=[],c=i.objects,l=this.layerName_;for(var h in c)this.layers_&&-1==this.layers_.indexOf(h)||("GeometryCollection"===c[h].type?(s=c[h],u.push.apply(u,F(s,a,r,o,l,h,e))):(s=c[h],u.push(D(s,a,r,o,l,h,e))));return u}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(C.a),B=n(71),U=n(81);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}new(function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,H(e).call(this,{title:"Childcare Providers",geoclientUrl:"https:///geoclient/v1/search.json?app_key=74DF5DB1D7320A9A2&app_id=nyc-lib-example",facilityTabTitle:"Childcare Providers",facilityUrl:"data/programs.csv",facilityFormat:new a.a({x:"lon",y:"lat",dataProjection:"EPSG:4326"}),facilityStyle:E,filterChoiceOptions:[{title:"Program Type",radio:!1,choices:[{name:"model_type",values:["GC"],label:"Child care",checked:!0},{name:"model_type",values:["GD"],label:"Dual",checked:!0},{name:"model_type",values:["GH"],label:"Headstart",checked:!0},{name:"model_type",values:["PP"],label:"Voucher",checked:!0}]},{title:"Borough",radio:!0,choices:[{name:"boro",values:["MN"],label:"Manhattan"},{name:"boro",values:["BX"],label:"Bronx"},{name:"boro",values:["QN"],label:"Queens"},{name:"boro",values:["SI"],label:"Staten Island"},{name:"boro",values:["BK"],label:"Brooklyn"}]},{title:"School District",radio:!1,choices:f.getSchoolDistricts()}],facilitySearch:{nameField:"name"},decorations:f.decorations,directionsUrl:"https://maps.googleapis.com/maps/api/js?&sensor=false&libraries=visualization"}))).addSchoolDist(i.map),i}var n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,r.a),n=e,(i=[{key:"addSchoolDist",value:function(t){var e=new B.default({url:"data/school-district.json",format:new Y}),n=new U.default({source:e,style:T});t.addLayer(n)}},{key:"addToList",value:function(t){console.warn("adding",t)}}])&&z(n.prototype,i),e}())},function(t,e,n){"use strict";n.r(e);var i=n(29),r=n(30),o=n(0),a=n(24),s=n(20),u=n(66),c=n(73),l=n(39),h=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new l.b([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(c.a),f=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.a),p=function(t){function e(e){var n=e||{},i=n.condition?n.condition:r.e;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:d}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this);var n=e||{};this.box_=new h(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:s.c,this.startPixel_=null,this.condition_=n.condition?n.condition:r.a,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(r.c)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new f("boxdrag",t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(r.c)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new f("boxend",t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!(!Object(r.c)(t)||!Object(r.b)(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new f("boxstart",t.coordinate,t)),0))},e}(u.b));function d(){var t=this.getMap(),e=t.getView(),n=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var a=e.calculateExtent(n),s=Object(o.createOrUpdateFromCoordinates)([t.getPixelFromCoordinate(Object(o.getBottomLeft)(r)),t.getPixelFromCoordinate(Object(o.getTopRight)(r))]),u=e.getResolutionForExtent(s,n);Object(o.scaleFromCenter)(a,1/u),r=a}var c=e.constrainResolution(e.getResolutionForExtent(r,n)),l=Object(o.getCenter)(r);l=e.constrainCenter(l),e.animate({resolution:c,center:l,duration:this.duration_,easing:i.easeOut})}e.default=p},function(t,e,n){"use strict";n.r(e);var i=n(9),r=n(12),o=n(77),a=n(16),s=n(58),u=n(102),c=n(40),l=n(4),h=n(100),f=n(2),p=n(73),d=n(1),y=n(5),g=n(0),v=n(20),_=n(83);function m(t,e){_.a.expire()}function b(t,e){return t.zIndex-e.zIndex}var O=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(f.b)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Object(i.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(i.d)(Object(i.g)(r,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,a){var u,c=e.viewState,l=c.resolution;function h(t,n){var o=e.layerStates[Object(f.c)(n)].managed;if(!(Object(f.c)(t)in e.skippedFeatureUids)||o)return i.call(r,t,o?n:null)}var p=c.projection,d=t;if(p.canWrapX()){var y=p.getExtent(),v=Object(g.getWidth)(y),_=t[0];(_<y[0]||_>y[2])&&(d=[_+v*Math.ceil((y[0]-_)/v),t[1]])}var m,b=e.layerStatesArray;for(m=b.length-1;m>=0;--m){var O=b[m],E=O.layer;if(Object(s.b)(O,l)&&o.call(a,E)){var T=this.getLayerRenderer(E),S=E.getSource();if(S&&(u=T.forEachFeatureAtCoordinate(S.getWrapX()?d:t,e,n,h)),u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,a){return Object(f.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,v.b,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=Object(f.c)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,i=0,r=this.layerRendererConstructors_.length;i<r;++i){var o=this.layerRendererConstructors_[i];if(o.handles(t)){n=o.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=Object(d.a)(n,y.a.CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(d.e)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){Object(f.b)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(m)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(p.a),E=n(49);n.d(e,"layerRendererConstructors",function(){return T});var T=[],S=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=Object(a.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=o.b,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(i.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),c=new h.a(i,o,r,s,a),l=new u.a(t,c,e,i,null);n.dispatchEvent(l)}},e.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,r=this.canvas_.height/2,o=t.pixelRatio/e.resolution,a=-o,s=-e.rotation,u=-e.center[0],c=-e.center[1];return Object(i.b)(this.transform_,n,r,o,a,s,u,c)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),o=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=o?(this.canvas_.width=i,this.canvas_.height=o):e.clearRect(0,0,i,o);var a=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(c.a.PRECOMPOSE,t);var u=t.layerStatesArray;Object(r.j)(u,b),a&&(e.save(),Object(l.s)(e,a,i/2,o/2));var h,f,p=t.viewState.resolution;for(h=0,f=u.length;h<f;++h){var d=u[h],y=d.layer,g=this.getLayerRenderer(y);Object(s.b)(d,p)&&d.sourceState==E.a.READY&&g.prepareFrame(t,d)&&g.composeFrame(t,d,e)}a&&e.restore(),this.dispatchRenderEvent(c.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o,a,u){var c,l,h=e.viewState.resolution,f=e.layerStatesArray,p=f.length,d=Object(i.a)(e.pixelToCoordinateTransform,t.slice());for(l=p-1;l>=0;--l){var y=f[l],g=y.layer;if(Object(s.b)(y,h)&&a.call(u,g)&&(c=this.getLayerRenderer(g).forEachLayerAtCoordinate(d,e,n,r,o)))return c}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var o=e[n];Object(r.d)(T,o)||T.push(o)}},e}(O);e.default=S},function(t,e,n){"use strict";n.r(e);var i=n(43),r=n(5),o={LEFT:37,UP:38,RIGHT:39,DOWN:40},a=n(30),s=n(31),u=function(t){function e(e){t.call(this,{handleEvent:c});var n=e||{};this.defaultCondition_=function(t){return Object(a.d)(t)&&Object(a.f)(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a);function c(t){var e=!1;if(t.type==r.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==o.DOWN||n==o.LEFT||n==o.RIGHT||n==o.UP)){var a=t.map.getView(),u=a.getResolution()*this.pixelDelta_,c=0,l=0;n==o.DOWN?l=-u:n==o.LEFT?c=-u:n==o.RIGHT?c=u:l=u;var h=[c,l];Object(i.rotate)(h,a.getRotation()),Object(s.b)(a,h,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=u},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n(54),o=n(7),a=n(18),s=n(16),u=n(1),c=n(5),l=n(74),h=n.n(l),f=n(0),p={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},d=n(8),y=n(27),g=n(13),v=n(4),_=n(84),m=n(45),b=n(112),O=n(53),E=n(9),T={image:[g.a.POLYGON,g.a.CIRCLE,g.a.LINE_STRING,g.a.IMAGE,g.a.TEXT],hybrid:[g.a.POLYGON,g.a.LINE_STRING]},S={image:[g.a.DEFAULT],hybrid:[g.a.IMAGE,g.a.TEXT,g.a.DEFAULT],vector:m.a},x=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?h()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(E.c)();var n=e.getRenderMode();this.zDirection=n===p.VECTOR?1:0,n!==p.VECTOR&&(this.context=Object(s.a)()),Object(u.a)(v.o,c.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(u.c)(v.o,c.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,a){var s=t.prototype.getTile.call(this,e,n,i,r,a);return s.getState()===o.a.LOADED&&(this.createReplayGroup_(s,r,a),this.context&&this.renderTileImage_(s,r,a)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),a=r.getRevision(),s=r.getRenderOrder()||null,u=t.getReplayState(r);if(u.dirty||u.renderedRevision!=a||u.renderedRenderOrder!=s){for(var c=r.getSource(),l=c.getTileGrid(),h=c.getTileGridForProjection(n).getResolution(t.tileCoord[0]),p=t.extent,g=function(a,g){var v=t.getTile(t.tileKeys[a]);if(v.getState()==o.a.LOADED){var m=v.tileCoord,b=l.getTileCoordExtent(m),E=Object(f.getIntersection)(p,b),T=Object(f.equals)(b,E)?null:Object(f.buffer)(E,r.getRenderBuffer()*h,i.tmpExtent),S=v.getProjection(),x=!1;Object(d.equivalent)(n,S)||(x=!0,v.setProjection(n)),u.dirty=!1;var C=new _.a(0,E,h,e,c.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),w=Object(O.b)(h,e),j=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,h)),e){var i=this.renderFeature(t,w,e,C);this.dirty_=this.dirty_||i,u.dirty=u.dirty||i}},R=v.getFeatures();s&&s!==u.renderedRenderOrder&&R.sort(s);for(var P=0,I=R.length;P<I;++P){var k=R[P];x&&(S.getUnits()==y.b.TILE_PIXELS&&(S.setWorldExtent(b),S.setExtent(v.getExtent())),k.getGeometry().transform(S,n)),T&&!Object(f.intersects)(T,k.getGeometry().getExtent())||j.call(i,k)}C.finish(),v.setReplayGroup(r,t.tileCoord.toString(),C)}},v=0,m=t.tileKeys.length;v<m;++v)g(v);u.renderedRevision=a,u.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,a){var s=e.viewState.resolution,u=e.viewState.rotation;n=null==n?0:n;var c,l,h,p,d=this.getLayer(),y={},g=this.renderedTiles;for(h=0,p=g.length;h<p;++h){var v=g[h];if(c=Object(f.buffer)(v.extent,n*s,c),Object(f.containsCoordinate)(c,t))for(var _=0,m=v.tileKeys.length;_<m;++_){var b=v.getTile(v.tileKeys[_]);if(b.getState()==o.a.LOADED){var O=b.getReplayGroup(d,v.tileCoord.toString());l=l||O.forEachFeatureAtCoordinate(t,s,u,n,{},function(t){var e=Object(i.c)(t);if(!(e in y))return y[e]=!0,r.call(a,t,d)},null)}}}return l},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,u=n.getTileCoordExtent(i,this.tmpExtent),c=o.center,l=Object(f.getTopLeft)(u),h=e.size,p=Math.round(a*h[0]/2),d=Math.round(a*h[1]/2);return Object(E.b)(this.tmpTransform_,p,d,r/s,r/s,o.rotation,(l[0]-c[0])/r,(c[1]-l[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),s=r.getRenderMode();if(s!=p.IMAGE){var u,c,l=r.getDeclutter()?{}:null,h=r.getSource(),f=S[s],d=n.pixelRatio,y=n.viewState.rotation,g=n.size;y&&(u=Math.round(d*g[0]/2),c=Math.round(d*g[1]/2),Object(v.s)(e,-y,u,c)),l&&this.declutterTree_.clear();for(var m=n.viewHints,b=!(m[a.a.ANIMATING]||m[a.a.INTERACTING]),O=this.renderedTiles,E=h.getTileGridForProjection(n.viewState.projection),T=[],x=[],C=O.length-1;C>=0;--C){var w=O[C];if(w.getState()!=o.a.ABORT)for(var j=w.tileCoord,R=E.getTileCoordExtent(j,this.tmpExtent)[0]-w.extent[0],P=void 0,I=0,k=w.tileKeys.length;I<k;++I){var L=w.getTile(w.tileKeys[I]);if(L.getState()==o.a.LOADED){var M=L.getReplayGroup(r,j.toString());if(M&&M.hasReplays(f)){P||(P=this.getTransform(n,R));var A=L.tileCoord[0],F=M.getClipCoords(P);e.save(),e.globalAlpha=i.opacity;for(var D=0,N=T.length;D<N;++D){var G=T[D];A<x[D]&&(e.beginPath(),e.moveTo(F[0],F[1]),e.lineTo(F[2],F[3]),e.lineTo(F[4],F[5]),e.lineTo(F[6],F[7]),e.moveTo(G[6],G[7]),e.lineTo(G[4],G[5]),e.lineTo(G[2],G[3]),e.lineTo(G[0],G[1]),e.clip())}M.replay(e,P,y,{},b,f,l),e.restore(),T.push(F),x.push(A)}}}}l&&Object(_.b)(l,e,y,b),y&&Object(v.s)(e,y,u,c)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)r=Object(O.d)(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=Object(O.d)(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),a=i.getRevision(),s=T[i.getRenderMode()];if(s&&r.renderedTileRevision!==a){r.renderedTileRevision=a;var u=t.wrappedTileCoord,c=u[0],l=i.getSource(),h=l.getTileGridForProjection(n),f=h.getResolution(c),p=t.getContext(i),d=l.getTilePixelSize(c,e,n);p.canvas.width=d[0],p.canvas.height=d[1];for(var y=h.getTileCoordExtent(u,this.tmpExtent),g=0,v=t.tileKeys.length;g<v;++g){var _=t.getTile(t.tileKeys[g]);if(_.getState()==o.a.LOADED){var m=e/f,b=Object(E.e)(this.tmpTransform_);Object(E.f)(b,m,-m),Object(E.h)(b,-y[0],-y[3]),_.getReplayGroup(i,t.tileCoord.toString()).replay(p,b,0,{},!0,s)}}}},e}(b.default);x.handles=function(t){return t.getType()===r.a.VECTOR_TILE},x.create=function(t,e){return new x(e)},e.default=x},function(t,e,n){"use strict";n.r(e);var i=n(54),r=n(58),o="preload",a="useInterimTilesOnError",s=n(11),u=function(t){function e(e){var n=e||{},r=Object(s.a)({},n);delete r.preload,delete r.useInterimTilesOnError,t.call(this,r),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=i.a.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(a)},e.prototype.setUseInterimTilesOnError=function(t){this.set(a,t)},e}(r.a);u.prototype.getSource,e.default=u}]);